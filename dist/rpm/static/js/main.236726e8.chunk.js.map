{"version":3,"sources":["components/Crf_form/17_THERAPY_form.jsx","components/Crf_form/16_form_table.jsx","utils/formValidate.js","components/Crf_form/17_AE_form.jsx","components/Crf_form/17_SAE_form.jsx","assets/images/default-user.jpg","assets/images/cc-lock.png","views/im/images/icon-friend.png","utils/crfForm.js","components/Crf_form sync /^/.*_form/.jsx$","components/Crf_form/10_form.jsx","components/Crf_form/11_form.jsx","components/Crf_form/12_form.jsx","components/Crf_form/13_form.jsx","components/Crf_form/14_form.jsx","components/Crf_form/16_form.jsx","components/Crf_form/17_form.jsx","components/Crf_form/18_form.jsx","components/Crf_form/19_form.jsx","components/Crf_form/20_form.jsx","components/Crf_form/21_form.jsx","components/Crf_form/22_form.jsx","components/Crf_form/23_form.jsx","components/Crf_form/2_form.jsx","components/Crf_form/3_form.jsx","components/Crf_form/4_form.jsx","components/Crf_form/5_form.jsx","components/Crf_form/6_form.jsx","components/Crf_form/7_form.jsx","components/Crf_form/8_form.jsx","components/Crf_form/9_form.jsx","components/Crf_form/test_form.jsx","utils/formItemLayout.js","utils/index.js","components/MyMenu.jsx","configs/index.js","utils/request.js","apis/user.js","apis/relation.js","utils/validate.js","views/common/layout.js","views/index.js","apis/im.js","configs/im.js","redux/state.js","redux/reducer/index.js","redux/reducer/im.js","redux/reducer/menu.js","redux/reducer/user.js","redux/store.js","redux/actions/im.js","redux/actions/index.js","redux/actions/user.js","redux/actions/menu.js","apis/sms.js","views/user/login.js","views/common/404.js","views/user/signup.js","components/PageHeader.jsx","views/patient/patient.js","apis/healthdata.js","utils/format.js","utils/enum.js","views/patient/components/dataTable.js","views/patient/components/dataChart.js","apis/plan.js","views/patient/components/measurement.js","views/patient/components/baseInfo.js","views/patient/components/medicalRecord.js","components/Crf_form/index.jsx","components/CrfFormNode.jsx","apis/crf.js","views/patient/components/followup.js","views/patient/archives.js","views/plan/plan.js","views/plan/edit.js","views/plan/followUp.js","views/plan/measurement.js","apis/patient.js","views/im/components/leftSession.js","views/im/components/imageViewer.js","views/im/components/chatBoard.js","views/im/im.js","views/crf/crf.js","views/crf/process.js","views/crf/detail.js","views/user/components/info.js","views/user/components/updatePassword.js","views/user/components/certification.js","views/user/center.js","views/project/components/follow.js","views/project/components/measure.js","views/project/project.js","routes/index.js","components/RouteWithSubRoutes.jsx","App.js","index.js","components/Crf_form/15_form_table.jsx","components/Crf_form/15_form.jsx"],"names":["FormItem","antd_es_form__WEBPACK_IMPORTED_MODULE_18__","Item","Option","antd_es_select__WEBPACK_IMPORTED_MODULE_16__","TheRapyForm","_this","this","formData","props","data","tableData","name","map","item","index","key","getFieldDecorator","form","renderContent","moment","startDate","endDate","text","row","type","proper","options","initialValue","react__WEBPACK_IMPORTED_MODULE_19___default","a","createElement","antd_es_button__WEBPACK_IMPORTED_MODULE_9__","onClick","handleDelete","onChange","value","handleChange","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_7__","date","antd_es_input__WEBPACK_IMPORTED_MODULE_5__","event","columns","title","align","dataIndex","render","width","antd_es_table__WEBPACK_IMPORTED_MODULE_1__","pagination","bordered","dataSource","footer","handleAdd","antd_es_icon__WEBPACK_IMPORTED_MODULE_3__","Component","antd_es_form__WEBPACK_IMPORTED_MODULE_16__","MyTable","rules","validator","validDoubleNumber","react__WEBPACK_IMPORTED_MODULE_17___default","rowKey","__webpack_require__","d","__webpack_exports__","validChinese","validIntNumber","rule","callback","test","AeForm","antd_es_select__WEBPACK_IMPORTED_MODULE_14__","antd_es_form__WEBPACK_IMPORTED_MODULE_12__","SaeForm","RangePicker","state","e","_this2","preventDefault","validateFields","err","values","onSubmit","reportDate","initials","gender","age","saeName","situationFlag","situationDeathDate","situationOther","happenDate","learnDate","measureFlag","lapseFlag","researchMedicineRelation","deathHandleDetail","_this$props$form","getFieldValue","formItemLayout","labelCol","xs","span","sm","wrapperCol","formItemLayout2","react__WEBPACK_IMPORTED_MODULE_15___default","style","styles","wrap","Object","assign","label","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_10__","antd_es_input__WEBPACK_IMPORTED_MODULE_3__","antd_es_checkbox__WEBPACK_IMPORTED_MODULE_1__","Group","className","indexOf","margin","split","TextArea","padding","border","module","exports","p","formNameObj","getFilterProper","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","./10_form.jsx","./11_form.jsx","./12_form.jsx","./13_form.jsx","./14_form.jsx","./15_form.jsx","./16_form.jsx","./17_AE_form.jsx","./17_SAE_form.jsx","./17_THERAPY_form.jsx","./17_form.jsx","./18_form.jsx","./19_form.jsx","./20_form.jsx","./21_form.jsx","./22_form.jsx","./23_form.jsx","./2_form.jsx","./3_form.jsx","./4_form.jsx","./5_form.jsx","./6_form.jsx","./7_form.jsx","./8_form.jsx","./9_form.jsx","./test_form.jsx","webpackContext","req","id","webpackContextResolve","Error","code","keys","resolve","Module4","_this$props$formData","cervicalThickness","arterialPlaqueFlag","arteriosclerosisFlag","arterialStenosisFlag","arterialStenosisPercent","react__WEBPACK_IMPORTED_MODULE_13___default","labelAlign","handleSubmit","bind","addonBefore","addonAfter","antd_es_radio__WEBPACK_IMPORTED_MODULE_3__","canSave","antd_es_button__WEBPACK_IMPORTED_MODULE_1__","disabled","onCancel","ThisForm","create","onValuesChange","changedValues","allValues","setCanSave","antd_es_form__WEBPACK_IMPORTED_MODULE_10__","Module11","lowerArteryFlag","react__WEBPACK_IMPORTED_MODULE_11___default","ophthalmologyFlag","diabeticRetinopathyFlag","diabeticRetinopathyOd","diabeticRetinopathyOs","macularOedemaFlag","macularOedemaOd","macularOedemaOs","antd_es_radio__WEBPACK_IMPORTED_MODULE_5__","abiOffside","abiLeftside","fattyLiverFlag","fattyLiverOtherFlag","antd_es_form__WEBPACK_IMPORTED_MODULE_8__","bloodSugarReportList","length","valueOf","target","setState","JSON","parse","stringify","concat","splice","react__WEBPACK_IMPORTED_MODULE_9___default","_16_form_table_jsx__WEBPACK_IMPORTED_MODULE_10__","antd_es_form__WEBPACK_IMPORTED_MODULE_11__","format","aeReport","pharmacy","x","saeReport","join","saeFlag","E_web_work_rpm_erpm_static_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__","_React$createElement","_React$createElement2","aeFlag","pharmacyFlag","react__WEBPACK_IMPORTED_MODULE_12___default","_17_AE_form__WEBPACK_IMPORTED_MODULE_13__","_17_SAE_form__WEBPACK_IMPORTED_MODULE_14__","_17_THERAPY_form__WEBPACK_IMPORTED_MODULE_15__","antd_es_form__WEBPACK_IMPORTED_MODULE_14__","expectedFollowDate","Date","getTime","medicineGrantFlag","medicineGlargineDosage","medicineMelbineDosage","antd_es_radio__WEBPACK_IMPORTED_MODULE_7__","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_3__","disabledDate","getDisabledDate","urAlbumen","urKetoneBody","urRbc","urSugar","urWbc","urAlbumen_plus","urKetoneBody_plus","urRbc_plus","urSugar_plus","urWbc_plus","colSpan","rowSpan","children","obj","layout","antd_es_table__WEBPACK_IMPORTED_MODULE_3__","time","key1","key2","key3","relieveFlag","other","formInput","marginTop","fontSize","borderLeft","paddingLeft","followResearchFlag","Module2","birthday","sex","minority","job","educationDegree","incomeLevel","phoneLink","addressLink","antd_es_form__WEBPACK_IMPORTED_MODULE_17__","CheckboxGroup","antd_es_checkbox__WEBPACK_IMPORTED_MODULE_15__","Module3","dyslipidemiaFlag","hypertensionFlag","hyperuricemiaFlag","hypertensionDuration","hypertensionDurationYear","hypertensionDurationMonth","dyslipidemiaDuration","dyslipidemiaDurationYear","dyslipidemiaDurationMonth","hyperuricemiaDuration","hyperuricemiaDurationYear","hyperuricemiaDurationMonth","fattyLiverDuration","fattyLiverDurationYear","fattyLiverDurationMonth","dyslipidemiaAntilipemicFlag","dyslipidemiaAntilipemicPharmacy","hypertensionPharmacyType","hypertensionPharmacy","E_web_work_rpm_erpm_static_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__","diabetesDate","diabetesSymptomFlag","diabetesSymptomDuration","diabetesSymptom","diabetesFamilyFlag","drinkFlag","drinkYearNum","drinkAvgQuantity","drinkType","drinkAbstinenceFlag","drinkAbstinenceYearNum","smokeFlag","smokeYearNum","smokeAvgQuantity","smokeAbstinenceFlag","smokeAbstinenceYearNum","hypertensionPharmacyTypeOther","dyslipidemiaHypertriglyceridemiaFlag","dyslipidemiaHighCholesterolFlag","dyslipidemiaHdlCholesterolFlag","dyslipidemiaLdlCholesterolFlag","hyperuricemiaDrugsTherapy","fattyLiverDrugsTherapy","gestationalDiabetesFlag","react__WEBPACK_IMPORTED_MODULE_18___default","marginBottom","maxWidth","_17_THERAPY_form__WEBPACK_IMPORTED_MODULE_21__","cerebrovascularDuration","cerebrovascularDurationYear","cerebrovascularDurationMonth","vascularReconstructionDate","vascularReconstructionDateYear","vascularReconstructionDateMonth","atheroscleroticHeartDuration","atheroscleroticHeartDurationYear","atheroscleroticHeartDurationMonth","diabeticComplicationFlag","diabeticComplicationExplain","diabeticRetinopathyStage","diabeticNephropathyFlag","diabeticNephropathyStage","diabeticNeuropathyFlag","diabeticNeuropathyType","diabeticMacroangiopathyFlag","atheroscleroticHeartFlag","vascularReconstructionFlag","cerebrovascularFlag","diabeticMacroangiopathyOtherFlag","diabeticMacroangiopathyOtherExplain","systolicPressure","diastolicPressure","heartRate","weight","height","bmi","waistline","hipline","physicalOtherFlag","physicalOtherExplain","pelma10NylonWireLeftFlag","pelma10NylonWireLeftNum","pelma10NylonWireRightFlag","pelma10NylonWireRightNum","slice","antd_es_input__WEBPACK_IMPORTED_MODULE_7__","antd_es_checkbox__WEBPACK_IMPORTED_MODULE_5__","htmlType","space","ecgFlag","ecgExplain","Test","react__WEBPACK_IMPORTED_MODULE_5___default","Fragment","formItemLayoutTitle","tailFormItemLayoutTitle","offset","tailFormItemLayout","getQueryString","search","reg","RegExp","r","substr","match","getQueryObject","objStr","arr","setLocal","window","localStorage","setItem","getLocal","getItem","removeLocal","removeItem","delCookie","domain","path","document","cookie","location","hostname","parseTime","fmt","arguments","undefined","o","M+","getMonth","D+","getDate","h+","getHours","H+","m+","getMinutes","s+","getSeconds","q+","Math","floor","S","getMilliseconds","k","replace","$1","getFullYear","getDay","getRouterKey","pathname","routers","pathKey","i","setArrayItem","array","num","randomWord","randomFlag","min","max","str","range","round","random","deleteTableItem","table","countDown","cb","timer","setInterval","clearInterval","throttle","func","wait","context","args","result","timeout","previous","later","leading","apply","now","remaining","clearTimeout","trailing","setTimeout","buttonAuth","buttonKeys","ele","results","filterMenu","asyncRoutes","routes","menukey","menu","push","SubMenu","MyMenu","selectedKey","accessRouter","_this$state","MyMenuItem","createMenu","router","Array","forEach","checkValuesAllTrue","_react_16_8_4_react_default","icon","meta","lineHeight","Link","to","theme","mode","selectedKeys","withRouter","connect","config","server","localhost","static-qa2.lifesense.com","static-qa.lifesense.com","appType","axios","defaults","withCredentials","request","baseURL","configs","params","headers","Content-Type","interceptors","use","uuid","v1","error","Promise","reject","response","res","notification","message","msg","SERVICE_NAME","logout","url","userInfo","method","updateUserPassword","updateDoctorUserInfo","updatePatientInfo","updateAccount","findPassword","getButton","bindPatient","createGroup","updateGroup","deleteGroup","findPatientList","findMedicalRecord","findPatient","isPhoneNumber","phone","isPassword","password","isMeasureTypeFull","typeArray","Header","Content","Sider","es_form","RadioGroup","es_radio","RadioButton","Button","MyLayoutForm","collapsed","visible","addPatientVisible","groupId","subGroupId","submitDisabled","errorMessage","addModalState","wxAddWords","userItem","userCenterVisible","updatePhoneVisible","changePasswordVisible","addSubmitLoading","customizeGroup","classesGroup","showCustomize","addState","newGroupName","addBtnState","customizeAdd","onCollapse","onClose","handleLogout","then","href","user","actionFindGroup","self","realName","mobile","treatmentRemark","topicId","defineProperty","isPersonName","actionBindPatient","history","actionCreateGroup","groupName","group","success","catch","patient","groups","nodes","showSelf","_this3","_this$state2","moreBtn","classesItem","customizeItem","addModalArray","input","placeholder","handleInput","onBlur","handleBlurInput","onFocus","handleFocusInput","handleSelectGroup","handleSelectGroup2","marginRight","es_button","handleShowAddBox","handleNewGroupName","cursor","handleAddGroup","color","handleCancelAddGroup","autosize","minRows","es_alert","loading","handleAddPatientHide","description","handleChangeAddState","breadcrumbNameMap","/patient","/patient/archives","/plan","/plan/measurement","/plan/followup","/plan/edit","/plan/followup-edit","/chat","/crf","/crf/patient","/crf/patient/edit","/user","pathSnippets","filter","extraBreadcrumbItems","_","breadcrumb","breadcrumbItems","bindPatientBtn","handleAddPatientVisible","minHeight","handleUserCenterVisible","src","headUrl","defaultUser","alt","components_MyMenu","separator","layout_Content","background","content","modal","handleUserCenterHide","es_row","col","handleUpdatePhoneHide","handleGetCode","handleChangePasswordHide","MyLayout","Index","matchRoutes","component","display","justifyContent","alignItems","lockImg","marginLeft","common_layout","IM_URL","updateReadTime","readIdentifier","sendIdentifier","imLoginInfo","sdkAppID","appIDAt3rd","accountType","imOpts","isAccessFormalEnv","isLogOn","socket","debug","_console","console","log","_console2","health-qa.lifesense.com","_console3","health-qa2.lifesense.com","_console4","ehealth.lifesense.com","cdn.lifesense.com","edoctor.lifesense.com","def","_console5","redux_state","imInfo","selType","webim","SESSION_TYPE","C2C","selToId","friendList","recentSess","historyMsg","combineReducers","action","myState","payload","imConfig","objectSpread","store","createStore","reducer","applyMiddleware","thunk","updateUnReadTimer","onConnNotify","resp","info","ErrorCode","CONNECTION_STATUS","ON","Log","warn","ErrorInfo","OFF","RECONNECT","jsonpCallback","rspData","setJsonpLastRspData","upDateRecentSess","identifier","newMsg","getState","elems","findMsgFromHistory","topIndex","unReadCount","msgDetail","CreateTime","msgId","MsgBody","MsgType","MsgContent","convertMsgConten","topItem","getMsgType","elem","MSG_ELEMENT_TYPE","CUSTOM","IMAGE","addMsg","fromAccount","_store$getState$imInf2","new_msg","CallbackCommand","From_Account","To_Account","showTime","message_list_el","getElementById","scrollTop","scrollHeight","clientHeight","sendMsg","reSend","_store$getState$imInf7","new_historyMsg","newMess","filterMsgType","resendItemIndex","latestTime","dispatch","findIdFromSess","flag","findIndex","msgElem","TEXT","Text","UUID","ImageFormat","ImageInfoArray","imageUrl","lastIndexOf","Type","URL","Desc","Data","actions_im","imLogin","userId","login","userSig","token","onMsgNotify","newMsgList","_store$getState$imInf","j","seq","fromAccountHeadurl","fromAccountNick","imState","callbackCommand","toAccount","headurl","identifierNick","setFriendList","initRecentContactList","doctorId","getFrendList","userList","patients","identifiers","nickName","userName","headImg","getRecentSess","msgList","new_recentSess","custom_data","sort","b","aCreateTime","setRecentSess","setSelToId","loadMess","_ref","_ref$endTime","endTime","_ref$count","count","getC2CHistoryMsg","_getState$imInfo","endFlag","hasMoreHistory","unReadCountLoadDone","all","_item","imgItem","msgType","_store$getState$imInf3","_store$getState$imInf4","selSess","Session","msgTime","subType","C2C_MSG_SUB_TYPE","COMMON","GROUP_MSG_SUB_TYPE","text_obj","face_obj","tmsg","emotionIndex","restMsgIndex","Msg","emotions","Elem","addText","substring","EmotionDataIndexs","Emotions","Face","addFace","PushInfo","PushFlag","Ext","AndroidInfo","Sound","ApnsInfo","BadgeMode","PushInfoBoolean","sending","originContent","sendCommonMsg","desc","ext","_store$getState$imInf5","_store$getState$imInf6","custom_obj","Custom","addCustom","sendCustomMsg","setImState","resetImData","actions","imAction","setUser","changeMenu","getValidateCode","SERVER_NAME","sendCode","FormWrap","loginName","passwordType","pageStep","showCaptcha","submitLoading","mobileCodeWords","mobileCodeInterval","codeUrl","checkCode","newPassword","loginSuccessHanlder","loginData","actionGetMenu","md5","handleMakeUrl","keyName","actionGetMobileCode","_this$state3","actionFindPassword","_this$state4","getmenu","menus","buttons","layoutButton","buttonKey","mobileCode","_this$state5","suffix","handleEmpty","passwordSuffix","handleShowPassword","showErrorMsg","pageArray","login_FormItem","prefix","handleInputFocus","handleFocus","handleChangeCode","borderRadius","captcha","handleChangePage","handleCheckMobile","handleChangePassword","Login","NotFound","Plan","PageHeader","borderBottom","paddingBottom","float","onBack","verticalAlign","paddingRight","borderRight","es_select","TabPane","tabs","Patient","currentGroup","actionGroup","currentAction","groupEditVisible","waitToAddData","remark","waitToAddVisible","showAddBtn","patientList","searchList","groupData","emptyWords","actionGetGroup","actionFindGroupSelf","actionGetButton","actionGetPatientList","warningType","parseInt","tab","keywords","actionSerchPatient","groupLen","lastGroupId","groupItem","editable","newAdd","editGroupName","editGroupId","trim","actionUpdateGroup","actionDeleteGroup","patientId","allGroup","list","patientCards","selfGroup","pageId","buttonList","editGroupColumns","record","defaultValue","deleteFlag","handleAddGroupItem","handleDeleteGroup","handleEditable","actionItem","handleChangeAction","patientItem","handleGoToArchives","warningFlag","handleJumpToChat","button","handleGroupEditVisible","showSearch","defaultActiveFirstOption","showArrow","filterOption","onSearch","handleSearch","handleSearchChange","addButton","components_PageHeader","activeKey","tabBarExtraContent","handleTabsCallback","empty","handleGroupEditHide","es_table","getPatientData","getPatientDataByDateAndCount","formatSleepData","heartRateList","dayArray","dayArrayFormat","formatArray","totalSleep","awakeningTime","totalSleepTime","day","measurementDate","silentHeartRate","toFixed","formatWeightData","weightData","totalWeight","totalBmi","times","formatBloodPressureData","bloodPressureData","totalDiastolicPressure","totalSystolicPressure","pressure","formatBloodSugarData","bloodSugarData","beforeMeal","afterMeal","beforeTimes","afterTimes","mealPeroid","glucoseConcentration","formatPedometerData","pedometerData","steps","pedometer","measurementTime","step","aerList","aerobicsTimeList","exetimeIf","exetimeCpm","formatTable","dataList","timeKey","formatData","year","yearArray","_year","resultData","_day","enumObj","timeCategory","timeType","site","measurementType","periodicTime","frequency","measureListType","switchEnum","arrayName","DataTable","currentType","beginDate","measureType","tableType","actionGetPatientDataByDateAndCount","dataType","patientData","handleMakeTimeKey","len","typeTemplate","sleepList","wording","unit","weightList","pedometerList","bloodPressureList","bloodSugarList","listItem","yearItem","dataTable_RadioGroup","handleChangeDataType","dataTable_RadioButton","CheckGroup","es_checkbox","allTypes","currentDatePage","sleepListData","weightListData","bloodPressureListData","pedometerListData","bloodSugarListData","currentChart","handleLastSenverDays","sleepListChart","G2","Chart","container","weightListChart","pedometerListChart","bloodPressureListChart","bloodSugarListChart","subtract","unshift","actionGetPatientData","chart","line1","line2","source","scale","alias","tooltip","crosshairs","legend","axis","tickLine","grid","lineStyle","stroke","lineWidth","lineDash","line","position","size","point","shape","diff","makeChart","makeDoubleLineChart","checkboxItem","textAlign","makeTable","dataArray","string1","string2","makeDoubleLineTable","diffKey","diff1","diff2","line1Array","line2Array","chartItem","dataTable","tdItem","handleShowChartChange","handlePrePage","handleNextPage","createFollowUpPlan","updateFollowUpPlan","createMeasurementPlan","updateMeasurementPlan","planList","planDetail","programId","getPatientPlan","addPlan","beginTime","Measurement","measurementPlan","tableLoading","actionGetMeasurementPlan","ms","toString","remainTime","InputGroup","BaseInfo","patientInfo","historyDisease","familyDisease","listObj","actionUpdatePatientInfo","updateInfo","onUpdateSuccess","onlyRead","baseInfo_FormItem","handleSelectChange","baseInfo_Option","date_picker","allowClear","handleBirthdayChange","handleCheckboxGroup","compact","smokeTime","smokeRate","drinkTime","drinkRate","handleEdit","MedicalRecord","treatmentRecords","currentImgArray","currentImgIndex","isOpen","actionFindMedicalRecord","pageIndex","pageSize","imgList","recordItem","imageList","img","handlePreviewImg","treatmentDate","tag","ImgsViewer_default","imgs","currImg","onClickPrev","handleGotoPrevious","onClickNext","handleGotoNext","handleCloseViewer","PickForm","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","refs","childRef","resetFields","MyComponent","require","default","ref","CrfFormNode","selectStep","CrfFormNode_TabPane","status","crfList","_index","activeFormId","selectPro","crfFormType","getCrfFormDetail","_ref3","contentId","contentNum","pathName","setCrfForm","formType","searchCrf","Followup","pageState","patientPlan","curPro","nodeKey","vnodeList","handleCancel","actionGetPatientPlan","actionSearchCrf","iconDot","proData","other_data","crfId","followUpContentId","crfType","userTopicInfo","contentCrfList","_this4","category","handleInputPage","categoryTime","components_CrfFormNode","Crf_form","haneleSubmit","tab2PageType","archivesTab","actionFindPatient","goBack","handleHeaderBack","subGroupName","patientNo","enterGroupTime","defaultActiveKey","archives_TabPane","followup","handleTab2ChangePageType","dataChart","components_dataTable","medicalRecord","measurement","baseInfo","handleUpdateSuccess","followUpPlanData","educationMaterialsData","measurementSchemeData","currentTabKey","tabLoading","actionPlanList","followUpPlanColumns","created","handlePageEdit","measurementSchemeColumns","animated","plan_TabPane","handleAddPlan","tab1Data","tab1EditDisable","tab2EditDisable","editorState","BraftEditor","createEditorState","tab3EditDisable","tab3Data","nodeName","address","toHTML","followUpPlan","excludeControls","extendControls","upload","accept","showUploadList","customRequest","uploadHandler","data-title","tab1Columns","edit_Option","tab3Columns","contents","edit_FormItem","handleEditTab1","handleDeleteTab1","handleAddItemTab1","handleCancelEditTab1","handleEditTab2","handleDeleteTab2","dist_default","handleContentsChangeTab2","handleCancelEditTab2","handleEditTab3","handleDeleteTab3","handleAddItemTab3","planTime","defaultKey","actionPlanDetail","pageType","defaultRow","newTable","number","isNaN","isTwoNumber","visitList","actionCreateFollowUpPlan","actionUpdatePlan","createPlan","detail","update","timeCateOption","followUp_Option","timeTypeOption","siteOption","selectTimeUnit","onSelect","handleTableSelect","handleTableInput","handleDeleteTableItem","handleGoBack","followUp_FormItem","handleInputTitle","handleSelectTimeCate","handleSubmitPlan","checkDuplicate","actionCreateMeasurementPlan","measurementList","actionUpdateMeasurementPlan","updatePlan","measurementTypeOpyion","measurement_Option","frequencyOption","periodicTimeOption","measurement_FormItem","handleSelectPeriodic","handleCancelEditTab3","checkPatientInTopic","leftSession","handleInfiniteOnLoad","hasMore","dateStr","nowDateStr","_this$props$imInfo","sess","resetScroll","_this$props$imInfo2","es_list","renderItem","avatar","dateFilter","filterContent","badge","overflowCount","spin","ImgPreview","getImgSize","ratio","isDraged","isAlwaysCenterZoom","posTop","posLeft","originWidth","originImgEl","originHeight","defaultWidth","defaultHeight","maxDefaultWidth","download","imgArr","imgIndex","image","Image","setAttribute","onload","canvas","getContext","drawImage","toDataURL","MouseEvent","dispatchEvent","scaleBig","isAlwaysShowRatioTips","percent","scaleSmall","wheelScale","deltaY","retate","angle","mouseDown","touch","touches","clientX","y","clientY","flags","dx","offsetLeft","dy","offsetTop","mouseMove","nx","ny","xPum","yPum","imgEl","left","top","mouseUp","mouseOut","closePreview","imgSrc","screenHeight","screenWidth","screen","availWidth","availHeight","nextProps","onWheel","transform","onLoad","originImg","changePic","React","chatBoard","dom","ReactDOM","findDOMNode","ctrlKey","keyCode","setScroll","closePreiveImg","previewImg","openPreviewImg","previewImgArr","preViewImgIndex","img_item","img_url","closeFile","fileFlag","openFile","openCustom","showPro","openProList","customType","closeCustom","handleAddPro","isAddPro","sendPro","handleCancelAddPro","cusTomPro","pro","pro_index","selected","changeProDate","begin_time","handleSendPro","myPro","pro_item","openPro","open","imageLoad","loadMessType","getEndTime","dom_info","getElementsByClassName","handleCustomVisible","isAddText","btnKey","local_user","_this$props$imInfo3","_props$imInfo","smallImage","bigImage","oriImage","sendTime","date_year","date_month","date_day","now_year","now_month","now_day","_loop","currentFriend","transTime","okText","cancelText","onOk","destroyOnClose","chatBoard_TabPane","imageViewer_ImgPreview","picKey","filterTime","reSendText","dangerouslySetInnerHTML","__html","convertTextToHtml","convertImageMsgToHtml","convertCustomMsgToHtml","begin_time_lable","dropdown","overlay","trigger","placement","onVisibleChange","chatBoard_TextArea","rows","onKeyUp","no_patient_pic","Communicate","seltoId","init","msgUniqueId","msgBody","msgContent","body","components_leftSession","components_chatBoard","CRF","Search","gotoDetail","searchPatient","patientNum","searchText","errorTip","inputSearch","onPageChange","page","scroll","total","_ref$pagesize","pagesize","getCrfList","topicName","doctorName","contentList","node","process","phoneId","addFollow","_ref4","nodeId","addProNode","followDate","addFlag","closeAddFollow","_this$state$userInfo","timeline","crfItem","changeFollowDate","crfDetail","getCrfDetail","vIndex","find","Info","successMessage","changePasswordLoading","editLoading","editMobileVisiable","editMobileErrorMessage","editMobileSuccessMessage","updateLoading","actionGetUserInfo","newUserInfo","actionUpdateDoctorUserInfo","busiType","oldPassword","newMobile","actionUpdateAccount","updateDoctor","account","topicItem","topicList","info_FormItem","handleInputUserInfo","jobTitle","hospitalName","departmentName","hospitalAddress","handleEditMobile","handleEditAble","handleEditUserInfo","handleCancelEdit","handleUpdateAccount","handleEditMobileInput","handleHideErrorMsg","UserCenter","actionUpdateUserPassword","username","updatePassword","updatePassword_FormItem","handlePasswordInput","handleCheckPassword","handleCheckPasswordTwice","handleUpdatePassword","center_TabPane","components_info","components_updatePassword","Follow","dot","Measure","proType","Project","components_follow","components_measure","PatientArchives","PlanEdit","FollowUpPlan","MeasurementPlan","crfProcess","crfEdit","Signup","pageWithoutAnth","RouteWithSubRoutes","route","access_token","m","getCookie","Route","App","HashRouter","Switch","components_RouteWithSubRoutes","es","locale_provider","locale","zhCN","src_App","CSIITable","csiiRecordList","_this2$state$formData","_15_form_table"],"mappings":"yRASMA,EAAWC,EAAA,EAAKC,KAChBC,EAASC,EAAA,EAAOD,OAEhBE,mLACO,IAAAC,EAAAC,KACDC,EAAWD,KAAKE,MAAMC,MAAQ,GAC9BC,EAAYH,EAASD,KAAKE,MAAMG,OAAS,GAC7CD,EAAYA,EAAUE,IAAI,SAACC,EAAMC,GAE7B,OADAD,EAAKE,IAAMD,EACJD,IALN,IAOGG,EAAsBV,KAAKE,MAAMS,KAAjCD,kBAIFE,GAHQC,IAAOZ,EAASa,WAAYD,IAAOZ,EAASc,SAGpC,SAACC,EAAMC,EAAKT,EAAOU,GACrC,IAAIC,EAASpB,EAAKG,MAAMG,KAAQN,EAAKG,MAAMG,KAAO,IAAMa,EAAO,IAAMV,EAAUU,EAAO,IAAMV,EACxFY,EAAU,GASd,MARmB,oBAARJ,EAEK,aAARE,GAA+B,WAARA,IACvBE,EAAQC,aAAe,IAG3BD,EAAQC,aAAuB,aAARH,GAA+B,WAARA,EAAoBL,IAAOG,GAAQA,EAEzE,OAARE,EACOI,EAAAC,EAAAC,cAAAC,EAAA,GAAQC,QAAS,kBAAM3B,EAAKG,MAAMyB,aAAa5B,EAAKG,MAAMG,KAAMG,KAAhE,gBAEAc,EAAAC,EAAAC,cAAC/B,EAAD,KAECiB,EAAkBS,EAAQC,EAA1BV,CACY,WAARQ,EAAqBI,EAAAC,EAAAC,cAAA3B,EAAA,GAAQ+B,SAAU,SAACC,GAAD,OAAW9B,EAAKG,MAAM4B,aAAa/B,EAAKG,MAAMG,KAAMG,EAAOU,EAAMW,KACpGP,EAAAC,EAAAC,cAAC5B,EAAD,CAAQiC,OAAO,GAAf,UACAP,EAAAC,EAAAC,cAAC5B,EAAD,CAAQiC,OAAO,GAAf,WACkB,aAARX,GAA+B,WAARA,EAAoBI,EAAAC,EAAAC,cAAAO,EAAA,GAAYH,SAAU,SAACI,GAAD,OAAUjC,EAAKG,MAAM4B,aAAa/B,EAAKG,MAAMG,KAAMG,EAAOU,EAAMc,MAAYV,EAAAC,EAAAC,cAAAS,EAAA,GAAOL,SAAU,SAACM,GAAD,OAAWnC,EAAKG,MAAM4B,aAAa/B,EAAKG,MAAMG,KAAMG,EAAOU,EAAMgB,UAO3PC,EAAU,CAAC,CACbC,MAAO,qBACPC,MAAO,SACPC,UAAW,YACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,eAC/D,CACC4B,MAAO,qBACPC,MAAO,SACPC,UAAW,eACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,kBAC/D,CACC4B,MAAO,qBACPC,MAAO,SACPC,UAAW,aACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,gBAC/D,CACC4B,MAAO,4BACPC,MAAO,SACPC,UAAW,SACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,YAC/D,CACC4B,MAAO,2BACPC,MAAO,SACPC,UAAW,YACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,eAC/D,CACC4B,MAAO,2BACPC,MAAO,SACPC,UAAW,YACXE,MAAM,IACND,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,eAC/D,CACC4B,MAAO,2BACPC,MAAO,SACPC,UAAW,UACXE,MAAM,IACND,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,aAC/D,CACC4B,MAAO,eACPC,MAAO,SACPC,UAAW,MACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,UAElE,OACIc,EAAAC,EAAAC,cAAAiB,EAAA,GACIC,YAAY,EACZC,UAAQ,EACRC,WAAYxC,EACZ+B,QAASA,EAETU,OAAQ,kBAAOvB,EAAAC,EAAAC,cAAAC,EAAA,GAAQP,KAAK,UAAUQ,QAAS,kBAAM3B,EAAKG,MAAM4C,UAAU/C,EAAKG,MAAMG,QAAOiB,EAAAC,EAAAC,cAAAuB,EAAA,GAAM7B,KAAK,SAAxF,sCAzFL8B,aAgGXlD,oPCrGTL,EAAWwD,EAAA,EAAKtD,KAEhBuD,mLACK,IAAAnD,EAAAC,KACHC,EAAWD,KAAKE,MAAMC,KAAKH,KAAKE,MAAMG,OAAS,GAC3CK,EAAsBV,KAAKE,MAAMS,KAAjCD,kBACRT,EAAWA,EAASK,IAAI,SAACC,EAAMC,GAE7B,OADAD,EAAKE,IAAMD,EACJD,IAGT,IAAMK,EAAgB,SAACI,EAAMC,EAAKT,EAAOU,GACvC,IAAIC,EAASpB,EAAKG,MAAMG,KAAQN,EAAKG,MAAMG,KAAO,IAAMa,EAAO,IAAMV,EAAUU,EAAO,IAAMV,EACxFY,EAAU,GAoBd,MAlBmB,oBAARJ,EACTI,EAAQC,aAAe,GAEnBpB,EAASO,KACC,mBAARU,GAA6BjB,EAASO,GAAOU,GAC/CE,EAAQC,aAAeR,IAAOZ,EAASO,GAAOU,IAE9CE,EAAQC,aAAepB,EAASO,GAAOU,IAKjC,mBAARA,IACFE,EAAQ+B,MAAQ,CAAC,CACfC,UAAWC,OAIH,OAARnC,EACKoC,EAAA/B,EAAAC,cAAAC,EAAA,GAAQC,QAAS,kBAAM3B,EAAKG,MAAMyB,aAAanB,KAA/C,gBAEA8C,EAAA/B,EAAAC,cAAC/B,EAAD,KAEHiB,EAAkBS,EAAQC,EAA1BV,CACU,mBAARQ,EAA4BoC,EAAA/B,EAAAC,cAAAO,EAAA,GAAYH,SAAU,SAACI,GAAD,OAAUjC,EAAKG,MAAM4B,aAAatB,EAAOU,EAAMc,MAAYsB,EAAA/B,EAAAC,cAAAS,EAAA,GAAOL,SAAU,SAACM,GAAD,OAAWnC,EAAKG,MAAM4B,aAAatB,EAAOU,EAAMgB,SAOlLC,EAAU,CAAC,CACfC,MAAO,eACPC,MAAO,SACPC,UAAW,kBACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,qBAC7D,CACD4B,MAAO,qBACPC,MAAO,SACPC,UAAW,aACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,gBAC7D,CACD4B,MAAO,uBACPC,MAAO,SACPC,UAAW,YACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,eAC7D,CACD4B,MAAO,qBACPC,MAAO,SACPC,UAAW,aACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,gBAC7D,CACD4B,MAAO,uBACPC,MAAO,SACPC,UAAW,YACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,eAC7D,CACD4B,MAAO,qBACPC,MAAO,SACPC,UAAW,aACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,gBAC7D,CACD4B,MAAO,uBACPC,MAAO,SACPC,UAAW,YACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,eAC7D,CACD4B,MAAO,eACPC,MAAO,SACPE,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,UAGhE,OACE8C,EAAA/B,EAAAC,cAAAiB,EAAA,GACEC,YAAY,EACZC,UAAQ,EACRC,WAAY3C,EACZkC,QAASA,EACToB,OAAO,MACPV,OAAQ,kBAAOS,EAAA/B,EAAAC,cAAAC,EAAA,GAAQP,KAAK,UAAUQ,QAAS3B,EAAKG,MAAM4C,WAAWQ,EAAA/B,EAAAC,cAAAuB,EAAA,GAAM7B,KAAK,SAAjE,sCA5FD8B,aAoGPE,uCC7GfM,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAL,IACA,IAAMM,EAAe,SAACE,EAAMhC,EAAOiC,GAC3BjC,GAEM,mBAAmBkC,KAAKlC,GAC9BiC,EAAS,gEAFTA,KASFF,EAAiB,SAACC,EAAMhC,EAAOiC,GAC7BjC,EAEM,KAAKkC,KAAKlC,GAChBiC,EAAS,6EACF,SAASC,KAAKlC,GACrBiC,EAAS,gEAETA,IANAA,KAWFT,EAAoB,SAACQ,EAAMhC,EAAOiC,GAChCjC,EAEQ,yBAAyBkC,KAAKlC,GAGtCiC,IAFAA,EAAS,gEAFTA,4PClBFrE,EAAWC,EAAA,EAAKC,KAChBC,EAASC,EAAA,EAAOD,OAEhBoE,mLACO,IAAAjE,EAAAC,KACDC,EAAWD,KAAKE,MAAMC,MAAQ,GAC9BC,EAAYH,EAASD,KAAKE,MAAMG,OAAS,GAC7CD,EAAYA,EAAUE,IAAI,SAACC,EAAKC,GAE5B,OADAD,EAAKE,IAAMD,EACJD,IALN,IAOGG,EAAsBV,KAAKE,MAAMS,KAAjCD,kBAGFE,GAFQC,IAAOZ,EAASa,WAAYD,IAAOZ,EAASc,SAEpC,SAACC,EAAMC,EAAKT,EAAOU,GACrC,IAAIC,EAASpB,EAAKG,MAAMG,KAAQN,EAAKG,MAAMG,KAAO,IAAMa,EAAO,IAAMV,EAAUU,EAAO,IAAMV,EACxFY,EAAU,GASd,MARmB,oBAARJ,EAEI,aAARE,GAA+B,WAARA,IACtBE,EAAQC,aAAe,IAG3BD,EAAQC,aAAuB,aAARH,GAA+B,WAARA,EAAoBL,IAAOG,GAAQA,EAEzE,OAARE,EACOI,EAAAC,EAAAC,cAAAC,EAAA,GAAQC,QAAS,kBAAM3B,EAAKG,MAAMyB,aAAa5B,EAAKG,MAAMG,KAAMG,KAAhE,gBAEAc,EAAAC,EAAAC,cAAC/B,EAAD,KAECiB,EAAkBS,EAAQC,EAA1BV,CACY,WAARQ,EAAqBI,EAAAC,EAAAC,cAAA3B,EAAA,GAAQ+B,SAAU,SAACC,GAAD,OAAW9B,EAAKG,MAAM4B,aAAa/B,EAAKG,MAAMG,KAAMG,EAAOU,EAAMW,KACpGP,EAAAC,EAAAC,cAAC5B,EAAD,CAAQiC,OAAO,GAAf,UACAP,EAAAC,EAAAC,cAAC5B,EAAD,CAAQiC,OAAO,GAAf,WACkB,aAARX,GAA+B,WAARA,EAAoBI,EAAAC,EAAAC,cAAAO,EAAA,GAAYH,SAAU,SAACI,GAAD,OAAUjC,EAAKG,MAAM4B,aAAa/B,EAAKG,MAAMG,KAAMG,EAAOU,EAAMc,MAAYV,EAAAC,EAAAC,cAAAS,EAAA,GAAOL,SAAU,SAACM,GAAD,OAAWnC,EAAKG,MAAM4B,aAAa/B,EAAKG,MAAMG,KAAMG,EAAOU,EAAMgB,UAO3PC,EAAU,CAAC,CACbC,MAAO,iBACPC,MAAO,SACPC,UAAW,SACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,YAC/D,CACC4B,MAAO,iBACPC,MAAO,SACPC,UAAW,aACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,gBAC/D,CACC4B,MAAO,2BACPC,MAAO,SACPC,UAAW,YACXE,MAAM,IACND,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,eAC/D,CACC4B,MAAO,2BACPC,MAAO,SACPC,UAAW,UACXE,MAAM,IACND,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,aAC/D,CACC4B,MAAO,2BACPC,MAAO,SACPC,UAAW,WACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,cAC/D,CACC4B,MAAO,kBACPC,MAAO,SACPC,UAAW,UACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,aAC/D,CACC4B,MAAO,uCACPC,MAAO,SACPC,UAAW,mBACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,sBAC/D,CACC4B,MAAO,iBACPC,MAAO,SACPC,UAAW,WACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,cAC/D,CACC4B,MAAO,eACPC,MAAO,SACPC,UAAW,MACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAAZ,OAAsBI,EAAcI,EAAMC,EAAKT,EAAO,UAElE,OACIc,EAAAC,EAAAC,cAAAiB,EAAA,GACIC,YAAY,EACZC,UAAQ,EACRC,WAAYxC,EACZ+B,QAASA,EACTU,OAAQ,kBAAOvB,EAAAC,EAAAC,cAAAC,EAAA,GAAQP,KAAK,UAAUQ,QAAS,kBAAM3B,EAAKG,MAAM4C,UAAU/C,EAAKG,MAAMG,QAAOiB,EAAAC,EAAAC,cAAAuB,EAAA,GAAM7B,KAAK,SAAxF,sCA5FV8B,aAmGNgB,wNCxGTpE,EAASqE,EAAA,EAAOrE,OAChBH,EAAWyE,EAAA,EAAKvE,KAIhBwE,OAHEC,uNAIJC,MAAQ,+EAKKC,GAAG,IAAAC,EAAAvE,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,GAEJH,EAAKrE,MAAM0E,SAASD,sCAKxB,IAAI1E,EAAWD,KAAKE,MAAMC,KAAOH,KAAKE,MAAMC,KAAK,GAAK,GAElD0E,EAcA5E,EAdA4E,WACAC,EAaA7E,EAbA6E,SACAC,EAYA9E,EAZA8E,OACAC,EAWA/E,EAXA+E,IACAC,EAUAhF,EAVAgF,QACAC,EASAjF,EATAiF,cACAC,EAQAlF,EARAkF,mBACAC,EAOAnF,EAPAmF,eACAC,EAMApF,EANAoF,WACAC,EAKArF,EALAqF,UACAC,EAIAtF,EAJAsF,YACAC,EAGAvF,EAHAuF,UACAC,EAEAxF,EAFAwF,yBACAC,EACAzF,EADAyF,kBAhBCC,EAkBwC3F,KAAKE,MAAMS,KAAhDD,EAlBHiF,EAkBGjF,kBAAmBkF,EAlBtBD,EAkBsBC,cACrBC,EAAiB,CACnBC,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAGdG,EAAkB,CACpBL,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAGpB,OACII,EAAA7E,EAAAC,cAAA,OAAK6E,MAAOC,EAAOC,MACfH,EAAA7E,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CACIC,MAAM,4BACFb,GAEHnF,EAAkB,aAAc,CAC7BW,aAAcwD,EAAWhE,IAAOgE,GAAY,IAD/CnE,CAGG0F,EAAA7E,EAAAC,cAAAmF,EAAA,UAGRP,EAAA7E,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CACIC,MAAM,gBACFb,GAEHnF,EAAkB,WAAY,CAC3BW,aAAcyD,EACd3B,MAAM,CAAC,CACHC,UAAUO,OAHjBjD,CAMG0F,EAAA7E,EAAAC,cAAAoF,EAAA,UAGRR,EAAA7E,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CACIC,MAAM,gBACFb,GAEHnF,EAAkB,SAAU,CACzBW,aAAc0D,GADjBrE,CAGG0F,EAAA7E,EAAAC,cAAAyC,EAAA,OACImC,EAAA7E,EAAAC,cAAC5B,EAAD,CAAQiC,MAAO,GAAf,UACAuE,EAAA7E,EAAAC,cAAC5B,EAAD,CAAQiC,MAAO,GAAf,aAIZuE,EAAA7E,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CACIC,MAAM,gBACFb,GAEHnF,EAAkB,MAAO,CACtBW,aAAc2D,EACd7B,MAAM,CAAC,CACHC,UAAUQ,OAHjBlD,CAMG0F,EAAA7E,EAAAC,cAAAoF,EAAA,UAGRR,EAAA7E,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CACIC,MAAM,2CACFb,GAEHnF,EAAkB,UAAW,CAC1BW,aAAc4D,GADjBvE,CAGG0F,EAAA7E,EAAAC,cAAAoF,EAAA,UAGRR,EAAA7E,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CACIC,MAAM,yBACFb,GAEHnF,EAAkB,gBAAiB,CAChCW,aAAc6D,GADjBxE,CAGG0F,EAAA7E,EAAAC,cAAAqF,EAAA,EAAUC,MAAV,CAAgBC,UAAU,eACtBX,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,gBAAhB,gBAEI+D,EAAc,kBAAoBA,EAAc,iBAAiBoB,QAAQ,iBAAS,EAAIZ,EAAA7E,EAAAC,cAAC/B,EAAD,CAAU4G,MAAO,CAACY,OAAS,cAAeF,UAAU,eACrIrG,EAAkB,qBAAsB,CACrCW,aAAc8D,EAAmBtE,IAAOsE,GAAoB,IAD/DzE,CAGG0F,EAAA7E,EAAAC,cAAAmF,EAAA,UAEM,KAElBP,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,4BAAhB,4BACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,wCAAhB,wCACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,gBAAhB,gBACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,4BAAhB,4BACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,4BAAhB,4BACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,gBAAhB,kBAIJ+D,EAAc,kBAAoBA,EAAc,iBAAiBoB,QAAQ,iBAAS,EAAIZ,EAAA7E,EAAAC,cAAC/B,EAAD,CAAU4G,MAAO,CAACY,OAAS,cAAeF,UAAU,eACrIrG,EAAkB,iBAAkB,CACjCW,aAAc+D,GADjB1E,CAGG0F,EAAA7E,EAAAC,cAAAoF,EAAA,UAEM,KAGdhB,EAAc,kBAAoBA,EAAc,iBAAiBoB,QAAQ,iBAAS,EAAIZ,EAAA7E,EAAAC,cAAA,WAClF4E,EAAA7E,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CACIC,MAAM,4BACFP,GAEHzF,EAAkB,aAAc,CAC7BW,aAAcgE,EAAWxE,IAAOwE,GAAY,IAD/C3E,CAGG0F,EAAA7E,EAAAC,cAAAmF,EAAA,UAGRP,EAAA7E,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CACIC,MAAM,iDACFP,GAEHzF,EAAkB,YAAa,CAC5BW,aAAciE,EAAUzE,IAAOyE,GAAW,IAD7C5E,CAGG0F,EAAA7E,EAAAC,cAAAmF,EAAA,UAGRP,EAAA7E,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CACIC,MAAM,oDACFP,GAEHzF,EAAkB,cAAe,CAC9BW,aAAckE,EAAcA,EAAY2B,MAAM,UAAO,IADxDxG,CAGG0F,EAAA7E,EAAAC,cAAAqF,EAAA,EAAUC,MAAV,KACIV,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,4BAAhB,4BACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,4BAAhB,4BACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,8CAAhB,8CACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,4BAAhB,gCAIP,MAGjBuE,EAAA7E,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CACIC,MAAM,yBACFb,GAEHnF,EAAkB,YAAa,CAC5BW,aAAcmE,EAAYA,EAAU0B,MAAM,UAAO,IADpDxG,CAGG0F,EAAA7E,EAAAC,cAAAqF,EAAA,EAAUC,MAAV,KACIV,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,4BAAhB,4BACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,wCAAhB,wCACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,gBAAhB,mBAIZuE,EAAA7E,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CACIC,MAAM,uDACFb,GAEHnF,EAAkB,2BAA4B,CAC3CW,aAAcoE,EAA2BA,EAAyByB,MAAM,UAAO,IADlFxG,CAGG0F,EAAA7E,EAAAC,cAAAqF,EAAA,EAAUC,MAAV,KACIV,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,4BAAhB,4BACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,4BAAhB,4BACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,4BAAhB,4BACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,4BAAhB,4BACAuE,EAAA7E,EAAAC,cAAAqF,EAAA,GAAUhF,MAAM,4BAAhB,+BAIZuE,EAAA7E,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CACIC,MAAM,mEACFb,GAEHnF,EAAkB,oBAAqB,CACpCW,aAAcqE,GADjBhF,CAGG0F,EAAA7E,EAAAC,cAAAoF,EAAA,EAAOO,SAAP,gBAnOFnE,cA4OhBsD,EAAS,CACXC,KAAM,CACFa,QAAS,OACTC,OAAQ,mBAIDlD,iCC/PfmD,EAAAC,QAAiB/D,EAAAgE,EAAuB,4DCAxCF,EAAAC,QAAA,g0HCAAD,EAAAC,QAAA,w+CCAA/D,EAAAC,EAAAC,EAAA,sBAAA+D,IAAAjE,EAAAC,EAAAC,EAAA,sBAAAgE,IAAAlE,EAAA,QAEaiE,EAAc,CACvBE,EAAG,iCACHC,EAAG,2BACHC,EAAG,iCACHC,EAAG,wCACHC,EAAG,iCACHC,EAAG,2BACHC,EAAG,uCACHC,EAAG,iCACHC,EAAG,6CACHC,EAAG,qBACHC,GAAI,mDACJC,GAAI,6CACJC,GAAI,2BACJC,GAAI,6CACJC,GAAI,2BACJC,GAAI,wDACJC,GAAI,+DACJC,GAAI,uCACJC,GAAI,uCACJC,GAAI,mDACJC,GAAI,iCACJC,GAAI,uCACJC,GAAI,uCACJC,GAAI,wCAGD,SAASxB,EAAgBvH,EAAMK,GAClC,OAAOL,EAAOA,EAAK+G,MAAM,KAAK1G,GAAS,2FC9B3C,IAAAF,EAAA,CACA6I,gBAAA,IACAC,gBAAA,IACAC,gBAAA,IACAC,gBAAA,IACAC,gBAAA,IACAC,gBAAA,IACAC,gBAAA,IACAC,mBAAA,IACAC,oBAAA,IACAC,wBAAA,IACAC,gBAAA,IACAC,gBAAA,IACAC,gBAAA,IACAC,gBAAA,IACAC,gBAAA,IACAC,gBAAA,IACAC,gBAAA,IACAC,eAAA,IACAC,eAAA,IACAC,eAAA,IACAC,eAAA,IACAC,eAAA,IACAC,eAAA,IACAC,eAAA,IACAC,eAAA,IACAC,kBAAA,KAIA,SAAAC,EAAAC,GACA,IAAAC,EAAAC,EAAAF,GACA,OAAAtH,EAAAuH,GAEA,SAAAC,EAAAF,GACA,IAAAC,EAAAzK,EAAAwK,GACA,KAAAC,EAAA,IACA,IAAAzG,EAAA,IAAA2G,MAAA,uBAAAH,EAAA,KAEA,MADAxG,EAAA4G,KAAA,mBACA5G,EAEA,OAAAyG,EAEAF,EAAAM,KAAA,WACA,OAAA3E,OAAA2E,KAAA7K,IAEAuK,EAAAO,QAAAJ,EACA1D,EAAAC,QAAAsD,EACAA,EAAAE,GAAA,4KC1CMtL,EAAWyE,EAAA,EAAKvE,KAEhB0L,uLAEW/G,GAAG,IAAAvE,EAAAC,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,GAEJ3E,EAAKG,MAAM0E,SAASD,sCAInB,IAAA2G,EAODtL,KAAKE,MAAMD,SALXsL,EAFCD,EAEDC,kBACAC,EAHCF,EAGDE,mBACAC,EAJCH,EAIDG,qBACAC,EALCJ,EAKDI,qBACAC,EANCL,EAMDK,wBANChG,EAQwC3F,KAAKE,MAAMS,KAAhDD,EARHiF,EAQGjF,kBAAmBkF,EARtBD,EAQsBC,cACrBC,EAAiB,CACnBC,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAGpB,OACI4F,EAAArK,EAAAC,cAAA,WACIoK,EAAArK,EAAAC,cAAA,OAAKuF,UAAU,SAAf,oDACA6E,EAAArK,EAAAC,cAAA0C,EAAA,EAAAsC,OAAAC,OAAA,CAAMoF,WAAW,QAAWhG,EAA5B,CAA4CjB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzE4L,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,oDAERhG,EAAkB,oBAAqB,CACnCW,aAAckK,EACdpI,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIkL,EAAArK,EAAAC,cAAAS,EAAA,GAAO+J,YAAY,yDAAYC,WAAW,SAItDL,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,4BACZkF,EAAArK,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CAAUC,MAAM,4BAAWb,GAEnBnF,EAAkB,qBAAsB,CACpCW,aAAcmK,GADlB9K,CAGIkL,EAAArK,EAAAC,cAAA0K,EAAA,EAAOpF,MAAP,KACI8E,EAAArK,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,aAKhB+J,EAAArK,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CAAUC,MAAM,4BAAWb,GAEnBnF,EAAkB,uBAAwB,CACtCW,aAAcoK,GADlB/K,CAGIkL,EAAArK,EAAAC,cAAA0K,EAAA,EAAOpF,MAAP,KACI8E,EAAArK,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,aAKhB+J,EAAArK,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CAAUC,MAAM,4BAAWb,GAEnBnF,EAAkB,uBAAwB,CACtCW,aAAcqK,GADlBhL,CAGIkL,EAAArK,EAAAC,cAAA0K,EAAA,EAAOpF,MAAP,KACI8E,EAAArK,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,YAKR+D,EAAc,wBACVgG,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,0BAA2B,CACzCW,aAAcsK,EACdxI,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIkL,EAAArK,EAAAC,cAAAS,EAAA,GAAOgK,WAAW,IAAIlF,UAAU,kBAG9B,QAM9B/G,KAAKE,MAAMiM,QAAUP,EAAArK,EAAAC,cAAA,OAAKuF,UAAU,YAChC6E,EAAArK,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACA4L,EAAArK,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aAxGPtJ,aA+GhBuJ,EAAWrI,EAAA,EAAKsI,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZ1I,CAMdmH,GAEYkB,6JCzHT9M,EAAWoN,EAAA,EAAKlN,KAEhBmN,uLAGWxI,GAAG,IAAAvE,EAAAC,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,GAEJ3E,EAAKG,MAAM0E,SAASD,sCAInB,IAAA2G,EAODtL,KAAKE,MAAMD,SALX8M,EAFCzB,EAEDyB,gBAEAvB,GAJCF,EAGDC,kBAHCD,EAIDE,oBACAC,EALCH,EAKDG,qBACAC,EANCJ,EAMDI,qBAEIhL,EAAsBV,KAAKE,MAAMS,KAAjCD,kBAWR,OACIsM,EAAAzL,EAAAC,cAAA,WACIwL,EAAAzL,EAAAC,cAAA,OAAKuF,UAAU,SAAf,8CACAiG,EAAAzL,EAAAC,cAAAqL,EAAA,EAAArG,OAAAC,OAAA,CAAMoF,WAAW,QAbF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAMZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzEgN,EAAAzL,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,8CAELhG,EAAkB,kBAAmB,CAClCW,aAAc0L,GADjBrM,CAGGsM,EAAAzL,EAAAC,cAAA0K,EAAA,EAAOpF,MAAP,KACIkG,EAAAzL,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,gBACAmL,EAAAzL,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,mBAIZmL,EAAAzL,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,4BAELhG,EAAkB,qBAAsB,CACrCW,aAAcmK,GADjB9K,CAGGsM,EAAAzL,EAAAC,cAAA0K,EAAA,EAAOpF,MAAP,KACIkG,EAAAzL,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,UACAmL,EAAAzL,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,aAIZmL,EAAAzL,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,kCAELhG,EAAkB,uBAAwB,CACvCW,aAAcoK,GADjB/K,CAGGsM,EAAAzL,EAAAC,cAAA0K,EAAA,EAAOpF,MAAP,KACIkG,EAAAzL,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,UACAmL,EAAAzL,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,aAIZmL,EAAAzL,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,4BAELhG,EAAkB,uBAAwB,CACvCW,aAAcqK,GADjBhL,CAGGsM,EAAAzL,EAAAC,cAAA0K,EAAA,EAAOpF,MAAP,KACIkG,EAAAzL,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,UACAmL,EAAAzL,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,cAMZ7B,KAAKE,MAAMiM,QAAUa,EAAAzL,EAAAC,cAAA,OAAKuF,UAAU,YAChCiG,EAAAzL,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACAgN,EAAAzL,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aAxFNtJ,aA+FjBuJ,EAAWM,EAAA,EAAKL,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZC,CAMdC,GAEYP,oLCxGT9M,EAAWyE,EAAA,EAAKvE,KAEhBmN,uLAGWxI,GAAG,IAAAvE,EAAAC,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,GAEJ3E,EAAKG,MAAM0E,SAASD,sCAInB,IAAA2G,EASDtL,KAAKE,MAAMD,SAPXgN,EAFC3B,EAED2B,kBACAC,EAHC5B,EAGD4B,wBACAC,EAJC7B,EAID6B,sBACAC,EALC9B,EAKD8B,sBACAC,EANC/B,EAMD+B,kBACAC,EAPChC,EAODgC,gBACAC,EARCjC,EAQDiC,gBARC5H,EAUwC3F,KAAKE,MAAMS,KAAhDD,EAVHiF,EAUGjF,kBAAmBkF,EAVtBD,EAUsBC,cAW3B,OACIgG,EAAArK,EAAAC,cAAA,WACIoK,EAAArK,EAAAC,cAAA,OAAKuF,UAAU,SAAf,4BACA6E,EAAArK,EAAAC,cAAA0C,EAAA,EAAAsC,OAAAC,OAAA,CAAMoF,WAAW,QAbF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAMZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzE4L,EAAArK,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,4BAELhG,EAAkB,oBAAqB,CACpCW,aAAc4L,GADjBvM,CAGGkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,gBACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,mBAKZ+J,EAAArK,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,oDAELhG,EAAkB,0BAA2B,CAC1CW,aAAc6L,GADjBxM,CAGGkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAIJ+D,EAAc,2BAA6BgG,EAAArK,EAAAC,cAAA,YACvCoK,EAAArK,EAAAC,cAAA,4BACAoK,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,wBAAyB,CACvCW,aAAc8L,EACdhK,MAAM,CAAC,CACHC,UAAUQ,OAHlBlD,CAMIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,WAAMlF,UAAU,kBAI9C6E,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,wBAAyB,CACvCW,aAAc+L,EACdjK,MAAM,CAAC,CACHC,UAAUQ,OAHlBlD,CAMIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,WAAMlF,UAAU,mBAIxC,MAGlB6E,EAAArK,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,4BAELhG,EAAkB,oBAAqB,CACpCW,aAAcgM,GADjB3M,CAGGkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAIJ+D,EAAc,qBAAuBgG,EAAArK,EAAAC,cAAA,YACjCoK,EAAArK,EAAAC,cAAA,4BACAoK,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,kBAAmB,CACjCW,aAAciM,EACdnK,MAAM,CAAC,CACHC,UAAUQ,OAHlBlD,CAMIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,WAAMlF,UAAU,kBAI9C6E,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,kBAAmB,CACjCW,aAAckM,EACdpK,MAAM,CAAC,CACHC,UAAUQ,OAHlBlD,CAMIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,WAAMlF,UAAU,mBAIxC,OAKlB/G,KAAKE,MAAMiM,QAAUP,EAAArK,EAAAC,cAAA,OAAKuF,UAAU,YAChC6E,EAAArK,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACA4L,EAAArK,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aAzINtJ,aAgJjBuJ,EAAWrI,EAAA,EAAKsI,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZ1I,CAMd4I,GAEYP,qKC1JT9M,EAAWoN,EAAA,EAAKlN,KAEhBmN,uLAGWxI,GAAG,IAAAvE,EAAAC,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,GAEJ3E,EAAKG,MAAM0E,SAASD,sCAInB,IAAA2G,EAIDtL,KAAKE,MAAMD,SAFXwN,EAFCnC,EAEDmC,WACAC,EAHCpC,EAGDoC,YAGIhN,GADSV,KAAKE,MAAMmM,SACErM,KAAKE,MAAMS,KAAjCD,mBAWR,OACIsM,EAAAzL,EAAAC,cAAA,WACIwL,EAAAzL,EAAAC,cAAA,OAAKuF,UAAU,SAAf,6DACAiG,EAAAzL,EAAAC,cAAAqL,EAAA,EAAArG,OAAAC,OAAA,CAAMoF,WAAW,QAbF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAMZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzEgN,EAAAzL,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,gBAELhG,EAAkB,aAAc,CAC7BW,aAAcoM,EACdtK,MAAO,CAAC,CACJC,UAAWC,OAHlB3C,CAMGsM,EAAAzL,EAAAC,cAAAoF,EAAA,UAIRoG,EAAAzL,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,gBAELhG,EAAkB,cAAe,CAC9BW,aAAcqM,EACdvK,MAAO,CAAC,CACJC,UAAWC,OAHlB3C,CAMGsM,EAAAzL,EAAAC,cAAAoF,EAAA,WAKR5G,KAAKE,MAAMiM,QAAUa,EAAAzL,EAAAC,cAAA,OAAKuF,UAAU,YAChCiG,EAAAzL,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACAgN,EAAAzL,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aA/DNtJ,aAsEjBuJ,EAAWM,EAAA,EAAKL,OAAO,CACzBC,eAAgB,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACPjM,EAAM0M,YAAW,KAHZC,CAMdC,GAEYP,6JCjFT9M,EAAWoN,EAAA,EAAKlN,KAEhBmN,uLAGWxI,GAAG,IAAAvE,EAAAC,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,GAEJ3E,EAAKG,MAAM0E,SAASD,sCAInB,IAAA2G,EACyCtL,KAAKE,MAAMD,SAAnD0N,EADDrC,EACCqC,eAAgBC,EADjBtC,EACiBsC,oBACdlN,EAAsBV,KAAKE,MAAMS,KAAjCD,kBAWR,OACIsM,EAAAzL,EAAAC,cAAA,WACIwL,EAAAzL,EAAAC,cAAA,OAAKuF,UAAU,SAAf,4BACAiG,EAAAzL,EAAAC,cAAAqL,EAAA,EAAArG,OAAAC,OAAA,CAAMoF,WAAW,QAbF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAMZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzEgN,EAAAzL,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,sBAELhG,EAAkB,iBAAkB,CACjCW,aAAcsM,GADjBjN,CAGGsM,EAAAzL,EAAAC,cAAA0K,EAAA,EAAOpF,MAAP,KACIkG,EAAAzL,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,UACAmL,EAAAzL,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,aAKZmL,EAAAzL,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,4BAELhG,EAAkB,sBAAuB,CACtCW,aAAcuM,GADjBlN,CAGGsM,EAAAzL,EAAAC,cAAA0K,EAAA,EAAOpF,MAAP,KACIkG,EAAAzL,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,UACAmL,EAAAzL,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,cAMZ7B,KAAKE,MAAMiM,QAAUa,EAAAzL,EAAAC,cAAA,OAAKuF,UAAU,YAChCiG,EAAAzL,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACAgN,EAAAzL,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aA3DNtJ,aAkEjBuJ,EAAWM,EAAA,EAAKL,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZC,CAMdC,GAEYP,uJC1ETO,GAFWe,EAAA,EAAKlO,gNA+BpBmC,aAAe,SAACtB,EAAOU,EAAMoD,GACtBvE,EAAKsE,MAAMpE,SAAX,sBAA8F,GAAjDF,EAAKsE,MAAMpE,SAAS6N,qBAAqBC,SACzFhO,EAAKsE,MAAMpE,SAAX,qBAA8C,CAAC,KAG/CF,EAAKsE,MAAMpE,SAAX,qBAA4CO,GAAOU,GADzC,mBAARA,EACyDoD,EAAE0J,UAEF1J,EAAE2J,OAAOpM,2FAlCtE7B,KAAKkO,SAAS,CACZjO,SAAUkO,KAAKC,MAAMD,KAAKE,UAAUrO,KAAKE,MAAMD,iDAM5CD,KAAKqE,MAAMpE,SAAS6N,uBACvB9N,KAAKqE,MAAMpE,SAAS6N,qBAAuB,IAE7C,IAAIA,EAAuB9N,KAAKqE,MAAMpE,SAAS6N,qBAAqBQ,OAAO,CAAC,KAC5EtO,KAAKkO,SAAS,CACZjO,SAAUuG,OAAOC,OAAO,GAAIzG,KAAKqE,MAAMpE,SAAU,CAAE6N,2BAErD9N,KAAKE,MAAM0M,YAAW,wCAGXpM,GACPR,KAAKqE,MAAMpE,SAAS6N,uBACtB9N,KAAKqE,MAAMpE,SAAS6N,qBAAqBS,OAAO/N,EAAO,GACvDR,KAAKkO,SAAS,CACZjO,SAAUuG,OAAOC,OAAO,GAAIzG,KAAKqE,MAAMpE,YAEzCD,KAAKE,MAAM0M,YAAW,2CAgBxB5M,KAAKkO,SAAS,CACZjO,SAAUkO,KAAKC,MAAMD,KAAKE,UAAUrO,KAAKE,MAAMD,aAEjDD,KAAKE,MAAMoM,gDAIAhI,GAAG,IAAAC,EAAAvE,KACdsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GACnC,IAAID,EAAJ,CAD8C,IAM1CvE,EAAO,CACT2N,qBAHEvJ,EAAKF,MAAMpE,SADb6N,sBAQFvJ,EAAKrE,MAAM0E,SAASzE,uCAetB,OACEqO,EAAAjN,EAAAC,cAAA,WACEgN,EAAAjN,EAAAC,cAAA,OAAKuF,UAAU,SAAf,4EACAyH,EAAAjN,EAAAC,cAAAqM,EAAA,EAAArH,OAAAC,OAAA,GAbmB,CACrBX,SAAU,CACRC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEdE,WAAY,CACVH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAMZ,CAA0BpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzDwO,EAAAjN,EAAAC,cAACiN,EAAA,EAAD,CAASpO,KAAK,uBAAuByB,aAAc9B,KAAK8B,aAAaiK,KAAK/L,MAAO2B,aAAc3B,KAAK2B,aAAaoK,KAAK/L,MAAO8C,UAAW9C,KAAK8C,UAAUiJ,KAAK/L,MAAOG,KAAMH,KAAKqE,MAAMpE,SAAUU,KAAMX,KAAKE,MAAMS,QAG/MX,KAAKE,MAAMiM,QAAUqC,EAAAjN,EAAAC,cAAA,OAAKuF,UAAU,YAClCyH,EAAAjN,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACAwO,EAAAjN,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACO,aAtFItJ,cA6FjBuJ,EAAWsB,EAAA,EAAKrB,OAAO,CAC3BC,eAAgB,SAACvM,EAAOwM,EAAeC,GAChCzM,EAAMiM,SACTjM,EAAM0M,YAAW,KAHNiB,CAMdf,GAEYP,gMCrGT9M,EAAWiP,EAAA,EAAK/O,KAEhBmN,6MACFzI,MAAQ,KAiDRvC,aAAe,SAACzB,EAAMG,EAAOU,EAAMgB,GAC1BnC,EAAKsE,MAAMpE,SAASI,KACrBN,EAAKsE,MAAMpE,SAASI,GAAQ,IAE3BN,EAAKsE,MAAMpE,SAASI,GAAMG,KAC3BT,EAAKsE,MAAMpE,SAASI,GAAMG,GAAS,IAEnC0B,EAAM+L,OACNlO,EAAKsE,MAAMpE,SAASI,GAAMG,GAAOU,GAAQgB,EAAM+L,OAAOpM,MAGlD9B,EAAKsE,MAAMpE,SAASI,GAAMG,GAAOU,GADzB,WAARA,EACyCgB,EAEAA,EAAMyM,OAAO,iBAgBlEhN,aAAe,SAACtB,EAAMG,GACfT,EAAKsE,MAAMpE,SAASI,KACnBN,EAAKsE,MAAMpE,SAASI,GAAMkO,OAAO/N,EAAO,GACxCT,EAAKmO,SAAS,CACVjO,SAAUuG,OAAOC,OAAO,GAAI1G,EAAKsE,MAAMpE,YAE3CF,EAAKG,MAAM0M,YAAW,yFA/E1B5M,KAAKkO,SAAS,CACVjO,SAAUkO,KAAKC,MAAMD,KAAKE,UAAUrO,KAAKE,MAAMD,kDAK1CqE,GAAG,IAAAC,EAAAvE,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GACjC,IAAID,EAAJ,CAEAC,EAAOiK,SAAWrK,EAAKF,MAAMpE,SAAS2O,SACtCjK,EAAOkK,SAAWtK,EAAKF,MAAMpE,SAAS4O,SAEtC,IAAI1O,EAAO,GAKX,IAAK,IAAI2O,KAJLvK,EAAKF,MAAMpE,SAAS8O,WAAaxK,EAAKF,MAAMpE,SAAS8O,UAAU,GAAGhE,KAClE5K,EAAK4K,GAAKxG,EAAKF,MAAMpE,SAAS8O,UAAU,GAAGhE,IAGjCpG,EACNmK,EAAE9H,QAAQ,cAAgB,GAAK8H,EAAE9H,QAAQ,cAAgB,SAClDrC,EAAOmK,GAEL,UAALA,GAAsB,YAALA,GAAwB,WAALA,GAAuB,aAALA,GAC9C,gBAALA,GAA4B,YAALA,IACF,iBAAbnK,EAAOmK,KACVnK,EAAOmK,GAAGH,OACVhK,EAAOmK,GAAKnK,EAAOmK,GAAGH,OAAO,cAE7BhK,EAAOmK,GAAKnK,EAAOmK,GAAGE,KAAK,WAGnC7O,EAAK2O,GAAKnK,EAAOmK,UACVnK,EAAOmK,IAIvBnK,EAAOsK,UACNtK,EAAOoK,UAAY,CAAC5O,IAExBoE,EAAKrE,MAAM0E,SAASD,wCAsBlBtE,GACDL,KAAKqE,MAAMpE,SAASI,KACrBL,KAAKqE,MAAMpE,SAASI,GAAQ,IAEhC,IAAIF,EAAOH,KAAKqE,MAAMpE,SAASI,GAAMiO,OAAO,CAAC,KAC7CtO,KAAKkO,SAAS,CACVjO,SAAUuG,OAAOC,OAAO,GAAIzG,KAAKqE,MAAMpE,SAA7BuG,OAAA0I,EAAA,EAAA1I,CAAA,GAA0CnG,EAAOF,MAE/DH,KAAKE,MAAM0M,YAAW,oCAajB,IAAAuC,EAAAC,EAAA9D,EAKDtL,KAAKE,MAAMD,SAHXoP,EAFC/D,EAED+D,OACAJ,EAHC3D,EAGD2D,QACAK,EAJChE,EAIDgE,aAJC3J,EAMwC3F,KAAKE,MAAMS,KAAhDD,EANHiF,EAMGjF,kBAAmBkF,EANtBD,EAMsBC,cAW3B,OACI2J,EAAAhO,EAAAC,cAAA,WACI+N,EAAAhO,EAAAC,cAAA,OAAKuF,UAAU,SAAf,wCACAwI,EAAAhO,EAAAC,cAAAkN,EAAA,EAAAlI,OAAAC,OAAA,CAAMoF,WAAW,QAbF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAMZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzEuP,EAAAhO,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,4BAELhG,EAAkB,SAAU,CACzBW,aAAcgO,GADjB3O,CAGG6O,EAAAhO,EAAAC,cAAA0K,EAAA,EAAOpF,MAAP,KACIyI,EAAAhO,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,gBACA0N,EAAAhO,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,mBAKR+D,EAAc,UAAY2J,EAAAhO,EAAAC,cAACgO,EAAA,SAADL,EAAA,CAAQ9O,KAAK,WAAWsB,aAAc3B,KAAK2B,aAAaoK,KAAK/L,MAAO8C,UAAW9C,KAAK8C,UAAUiJ,KAAK/L,MAAO8B,aAAc9B,KAAK8B,aAAaiK,KAAK/L,OAA/IwG,OAAA0I,EAAA,EAAA1I,CAAA2I,EAAA,eAAoKnP,KAAK2B,aAAaoK,KAAK/L,OAA3LwG,OAAA0I,EAAA,EAAA1I,CAAA2I,EAAA,OAAwMnP,KAAKqE,MAAMpE,UAAnNuG,OAAA0I,EAAA,EAAA1I,CAAA2I,EAAA,OAAmOnP,KAAKE,MAAMS,MAA9OwO,IAAyP,KAGvRI,EAAAhO,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,kCAELhG,EAAkB,UAAW,CAC1BW,aAAc4N,GADjBvO,CAGG6O,EAAAhO,EAAAC,cAAA0K,EAAA,EAAOpF,MAAP,KACIyI,EAAAhO,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,UACA0N,EAAAhO,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,aAKR+D,EAAc,WAAa2J,EAAAhO,EAAAC,cAACiO,EAAA,QAAD,CAASpP,KAAK,YAAYF,KAAMH,KAAKqE,MAAMpE,SAAS8O,UAAWpO,KAAMX,KAAKE,MAAMS,OAAW,KAG1H4O,EAAAhO,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,4BAELhG,EAAkB,eAAgB,CAC/BW,aAAciO,GADjB5O,CAGG6O,EAAAhO,EAAAC,cAAA0K,EAAA,EAAOpF,MAAP,KACIyI,EAAAhO,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,UACA0N,EAAAhO,EAAAC,cAAA0K,EAAA,GAAOrK,OAAO,GAAd,aAKR+D,EAAc,gBAAkB2J,EAAAhO,EAAAC,cAACkO,EAAA,SAADN,EAAA,CAAa/O,KAAK,WAAWsB,aAAc3B,KAAK2B,aAAaoK,KAAK/L,MAAO8C,UAAW9C,KAAK8C,UAAUiJ,KAAK/L,MAAO8B,aAAc9B,KAAK8B,aAAaiK,KAAK/L,OAApJwG,OAAA0I,EAAA,EAAA1I,CAAA4I,EAAA,eAAyKpP,KAAK2B,aAAaoK,KAAK/L,OAAhMwG,OAAA0I,EAAA,EAAA1I,CAAA4I,EAAA,OAA6MpP,KAAKqE,MAAMpE,UAAxNuG,OAAA0I,EAAA,EAAA1I,CAAA4I,EAAA,OAAwOpP,KAAKE,MAAMS,MAAnPyO,IAA8P,MAIlSpP,KAAKE,MAAMiM,QAAUoD,EAAAhO,EAAAC,cAAA,OAAKuF,UAAU,YAChCwI,EAAAhO,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACAuP,EAAAhO,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aAlKNtJ,aAyKjBuJ,EAAWmC,EAAA,EAAKlC,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZ8B,CAMd5B,GAEYP,qNCpLT9M,EAAWkQ,EAAA,EAAKhQ,KAEhBmN,6MACFzI,MAAQ,+EAKKC,GAAG,IAAAC,EAAAvE,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,IAEJC,EAAOiL,mBAAqBjL,EAAOiL,mBAAmBjB,OAAO,cAC7DpK,EAAKrE,MAAM0E,SAASD,8CAIZ3C,GACZ,QAAGA,EAAKgM,WAAU,IAAI6B,MAAOC,UAAU,oCAQxB9P,KAAKE,MAAMmM,SAA1B,IADKf,EAODtL,KAAKE,MAAMD,SAJX8P,EAHCzE,EAGDyE,kBACAC,EAJC1E,EAID0E,uBACAC,EALC3E,EAKD2E,sBACAL,EANCtE,EAMDsE,mBANCjK,EAQwC3F,KAAKE,MAAMS,KAAhDD,EARHiF,EAQGjF,kBAAmBkF,EARtBD,EAQsBC,cAY3B,OACIQ,EAAA7E,EAAAC,cAAA,WACI4E,EAAA7E,EAAAC,cAAA,OAAKuF,UAAU,SAAf,wCACAX,EAAA7E,EAAAC,cAAAmO,EAAA,EAAAnJ,OAAAC,OAAA,CAAMoF,WAAW,QAdF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAOZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzEoG,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,wCAERhG,EAAkB,oBAAqB,CACnCW,aAAc0O,GADlBrP,CAGI0F,EAAA7E,EAAAC,cAAA0O,EAAA,EAAOpJ,MAAP,KACIV,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,OAAO,GAAd,UACAuE,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,OAAO,GAAd,YAKR+D,EAAc,qBAAuBQ,EAAA7E,EAAAC,cAAA,YACjC4E,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,yBAA0B,CACxCW,aAAc2O,EACd7M,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMI0F,EAAA7E,EAAAC,cAAAS,EAAA,GAAO+J,YAAY,6CAAUC,WAAW,UAKpD7F,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,wBAAyB,CACvCW,aAAc4O,EACd9M,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMI0F,EAAA7E,EAAAC,cAAAS,EAAA,GAAO+J,YAAY,uCAASC,WAAW,WAK7C,MAIlB7F,EAAA7E,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,oDAELhG,EAAkB,qBAAsB,CACrCW,aAAcuO,EAAmB/O,IAAO+O,GAAoB,IAD/DlP,CAGG0F,EAAA7E,EAAAC,cAAA2O,EAAA,GAAYC,aAAcpQ,KAAKqQ,gBAAgBtE,KAAK/L,WAK5DA,KAAKE,MAAMiM,QAAU/F,EAAA7E,EAAAC,cAAA,OAAKuF,UAAU,YAChCX,EAAA7E,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACAoG,EAAA7E,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aAzGNtJ,aAgHjBuJ,EAAWoD,EAAA,EAAKnD,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZ+C,CAMd7C,GAEYP,uJCzHTO,GAFWe,EAAA,EAAKlO,gNA+BpBmC,aAAe,SAACtB,EAAOU,EAAMoD,GACtBvE,EAAKsE,MAAMpE,SAAX,sBAAiG,GAApDF,EAAKsE,MAAMpE,SAAX,qBAA4C8N,SAC5FhO,EAAKsE,MAAMpE,SAAX,qBAA8C,CAAC,KAG/CF,EAAKsE,MAAMpE,SAAX,qBAA4CO,GAAOU,GADzC,mBAARA,EACyDoD,EAAE0J,UAEF1J,EAAE2J,OAAOpM,2FAlCtE7B,KAAKkO,SAAS,CACZjO,SAAUkO,KAAKC,MAAMD,KAAKE,UAAUrO,KAAKE,MAAMD,iDAM5CD,KAAKqE,MAAMpE,SAAS6N,uBACvB9N,KAAKqE,MAAMpE,SAAS6N,qBAAuB,IAE7C,IAAIA,EAAuB9N,KAAKqE,MAAMpE,SAAS6N,qBAAqBQ,OAAO,CAAC,KAC5EtO,KAAKkO,SAAS,CACZjO,SAAUuG,OAAOC,OAAO,GAAIzG,KAAKqE,MAAMpE,SAAU,CAAE6N,2BAErD9N,KAAKE,MAAM0M,YAAW,wCAGXpM,GACPR,KAAKqE,MAAMpE,SAAS6N,uBACtB9N,KAAKqE,MAAMpE,SAAS6N,qBAAqBS,OAAO/N,EAAO,GACvDR,KAAKkO,SAAS,CACZjO,SAAUuG,OAAOC,OAAO,GAAIzG,KAAKqE,MAAMpE,YAEzCD,KAAKE,MAAM0M,YAAW,2CAgBxB5M,KAAKkO,SAAS,CACZjO,SAAUkO,KAAKC,MAAMD,KAAKE,UAAUrO,KAAKE,MAAMD,aAEjDD,KAAKE,MAAMoM,gDAIAhI,GAAG,IAAAC,EAAAvE,KACdsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GACnC,IAAID,EAAJ,CAD8C,IAM1CvE,EAAO,CACT2N,qBAHEvJ,EAAKF,MAAMpE,SADb6N,sBAQFvJ,EAAKrE,MAAM0E,SAASzE,uCAKtB,OACEqO,EAAAjN,EAAAC,cAAA,WACEgN,EAAAjN,EAAAC,cAAA,OAAKuF,UAAU,SAAf,4EACAyH,EAAAjN,EAAAC,cAAAqM,EAAA,GAAMjJ,SAAU5E,KAAK8L,aAAaC,KAAK/L,OACrCwO,EAAAjN,EAAAC,cAACiN,EAAA,EAAD,CAASpO,KAAK,uBAAuByB,aAAc9B,KAAK8B,aAAaiK,KAAK/L,MAAO2B,aAAc3B,KAAK2B,aAAaoK,KAAK/L,MAAO8C,UAAW9C,KAAK8C,UAAUiJ,KAAK/L,MAAOG,KAAMH,KAAKqE,MAAMpE,SAAUU,KAAMX,KAAKE,MAAMS,QAG/MX,KAAKE,MAAMiM,QAAUqC,EAAAjN,EAAAC,cAAA,OAAKuF,UAAU,YAClCyH,EAAAjN,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACAwO,EAAAjN,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACO,aA5EItJ,cAmFjBuJ,EAAWsB,EAAA,EAAKrB,OAAO,CAC3BC,eAAgB,SAACvM,EAAOwM,EAAeC,GAChCzM,EAAMiM,SACTjM,EAAM0M,YAAW,KAHNiB,CAMdf,GAEYP,qLC7FT9M,EAAWyE,EAAA,EAAKvE,KAEhB0L,uLAEW/G,GAAG,IAAAvE,EAAAC,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,KAEAC,EAAO2L,WAAa3L,EAAO4L,cAAgB5L,EAAO6L,OAAS7L,EAAO8L,SAAW9L,EAAO+L,SACpF/L,EAAO2L,UAAwC,GAA5B3L,EAAOgM,eAAe,GAAUhM,EAAO2L,UAAY,IAAM3L,EAAO2L,UAAY,IAC/F3L,EAAO4L,aAA8C,GAA/B5L,EAAOiM,kBAAkB,GAAUjM,EAAO4L,aAAe,IAAM5L,EAAO4L,aAAe,IAC3G5L,EAAO6L,MAAgC,GAAxB7L,EAAOkM,WAAW,GAAUlM,EAAO6L,MAAQ,IAAM7L,EAAO6L,MAAQ,IAC/E7L,EAAO8L,QAAoC,GAA1B9L,EAAOmM,aAAa,GAAUnM,EAAO8L,QAAU,IAAM9L,EAAO8L,QAAU,IACvF9L,EAAO+L,MAAgC,GAAxB/L,EAAOoM,WAAW,GAAUpM,EAAO+L,MAAQ,IAAM/L,EAAO+L,MAAQ,WACxE/L,EAAOoM,kBACPpM,EAAOmM,oBACPnM,EAAOkM,kBACPlM,EAAOiM,yBACPjM,EAAOgM,gBAElB5Q,EAAKG,MAAM0E,SAASD,uCAInB,IAAAJ,EAAAvE,KACGU,EAAsBV,KAAKE,MAAMS,KAAjCD,kBAoBFyB,EAAU,CAAC,CACbC,MAAO,GACP4O,QAAS,EACT1O,UAAW,OACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAChB,IAAIyQ,EAAU,EAkBd,OAjBIzQ,EAAQ,MACRyQ,EAAU,GAGD,GAATzQ,IACAyQ,EAAU,GAED,GAATzQ,IACAyQ,EAAU,GAED,IAATzQ,IACAyQ,EAAU,GAED,IAATzQ,IACAyQ,EAAU,GAGP,CACHC,SAAUlQ,EACVd,MAAO,CACH+Q,QAASA,MAItB,CACC7O,MAAO,2BACP4O,QAAS,EACT1O,UAAW,QACZ,CACCF,MAAO,2BACPE,UAAW,OACXC,OAxDkB,SAACV,EAAOZ,EAAKT,GAC/B,IAAM2Q,EAAM,CACRD,SAAUrP,EACV3B,MAAO,IAcX,OAZAiR,EAAID,SAAWtF,EAAArK,EAAAC,cAAC/B,EAAD,KAEPiB,EAAkBmB,EAAO,CACrBR,aAAckD,EAAKrE,MAAMD,SAAS4B,GAClCsB,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIkL,EAAArK,EAAAC,cAAAS,EAAA,UAILkP,IAwCR,CACC/O,MAAO,eACPE,UAAW,SAgHf,OACIsJ,EAAArK,EAAAC,cAAA,WACIoK,EAAArK,EAAAC,cAAA,OAAKuF,UAAU,SAAf,kCACA6E,EAAArK,EAAAC,cAAA0C,EAAA,GAAMkN,OAAO,SAASxM,SAAU5E,KAAK8L,aAAaC,KAAK/L,OACnD4L,EAAArK,EAAAC,cAAA6P,EAAA,GAAOlP,QAASA,EAASS,WAlHxB,CAAC,CACVnC,IAAK,IACL6Q,KAAM,2BACNC,KAAM,2DACNC,KAAM,QACNC,KAAM,OACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,kEACNC,KAAM,QACNC,KAAM,OACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,yEACNC,KAAM,QACNC,KAAM,OACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,yCACNC,KAAM,OACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,oCACNC,KAAM,QACNC,KAAM,OACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,oCACNC,KAAM,QACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,6BACNC,KAAM,OACNC,KAAM,eACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,6BACNC,KAAM,OACNC,KAAM,eACP,CACChR,IAAK,KACL6Q,KAAM,qBACNC,KAAM,yCACNC,KAAM,QACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,qBACNC,KAAM,qCACNC,KAAM,UACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,qBACNC,KAAM,wDACNC,KAAM,SACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,qBACNC,KAAM,wDACNC,KAAM,SACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,eACNC,KAAM,0CACNC,KAAM,QACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,eACNC,KAAM,4CACNC,KAAM,QACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,eACNC,KAAM,wDACNC,KAAM,OACNC,KAAM,KACP,CACChR,IAAK,KACL6Q,KAAM,eACNC,KAAM,iCACNC,KAAM,OACNC,KAAM,KACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,gDACNC,KAAM,SACNC,KAAM,eACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,SACNC,KAAM,SACNC,KAAM,WAO6C9O,UAAQ,EAACD,YAAY,KAGhE1C,KAAKE,MAAMiM,QAAUP,EAAArK,EAAAC,cAAA,OAAKuF,UAAU,YAChC6E,EAAArK,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACA4L,EAAArK,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aA9MPtJ,aAqNhBuJ,EAAWrI,EAAA,EAAKsI,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZ1I,CAMdmH,GAEYkB,qNC9NT9M,EAAWkQ,EAAA,EAAKhQ,KAEhBmN,6MACFzI,MAAQ,+EAKKC,GAAG,IAAAC,EAAAvE,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,IAEJC,EAAOiL,mBAAqBjL,EAAOiL,mBAAmBjB,OAAO,cAC7DpK,EAAKrE,MAAM0E,SAASD,8CAIZ3C,GACZ,QAAGA,EAAKgM,WAAU,IAAI6B,MAAOC,UAAU,oCAOlC,IAAAxE,EAMDtL,KAAKE,MAAMD,SAJXyR,EAFCpG,EAEDoG,YACAzB,EAHC3E,EAGD2E,sBACA0B,EAJCrG,EAIDqG,MACA/B,EALCtE,EAKDsE,mBALCjK,EAOwC3F,KAAKE,MAAMS,KAAhDD,EAPHiF,EAOGjF,kBAAmBkF,EAPtBD,EAOsBC,cAW3B,OACIQ,EAAA7E,EAAAC,cAAA,WACI4E,EAAA7E,EAAAC,cAAA,OAAKuF,UAAU,SAAf,wCACAX,EAAA7E,EAAAC,cAAAmO,EAAA,EAAAnJ,OAAAC,OAAA,CAAMoF,WAAW,QAbF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAMZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzEoG,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,8CAERhG,EAAkB,cAAe,CAC7BW,aAAcqQ,GADlBhR,CAGI0F,EAAA7E,EAAAC,cAAA0O,EAAA,EAAOpJ,MAAP,KACIV,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,OAAO,GAAd,UACAuE,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,OAAO,GAAd,YAKP+D,EAAc,eAcL,KAdsBQ,EAAA7E,EAAAC,cAAA,YAC5B4E,EAAA7E,EAAAC,cAAA,wFACA4E,EAAA7E,EAAAC,cAAC/B,EAAD,CACIsH,UAAU,eAETrG,EAAkB,wBAAyB,CACxCW,aAAc4O,EACd9M,MAAM,CAAC,CACHC,UAAUC,OAHjB3C,CAMG0F,EAAA7E,EAAAC,cAAAS,EAAA,GAAOoE,MAAOC,EAAOsL,gBAOzCxL,EAAA7E,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,gBAELhG,EAAkB,QAAS,CACxBW,aAAcsQ,GADjBjR,CAGG0F,EAAA7E,EAAAC,cAAAS,EAAA,GAAO8E,UAAU,gBAIzBX,EAAA7E,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,oDAELhG,EAAkB,qBAAsB,CACrCW,aAAcuO,EAAmB/O,IAAO+O,GAAoB,IAD/DlP,CAGG0F,EAAA7E,EAAAC,cAAA2O,EAAA,GAAYC,aAAcpQ,KAAKqQ,gBAAgBtE,KAAK/L,WAK5DA,KAAKE,MAAMiM,QAAU/F,EAAA7E,EAAAC,cAAA,OAAKuF,UAAU,YAChCX,EAAA7E,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACAoG,EAAA7E,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aApGNtJ,aA2GjBsD,EAAS,CACXC,KAAM,CACFsL,UAAW,QAEfzP,MAAO,CACH0P,SAAU,OACVC,WAAY,oBACZC,YAAa,SAIfzF,EAAWoD,EAAA,EAAKnD,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZ+C,CAMd7C,GAEYP,qNChIT9M,EAAWkQ,EAAA,EAAKhQ,KAEhBmN,6MACFzI,MAAQ,+EAKKC,GAAG,IAAAC,EAAAvE,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,GAEJH,EAAKrE,MAAM0E,SAASD,6CAIZ3C,GACZ,QAAGA,EAAKgM,WAAU,IAAI6B,MAAOC,UAAU,oCASlC,IAAAxE,EAODtL,KAAKE,MAAMD,SALXyR,EAFCpG,EAEDoG,YACAzB,EAHC3E,EAGD2E,sBACA0B,EAJCrG,EAIDqG,MACAM,EALC3G,EAKD2G,mBACArC,EANCtE,EAMDsE,mBANCjK,EAQwC3F,KAAKE,MAAMS,KAAhDD,EARHiF,EAQGjF,kBAAmBkF,EARtBD,EAQsBC,cAW3B,OACIQ,EAAA7E,EAAAC,cAAA,WACI4E,EAAA7E,EAAAC,cAAA,OAAKuF,UAAU,SAAf,wCACAX,EAAA7E,EAAAC,cAAAmO,EAAA,EAAAnJ,OAAAC,OAAA,CAAMoF,WAAW,QAbF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAMZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzEoG,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,8CAERhG,EAAkB,cAAe,CAC7BW,aAAcqQ,GADlBhR,CAGI0F,EAAA7E,EAAAC,cAAA0O,EAAA,EAAOpJ,MAAP,KACIV,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,OAAO,GAAd,UACAuE,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,OAAO,GAAd,YAKP+D,EAAc,eAcL,KAdsBQ,EAAA7E,EAAAC,cAAA,YAC5B4E,EAAA7E,EAAAC,cAAA,wFACA4E,EAAA7E,EAAAC,cAAC/B,EAAD,CACIsH,UAAU,eAETrG,EAAkB,wBAAyB,CACxCW,aAAc4O,EACd9M,MAAM,CAAC,CACHC,UAAUC,OAHjB3C,CAMG0F,EAAA7E,EAAAC,cAAAS,EAAA,GAAOoE,MAAOC,EAAOsL,gBAOzCxL,EAAA7E,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,0DAELhG,EAAkB,qBAAsB,CACrCW,aAAc4Q,GADjBvR,CAGG0F,EAAA7E,EAAAC,cAAA0O,EAAA,EAAOpJ,MAAP,KACIV,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,OAAO,GAAd,UACAuE,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,OAAO,GAAd,aAKZuE,EAAA7E,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,gBAELhG,EAAkB,QAAS,CACxBW,aAAcsQ,GADjBjR,CAGG0F,EAAA7E,EAAAC,cAAAS,EAAA,GAAO8E,UAAU,gBAIzBX,EAAA7E,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,oDAELhG,EAAkB,qBAAsB,CACrCW,aAAcuO,EAAmB/O,IAAO+O,GAAoB,IAD/DlP,CAGG0F,EAAA7E,EAAAC,cAAA2O,EAAA,GAAYC,aAAcpQ,KAAKqQ,gBAAgBtE,KAAK/L,WAK5DA,KAAKE,MAAMiM,QAAU/F,EAAA7E,EAAAC,cAAA,OAAKuF,UAAU,YAChCX,EAAA7E,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACAoG,EAAA7E,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aAnHNtJ,aA0HjBsD,EAAS,CACXC,KAAM,CACFsL,UAAW,QAEfzP,MAAO,CACH0P,SAAU,OACVC,WAAY,oBACZC,YAAa,SAIfzF,EAAWoD,EAAA,EAAKnD,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZ+C,CAMd7C,GAEYP,qNC/IT9M,EAAWkQ,EAAA,EAAKhQ,KAEhBmN,6MACFzI,MAAQ,+EAKKC,GAAG,IAAAC,EAAAvE,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,GAEJH,EAAKrE,MAAM0E,SAASD,6CAIZ3C,GACZ,QAAGA,EAAKgM,WAAU,IAAI6B,MAAOC,UAAU,oCAQlC,IAAAxE,EAMDtL,KAAKE,MAAMD,SAJXyR,EAFCpG,EAEDoG,YACAzB,EAHC3E,EAGD2E,sBACA0B,EAJCrG,EAIDqG,MACA/B,EALCtE,EAKDsE,mBALCjK,EAOwC3F,KAAKE,MAAMS,KAAhDD,EAPHiF,EAOGjF,kBAAmBkF,EAPtBD,EAOsBC,cAW3B,OACIQ,EAAA7E,EAAAC,cAAA,WACI4E,EAAA7E,EAAAC,cAAA,OAAKuF,UAAU,SAAf,wCACAX,EAAA7E,EAAAC,cAAAmO,EAAA,EAAAnJ,OAAAC,OAAA,CAAMoF,WAAW,QAbF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAMZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzEoG,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,8CAERhG,EAAkB,cAAe,CAC7BW,aAAcqQ,GADlBhR,CAGI0F,EAAA7E,EAAAC,cAAA0O,EAAA,EAAOpJ,MAAP,KACIV,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,OAAO,GAAd,UACAuE,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,OAAO,GAAd,YAKP+D,EAAc,eAcL,KAdsBQ,EAAA7E,EAAAC,cAAA,YAC5B4E,EAAA7E,EAAAC,cAAA,wFACA4E,EAAA7E,EAAAC,cAAC/B,EAAD,CACIsH,UAAU,eAETrG,EAAkB,wBAAyB,CACxCW,aAAc4O,EACd9M,MAAM,CAAC,CACHC,UAAUC,OAHjB3C,CAMG0F,EAAA7E,EAAAC,cAAAS,EAAA,GAAOoE,MAAOC,EAAOsL,gBAQzCxL,EAAA7E,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,gBAELhG,EAAkB,QAAS,CACxBW,aAAcsQ,GADjBjR,CAGG0F,EAAA7E,EAAAC,cAAAS,EAAA,GAAO8E,UAAU,gBAIzBX,EAAA7E,EAAAC,cAAC/B,EAAD,CACIiH,MAAM,oDAELhG,EAAkB,qBAAsB,CACrCW,aAAcuO,EAAmB/O,IAAO+O,GAAoB,IAD/DlP,CAGG0F,EAAA7E,EAAAC,cAAA2O,EAAA,GAAYC,aAAcpQ,KAAKqQ,gBAAgBtE,KAAK/L,WAK5DA,KAAKE,MAAMiM,QAAU/F,EAAA7E,EAAAC,cAAA,OAAKuF,UAAU,YAChCX,EAAA7E,EAAAC,cAAA4K,EAAA,GAAQC,SAAUrM,KAAKE,MAAMmM,SAAUnL,KAAK,UAAUQ,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACAoG,EAAA7E,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aArGNtJ,aA4GjBsD,EAAS,CACXC,KAAM,CACFsL,UAAW,QAEfzP,MAAO,CACH0P,SAAU,OACVC,WAAY,oBACZC,YAAa,SAIfzF,EAAWoD,EAAA,EAAKnD,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZ+C,CAMd7C,GAEYP,qNCjIT9M,EAAWkQ,EAAA,EAAKhQ,KAEhBuS,uLACW5N,GAAG,IAAAvE,EAAAC,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKvE,GAC7BuE,IAEJvE,EAAKgS,SAAWhS,EAAKgS,SAAW,IAAItC,KAAK1P,EAAKgS,UAAUrC,UAAY,GACpE/P,EAAKG,MAAM0E,SAASzE,uCAInB,IAAAmL,EAWDtL,KAAKE,MAAMD,SATXmS,EAFC9G,EAED8G,IACApN,EAHCsG,EAGDtG,IACAqN,EAJC/G,EAID+G,SACAF,EALC7G,EAKD6G,SACAG,EANChH,EAMDgH,IACAC,EAPCjH,EAODiH,gBACAC,EARClH,EAQDkH,YACAC,EATCnH,EASDmH,UACAC,EAVCpH,EAUDoH,YAEIhS,EAAsBV,KAAKE,MAAMS,KAAjCD,kBAWR,OACI0F,EAAA7E,EAAAC,cAAA,WACI4E,EAAA7E,EAAAC,cAAA,OAAKuF,UAAU,SAAf,kCACAX,EAAA7E,EAAAC,cAAAmO,EAAA,EAAAnJ,OAAAC,OAAA,CAAMoF,WAAW,QAbF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAMZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzEoG,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,gBAERhG,EAAkB,MAAO,CACrBW,aAAc+Q,GADlB1R,CAGI0F,EAAA7E,EAAAC,cAAA0O,EAAA,EAAOpJ,MAAP,KACIV,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,MAAO,GAAd,UACAuE,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,MAAO,GAAd,aAKhBuE,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,gBAERhG,EAAkB,MAAO,CACrBW,aAAc2D,EACd7B,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMI0F,EAAA7E,EAAAC,cAAAS,EAAA,UAIZmE,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,gBAERhG,EAAkB,WAAY,CAC1BW,aAAcgR,GADlB3R,CAGI0F,EAAA7E,EAAAC,cAAA0O,EAAA,EAAOpJ,MAAP,KACIV,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,MAAO,GAAd,gBACAuE,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,MAAO,GAAd,mBAKhBuE,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,4BAERhG,EAAkB,WAAY,CAC1BW,aAAc8Q,EAAStR,IAAOsR,GAAU,IAD5CzR,CAGI0F,EAAA7E,EAAAC,cAAA2O,EAAA,UAIZ/J,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,gBAERhG,EAAkB,MAAO,CACrBW,aAAciR,EACdnP,MAAO,CAAC,CACJC,UAAWO,OAHnBjD,CAMI0F,EAAA7E,EAAAC,cAAAS,EAAA,UAIZmE,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,4BAERhG,EAAkB,kBAAmB,CACjCW,aAAckR,GADlB7R,CAGI0F,EAAA7E,EAAAC,cAAA0O,EAAA,EAAOpJ,MAAP,KACIV,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,MAAO,GAAd,kCACAuE,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,MAAO,GAAd,gBACAuE,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,MAAO,GAAd,kCACAuE,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,MAAO,GAAd,qCAKhBuE,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,4BAERhG,EAAkB,cAAe,CAC7BW,aAAcmR,GADlB9R,CAGI0F,EAAA7E,EAAAC,cAAA0O,EAAA,EAAOpJ,MAAP,KACIV,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,MAAO,GAAd,sBACAuE,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,MAAO,GAAd,2BACAuE,EAAA7E,EAAAC,cAAA0O,EAAA,GAAOrO,MAAO,GAAd,8BAKhBuE,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,4BAERhG,EAAkB,YAAa,CAC3BW,aAAcoR,EACdtP,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMI0F,EAAA7E,EAAAC,cAAAS,EAAA,UAIZmE,EAAA7E,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,gDAERhG,EAAkB,cAAe,CAC7BW,aAAcqR,GADlBhS,CAGI0F,EAAA7E,EAAAC,cAAAS,EAAA,WAMZjC,KAAKE,MAAMiM,QAAU/F,EAAA7E,EAAAC,cAAA,OAAKuF,UAAU,YAChCX,EAAA7E,EAAAC,cAAA4K,EAAA,GAAQlL,KAAK,UAAUmL,SAAUrM,KAAKE,MAAMmM,SAAU3K,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACAoG,EAAA7E,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aApJPtJ,aA2JhBuJ,EAAWoD,EAAA,EAAKnD,OAAO,CACzBC,eAAgB,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACPjM,EAAM0M,YAAW,KAHZ+C,CAMduC,GAEY3F,+PCnKT9M,EAAWkT,EAAA,EAAKhT,KAChBiT,EAAgBC,EAAA,EAAS/L,MAEzBgM,6MAuDFhR,aAAe,SAACzB,EAAMG,EAAOU,EAAMgB,GAC1BnC,EAAKsE,MAAMpE,SAASI,KACrBN,EAAKsE,MAAMpE,SAASI,GAAQ,IAE3BN,EAAKsE,MAAMpE,SAASI,GAAMG,KAC3BT,EAAKsE,MAAMpE,SAASI,GAAMG,GAAS,IAEnC0B,EAAM+L,OACNlO,EAAKsE,MAAMpE,SAASI,GAAMG,GAAOU,GAAQgB,EAAM+L,OAAOpM,MAGlD9B,EAAKsE,MAAMpE,SAASI,GAAMG,GAAOU,GADzB,WAARA,EACyCgB,EAEAA,EAAMyM,OAAO,iBAgBlEhN,aAAe,SAACtB,EAAMG,GACdT,EAAKsE,MAAMpE,SAASI,KACpBN,EAAKsE,MAAMpE,SAASI,GAAMkO,OAAO/N,EAAO,GACxCT,EAAKmO,SAAS,CACVjO,SAAUuG,OAAOC,OAAO,GAAI1G,EAAKsE,MAAMpE,YAE3CF,EAAKG,MAAM0M,YAAW,yFAvF1B5M,KAAKkO,SAAS,CACVjO,SAAUkO,KAAKC,MAAMD,KAAKE,UAAUrO,KAAKE,MAAMD,kDAK1CqE,GAAG,IAAAC,EAAAvE,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GACjC,IAAID,EAAJ,CAiBA,IAAK,IAAIoK,KAfLnK,EAAOoO,kBAAoBpO,EAAOgJ,gBAAkBhJ,EAAOqO,kBAAoBrO,EAAOsO,qBACtFtO,EAAOuO,qBAAuBvO,EAAOwO,yBAA2B,IAAMxO,EAAOyO,0BAC7EzO,EAAO0O,qBAAuB1O,EAAO2O,yBAA2B,IAAM3O,EAAO4O,0BAC7E5O,EAAO6O,sBAAwB7O,EAAO8O,0BAA4B,IAAM9O,EAAO+O,2BAC/E/O,EAAOgP,mBAAqBhP,EAAOiP,uBAAyB,IAAMjP,EAAOkP,+BAClElP,EAAOwO,gCACPxO,EAAOyO,iCACPzO,EAAO2O,gCACP3O,EAAO4O,iCACP5O,EAAO8O,iCACP9O,EAAO+O,kCACP/O,EAAOiP,8BACPjP,EAAOkP,yBAGJlP,EAC2C,GAAjDmK,EAAE9H,QAAQ,qCAAkF,GAAtC8H,EAAE9H,QAAQ,iCACzDrC,EAAOmK,GAEM,iBAAbnK,EAAOmK,KACVnK,EAAOmK,GAAGH,OACVhK,EAAOmK,GAAKnK,EAAOmK,GAAGH,OAAO,cAE7BhK,EAAOmK,GAAKnK,EAAOmK,GAAGE,KAAK,WAKnCrK,EAAOmP,8BACPnP,EAAOoP,gCAAkCxP,EAAKF,MAAMpE,SAAS8T,iCAG7DpP,EAAOqO,kBAAoBrO,EAAOqP,yBAAyBhN,QAAQ,iBAAS,IAC5ErC,EAAOsP,qBAAuB1P,EAAKF,MAAMpE,SAASgU,sBAGtD1P,EAAKrE,MAAM0E,SAASD,wCAuBlBtE,GACDL,KAAKqE,MAAMpE,SAASI,KACrBL,KAAKqE,MAAMpE,SAASI,GAAQ,IAEhC,IAAIF,EAAOH,KAAKqE,MAAMpE,SAASI,GAAMiO,OAAO,CAAC,KAC7CtO,KAAKkO,SAAS,CACVjO,SAAUuG,OAAOC,OAAO,GAAIzG,KAAKqE,MAAMpE,SAA7BuG,OAAA0N,EAAA,EAAA1N,CAAA,GAA0CnG,EAAOF,MAE/DH,KAAKE,MAAM0M,YAAW,oCAajB,IAAAuC,EAAAC,EAAA9D,EAsCDtL,KAAKE,MAAMD,SApCXkU,EAFC7I,EAED6I,aACAC,EAHC9I,EAGD8I,oBACAC,EAJC/I,EAID+I,wBACAC,EALChJ,EAKDgJ,gBACAC,EANCjJ,EAMDiJ,mBACAC,EAPClJ,EAODkJ,UACAC,EARCnJ,EAQDmJ,aACAC,EATCpJ,EASDoJ,iBACAC,EAVCrJ,EAUDqJ,UACAC,EAXCtJ,EAWDsJ,oBACAC,EAZCvJ,EAYDuJ,uBACAC,EAbCxJ,EAaDwJ,UACAC,EAdCzJ,EAcDyJ,aACAC,EAfC1J,EAeD0J,iBACAC,EAhBC3J,EAgBD2J,oBACAC,EAjBC5J,EAiBD4J,uBACAlC,EAlBC1H,EAkBD0H,iBACAE,EAnBC5H,EAmBD4H,qBACAc,EApBC1I,EAoBD0I,yBAGAjB,GAvBCzH,EAqBD6J,8BArBC7J,EAsBD2I,qBAtBC3I,EAuBDyH,kBACAM,EAxBC/H,EAwBD+H,qBACA+B,EAzBC9J,EAyBD8J,qCACAC,EA1BC/J,EA0BD+J,gCACAC,EA3BChK,EA2BDgK,+BACAC,EA5BCjK,EA4BDiK,+BACAzB,EA7BCxI,EA6BDwI,4BAEAb,GA/BC3H,EA8BDyI,gCA9BCzI,EA+BD2H,mBACAO,EAhCClI,EAgCDkI,sBACAgC,EAjCClK,EAiCDkK,0BACA7H,EAlCCrC,EAkCDqC,eACAgG,EAnCCrI,EAmCDqI,mBACA8B,EApCCnK,EAoCDmK,uBACAC,EArCCpK,EAqCDoK,wBArCC/P,EAuCwC3F,KAAKE,MAAMS,KAAhDD,EAvCHiF,EAuCGjF,kBAAmBkF,EAvCtBD,EAuCsBC,cACrBC,EAAiB,CACnBC,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAGdG,EAAkB,CACpBL,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,KAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,KAGpB,OACI2P,EAAApU,EAAAC,cAAA,OAAKuF,UAAU,UACX4O,EAAApU,EAAAC,cAAA,OAAKuF,UAAU,SAAf,yCACA4O,EAAApU,EAAAC,cAAAmR,EAAA,EAAAnM,OAAAC,OAAA,CAAMoF,WAAW,QAAWhG,EAA5B,CAA4CjB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzE2V,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,8CAERhG,EAAkB,eAAgB,CAC9BW,aAAc8S,EAAatT,IAAOsT,GAAc,IADpDzT,CAGIiV,EAAApU,EAAAC,cAAAO,EAAA,UAKZ4T,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,8CAERhG,EAAkB,sBAAuB,CACrCW,aAAc+S,GADlB1T,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,uBAAyB+P,EAAApU,EAAAC,cAAA,2CAAgBmU,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,cAAcL,MAAM,IAEvFhG,EAAkB,0BAA2B,CACzCW,aAAcgT,EAAwBxT,IAAOwT,GAAyB,IAD1E3T,CAGIiV,EAAApU,EAAAC,cAAAO,EAAA,WAGS,MAI7B4T,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,4BAERhG,EAAkB,kBAAmB,CACjCW,aAAciT,EAAkBA,EAAgBpN,MAAM,UAAO,IADjExG,CAGIiV,EAAApU,EAAAC,cAACoR,EAAD,CAAexR,QAAS,CACpB,CAAEsF,MAAO,eAAM7E,MAAO,gBACtB,CAAE6E,MAAO,eAAM7E,MAAO,gBACtB,CAAE6E,MAAO,eAAM7E,MAAO,gBACtB,CAAE6E,MAAO,eAAM7E,MAAO,gBACtB,CAAE6E,MAAO,eAAM7E,MAAO,qBAKtC8T,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,wCAERhG,EAAkB,qBAAsB,CACpCW,aAAckT,GADlB7T,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,aAKhB8T,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,gBAERhG,EAAkB,YAAa,CAC3BW,aAAcmT,GADlB9T,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,aAAe+P,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAC7C4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAGZrG,EAAkB,eAAgB,CAC9BW,aAAcoT,EACdtR,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,qBAAMC,WAAW,SAAIlF,UAAU,kBAK9D4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,mBAAoB,CAClCW,aAAcqT,EACdvR,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,eAAKC,WAAW,gBAAMlF,UAAU,kBAI/D4O,EAAApU,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CAAUC,MAAM,gBAASb,GAEjBnF,EAAkB,YAAa,CAC3BW,aAAcsT,EAAYA,EAAUzN,MAAM,UAAO,IADrDxG,CAGIiV,EAAApU,EAAAC,cAACoR,EAAD,CAAe7L,UAAU,UAAU3F,QAAS,CACxC,CAAEsF,MAAO,eAAM7E,MAAO,gBACtB,CAAE6E,MAAO,eAAM7E,MAAO,gBACtB,CAAE6E,MAAO,eAAM7E,MAAO,gBACtB,CAAE6E,MAAO,eAAM7E,MAAO,qBAKtC8T,EAAApU,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CAAUC,MAAM,gBAASb,GAEjBnF,EAAkB,sBAAuB,CACrCW,aAAcuT,GADlBlU,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,uBAAyB+P,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEnDrG,EAAkB,yBAA0B,CACxCW,aAAcwT,GADlBnU,CAGIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,eAAKC,WAAW,SAAIlF,UAAU,kBAG/C,OAGZ,MAGtB4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,gBAERhG,EAAkB,YAAa,CAC3BW,aAAcyT,GADlBpU,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,aAAe+P,EAAApU,EAAAC,cAAA,YACzBmU,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAGZrG,EAAkB,eAAgB,CAC9BW,aAAc0T,EACd5R,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,iCAAQC,WAAW,SAAIlF,UAAU,kBAKhE4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,mBAAoB,CAClCW,aAAc2T,EACd7R,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,eAAKC,WAAW,gBAAMlF,UAAU,mBAIzD,MAGlB4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,gBAERhG,EAAkB,sBAAuB,CACrCW,aAAc4T,GADlBvU,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,uBAAyB+P,EAAApU,EAAAC,cAAA,YACnCmU,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAGZrG,EAAkB,yBAA0B,CACxCW,aAAc6T,EACd/R,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,iCAAQC,WAAW,SAAIlF,UAAU,mBAK1D,MAIlB4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,4BAERhG,EAAkB,mBAAoB,CAClCW,aAAc2R,GADlBtS,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,oBAAsB+P,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eACpD4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,2BAA4B,CAC1CW,aAAcqG,YAAgBwL,EAAsB,GACpD/P,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,2BAAOC,WAAW,SAAIlF,UAAU,kBAI/D4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,4BAA6B,CAC3CW,aAAcqG,YAAgBwL,EAAsB,GACpD/P,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,SAAIlF,UAAU,kBAI5C4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,wCAAUL,MAAO,CAACuP,aAAe,IAEzClV,EAAkB,2BAA4B,CAC1CW,aAAc2S,EAA2BA,EAAyB9M,MAAM,UAAO,IADnFxG,CAGIiV,EAAApU,EAAAC,cAACoR,EAAD,CAAevM,MAAO,CAAEwP,SAAY,SAAWzU,QAAS,CACpD,CAAEsF,MAAO,SAAK7E,MAAO,UACrB,CAAE6E,MAAO,2DAAe7E,MAAO,4DAC/B,CAAE6E,MAAO,kEAAiB7E,MAAO,mEACjC,CAAE6E,MAAO,qBAAO7E,MAAO,sBACvB,CAAE6E,MAAO,2DAAe7E,MAAO,4DAC/B,CAAE6E,MAAO,qFAAqB7E,MAAO,sFACrC,CAAE6E,MAAO,gGAAsB7E,MAAO,iGACtC,CAAE6E,MAAO,eAAM7E,MAAO,sBAK5B,MAIlB+D,EAAc,qBAAuBA,EAAc,6BAA+BA,EAAc,4BAA4BoB,QAAQ,iBAAS,EAAI2O,EAAApU,EAAAC,cAACsU,EAAA,SAAD3G,EAAA,CAAa9O,KAAK,uBAAuBsB,aAAc3B,KAAK2B,aAAaoK,KAAK/L,MAAO8C,UAAW9C,KAAK8C,UAAUiJ,KAAK/L,MAAO8B,aAAc9B,KAAK8B,aAAaiK,KAAK/L,OAAhKwG,OAAA0N,EAAA,EAAA1N,CAAA2I,EAAA,eAAqLnP,KAAK2B,aAAaoK,KAAK/L,OAA5MwG,OAAA0N,EAAA,EAAA1N,CAAA2I,EAAA,OAAyNnP,KAAKqE,MAAMpE,UAApOuG,OAAA0N,EAAA,EAAA1N,CAAA2I,EAAA,OAAoPnP,KAAKE,MAAMS,MAA/PwO,IAA0Q,KAE/ZwG,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,4BAERhG,EAAkB,mBAAoB,CAClCW,aAAc0R,GADlBrS,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,oBAAsB+P,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eACpD4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,2BAA4B,CAC1CW,aAAcqG,YAAgB2L,EAAsB,GACpDlQ,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,qBAAMC,WAAW,SAAIlF,UAAU,kBAI9D4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,4BAA6B,CAC3CW,aAAcqG,YAAgB2L,EAAsB,GACpDlQ,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,SAAIlF,UAAU,kBAI5C4O,EAAApU,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CAAUC,MAAM,8CAAcP,GAEtBzF,EAAkB,uCAAwC,CACtDW,aAAc+T,GADlB1U,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,aAKhB8T,EAAApU,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CAAUC,MAAM,wCAAcP,GAEtBzF,EAAkB,kCAAmC,CACjDW,aAAcgU,GADlB3U,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,aAKhB8T,EAAApU,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CAAUC,MAAM,4EAAoBP,GAE5BzF,EAAkB,iCAAkC,CAChDW,aAAciU,GADlB5U,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,aAKhB8T,EAAApU,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CAAUC,MAAM,4EAAoBP,GAE5BzF,EAAkB,iCAAkC,CAChDW,aAAckU,GADlB7U,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,aAKhB8T,EAAApU,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CAAUC,MAAM,kCAAaP,GAErBzF,EAAkB,8BAA+B,CAC7CW,aAAcyS,GADlBpT,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,cAKN,MAIlB+D,EAAc,qBAAuBA,EAAc,+BAAiC+P,EAAApU,EAAAC,cAACsU,EAAA,SAAD1G,EAAA,CAAa/O,KAAK,kCAAkCsB,aAAc3B,KAAK2B,aAAaoK,KAAK/L,MAAO8C,UAAW9C,KAAK8C,UAAUiJ,KAAK/L,MAAO8B,aAAc9B,KAAK8B,aAAaiK,KAAK/L,OAA3KwG,OAAA0N,EAAA,EAAA1N,CAAA4I,EAAA,eAAgMpP,KAAK2B,aAAaoK,KAAK/L,OAAvNwG,OAAA0N,EAAA,EAAA1N,CAAA4I,EAAA,OAAoOpP,KAAKqE,MAAMpE,UAA/OuG,OAAA0N,EAAA,EAAA1N,CAAA4I,EAAA,OAA+PpP,KAAKE,MAAMS,MAA1QyO,IAAqR,KAG7WuG,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,+CAERhG,EAAkB,oBAAqB,CACnCW,aAAc4R,GADlBvS,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,qBAAuB+P,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eACrD4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,4BAA6B,CAC3CW,aAAcqG,YAAgB8L,EAAuB,GACrDrQ,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,uCAASC,WAAW,SAAIlF,UAAU,kBAIjE4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,6BAA8B,CAC5CW,aAAcqG,YAAgB8L,EAAuB,GACrDrQ,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,SAAIlF,UAAU,kBAK5C4O,EAAApU,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CAAUC,MAAM,+CAAeP,GAEvBzF,EAAkB,4BAA6B,CAC3CW,aAAcmU,GADlB9U,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,CAAaC,UAAU,WACnB4O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,cAKN,MAGtB8T,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,sBAERhG,EAAkB,iBAAkB,CAChCW,aAAcsM,GADlBjN,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,kBAAoB+P,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAClD4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,yBAA0B,CACxCW,aAAcqG,YAAgBiM,EAAoB,GAClDxQ,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,uCAASC,WAAW,SAAIlF,UAAU,kBAIjE4O,EAAApU,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,0BAA2B,CACzCW,aAAcqG,YAAgBiM,EAAoB,GAClDxQ,MAAO,CAAC,CACJC,UAAWQ,OAHnBlD,CAMIiV,EAAApU,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,SAAIlF,UAAU,kBAI5C4O,EAAApU,EAAAC,cAAC/B,EAAD+G,OAAAC,OAAA,CAAUC,MAAM,+CAAeP,GAEvBzF,EAAkB,yBAA0B,CACxCW,aAAcoU,GADlB/U,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,CAAaC,UAAU,WACnB4O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,cAKN,MAItB8T,EAAApU,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,sEAERhG,EAAkB,0BAA2B,CACzCW,aAAcqU,GADlBhV,CAGIiV,EAAApU,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI6O,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA8T,EAAApU,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,cAOhB7B,KAAKE,MAAMiM,QAAUwJ,EAAApU,EAAAC,cAAA,OAAKuF,UAAU,YAChC4O,EAAApU,EAAAC,cAAA4K,EAAA,GAAQlL,KAAK,UAAUmL,SAAUrM,KAAKE,MAAMmM,SAAU3K,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACA2V,EAAApU,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aAnpBPtJ,aA0pBhBuJ,EAAWoG,EAAA,EAAKnG,OAAO,CACzBC,eAAgB,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACPjM,EAAM0M,YAAW,KAHZ+F,CAMdG,GAEYvG,4LCvqBT9M,EAAWyE,EAAA,EAAKvE,KAAY0L,uLAEjB/G,GAAG,IAAAvE,EAAAC,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,IAEJC,EAAOoR,wBAA0BpR,EAAOqR,4BAA8B,IAAMrR,EAAOsR,6BACnFtR,EAAOuR,2BAA6BvR,EAAOwR,+BAAiC,IAAMxR,EAAOyR,gCACzFzR,EAAO0R,6BAA+B1R,EAAO2R,iCAAmC,IAAM3R,EAAO4R,yCACtF5R,EAAO2R,wCACP3R,EAAO4R,yCACP5R,EAAOwR,sCACPxR,EAAOyR,uCACPzR,EAAOqR,mCACPrR,EAAOsR,6BACdlW,EAAKG,MAAM0E,SAASD,uCAGnB,IAAA2G,EAmBDtL,KAAKE,MAAMD,SAjBXuW,EAFClL,EAEDkL,yBACAC,EAHCnL,EAGDmL,4BACAvJ,EAJC5B,EAID4B,wBACAwJ,EALCpL,EAKDoL,yBACAC,EANCrL,EAMDqL,wBACAC,EAPCtL,EAODsL,yBACAC,EARCvL,EAQDuL,uBACAC,EATCxL,EASDwL,uBACAC,EAVCzL,EAUDyL,4BACAC,EAXC1L,EAWD0L,yBACAX,EAZC/K,EAYD+K,6BACAY,EAbC3L,EAaD2L,2BACAf,EAdC5K,EAcD4K,2BACAgB,EAfC5L,EAeD4L,oBACAnB,EAhBCzK,EAgBDyK,wBACAoB,EAjBC7L,EAiBD6L,iCACAC,EAlBC9L,EAkBD8L,oCAlBCzR,EAoBwC3F,KAAKE,MAAMS,KAAhDD,EApBHiF,EAoBGjF,kBAAmBkF,EApBtBD,EAoBsBC,cAW3B,OACIgG,EAAArK,EAAAC,cAAA,WACIoK,EAAArK,EAAAC,cAAA,OAAKuF,UAAU,SAAf,kCACA6E,EAAArK,EAAAC,cAAA0C,EAAA,EAAAsC,OAAAC,OAAA,CAAMoF,WAAW,QAbF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAMZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzE4L,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,sEAERhG,EAAkB,2BAA4B,CAC1CW,aAAcmV,GADlB9V,CAGIkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,4BACVgG,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,8BAA+B,CAC7CW,aAAcoV,GADlB/V,CAGIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,2BAAOjF,UAAU,yBAGlC,MAG1B6E,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,oDAERhG,EAAkB,0BAA2B,CACzCW,aAAc6L,GADlBxM,CAGIkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,2BACVgG,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,2BAA4B,CAC1CW,aAAcqV,GADlBhW,CAGIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,qBAAMjF,UAAU,yBAGjC,MAG1B6E,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,kCAERhG,EAAkB,0BAA2B,CACzCW,aAAcsV,GADlBjW,CAGIkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,2BACVgG,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,2BAA4B,CAC1CW,aAAcuV,GADlBlW,CAGIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,qBAAMjF,UAAU,yBAGjC,MAG1B6E,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,8CAERhG,EAAkB,yBAA0B,CACxCW,aAAcwV,GADlBnW,CAGIkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,0BACVgG,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAApB,qBAGQrG,EAAkB,yBAA0B,CACxCW,aAAcyV,GADlBpW,CAEGkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACC8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,MAAM,wCAAb,wCACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,MAAM,wCAAb,2CAGE,MAG1B+J,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,oDAERhG,EAAkB,8BAA+B,CAC7CW,aAAc0V,GADlBrW,CAGIkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,aAKhB+J,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,kFAERhG,EAAkB,2BAA4B,CAC1CW,aAAc2V,GADlBtW,CAGIkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,4BAA8BgG,EAAArK,EAAAC,cAAA,YACxCoK,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,mCAAoC,CAClDW,aAAcgV,EAA+B3O,YAAgB2O,EAA8B,GAAK,GAChGlT,MAAM,CAAC,CACHC,UAAUQ,OAHlBlD,CAMIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,kCAASC,WAAW,SAAIlF,UAAU,kBAIjE6E,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,oCAAqC,CACnDW,aAAcgV,EAA+B3O,YAAgB2O,EAA8B,GAAK,GAChGlT,MAAM,CAAC,CACHC,UAAUQ,OAHlBlD,CAMIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,SAAIlF,UAAU,mBAItC,MAGlB6E,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,iDAERhG,EAAkB,6BAA8B,CAC5CW,aAAc4V,GADlBvW,CAGIkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,8BAAgCgG,EAAArK,EAAAC,cAAA,YAC1CoK,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eACfrG,EAAkB,iCAAkC,CACjDW,aAAc6U,EAA6BxO,YAAgBwO,EAA4B,GAAK,GAC5F/S,MAAM,CAAC,CACHC,UAAUQ,OAHjBlD,CAMGkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,eAAKC,WAAW,SAAIlF,UAAU,kBAIzD6E,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eACfrG,EAAkB,kCAAmC,CAClDW,aAAc6U,EAA6BxO,YAAgBwO,EAA4B,GAAK,GAC5F/S,MAAM,CAAC,CACHC,UAAUQ,OAHjBlD,CAMGkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,SAAIlF,UAAU,mBAIlC,MAGlB6E,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,8CAERhG,EAAkB,sBAAuB,CACrCW,aAAc6V,GADlBxW,CAGIkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,uBAAyBgG,EAAArK,EAAAC,cAAA,YACnCoK,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eACfrG,EAAkB,8BAA+B,CAC9CW,aAAc0U,EAA0BrO,YAAgBqO,EAAyB,GAAK,GACtF5S,MAAM,CAAC,CACHC,UAAUQ,OAHjBlD,CAMGkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,kCAASC,WAAW,SAAIlF,UAAU,kBAI7D6E,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eACfrG,EAAkB,+BAAgC,CAC/CW,aAAc0U,EAA0BrO,YAAgBqO,EAAyB,GAAK,GACtF5S,MAAM,CAAC,CACHC,UAAUQ,OAHjBlD,CAMGkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,SAAIlF,UAAU,mBAIlC,MAGlB6E,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,0DAERhG,EAAkB,mCAAoC,CAClDW,aAAc8V,GADlBzW,CAGIkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,UACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,YAKR+D,EAAc,oCACVgG,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,sCAAuC,CACrDW,aAAc+V,GADlB1W,CAGIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,uCAASjF,UAAU,yBAGpC,OAK1B/G,KAAKE,MAAMiM,QAAUP,EAAArK,EAAAC,cAAA,OAAKuF,UAAU,YAChC6E,EAAArK,EAAAC,cAAA4K,EAAA,GAAQlL,KAAK,UAAUmL,SAAUrM,KAAKE,MAAMmM,SAAU3K,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACA4L,EAAArK,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aArTqBtJ,aA2T5CuJ,EAAWrI,EAAA,EAAKsI,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZ1I,CAMdmH,GAEYkB,qKCpUT9M,EAAWoN,EAAA,EAAKlN,KAEhB0L,uLAGW/G,GAAG,IAAAvE,EAAAC,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,GAEJ3E,EAAKG,MAAM0E,SAASD,sCAInB,IAAA2G,EAUDtL,KAAKE,MAAMD,SARXoX,EAFC/L,EAED+L,iBACAC,EAHChM,EAGDgM,kBACAC,EAJCjM,EAIDiM,UACAC,EALClM,EAKDkM,OACAC,EANCnM,EAMDmM,OACAC,EAPCpM,EAODoM,IACAC,EARCrM,EAQDqM,UACAC,EATCtM,EASDsM,QAEIlX,EAAsBV,KAAKE,MAAMS,KAAjCD,kBAWR,OACIsM,EAAAzL,EAAAC,cAAA,WACIwL,EAAAzL,EAAAC,cAAA,OAAKuF,UAAU,SAAf,4BACAiG,EAAAzL,EAAAC,cAAAqL,EAAA,EAAArG,OAAAC,OAAA,CAAMoF,WAAW,QAbF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,KAMZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzEgN,EAAAzL,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,wCACZsG,EAAAzL,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,mBAAoB,CAClCW,aAAcgW,EACdlU,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIsM,EAAAzL,EAAAC,cAAAoF,EAAA,GAAOG,UAAU,kBAI7BiG,EAAAzL,EAAAC,cAAA,iBACAwL,EAAAzL,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,oBAAqB,CACnCW,aAAciW,EACdnU,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIsM,EAAAzL,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,OAAOlF,UAAU,mBAKnDiG,EAAAzL,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,wCAERhG,EAAkB,YAAa,CAC3BW,aAAckW,EACdpU,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIsM,EAAAzL,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,oBAI9Be,EAAAzL,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,gBAERhG,EAAkB,SAAU,CACxBW,aAAcmW,EACdrU,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIsM,EAAAzL,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,SAI9Be,EAAAzL,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,gBAERhG,EAAkB,SAAU,CACxBW,aAAcoW,EACdtU,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIsM,EAAAzL,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,SAI9Be,EAAAzL,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,OAERhG,EAAkB,MAAO,CACrBW,aAAcqW,EACdvU,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIsM,EAAAzL,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,YAI9Be,EAAAzL,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,gBAERhG,EAAkB,YAAa,CAC3BW,aAAcsW,EACdxU,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIsM,EAAAzL,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,SAI9Be,EAAAzL,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,gBAERhG,EAAkB,UAAW,CACzBW,aAAcuW,EACdzU,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIsM,EAAAzL,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,UAM9BjM,KAAKE,MAAMiM,QAAUa,EAAAzL,EAAAC,cAAA,OAAKuF,UAAU,YAChCiG,EAAAzL,EAAAC,cAAA4K,EAAA,GAAQlL,KAAK,UAAUmL,SAAUrM,KAAKE,MAAMmM,SAAU3K,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACAgN,EAAAzL,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aA9IPtJ,aAqJhBuJ,EAAWM,EAAA,EAAKL,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZC,CAMdxB,GAEYkB,oLC/JT9M,EAAWyE,EAAA,EAAKvE,KAEhB0L,uLAGW/G,GAAG,IAAAvE,EAAAC,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,GAEJ3E,EAAKG,MAAM0E,SAASD,sCAKnB,IAAA2G,EAQDtL,KAAKE,MAAMD,SANX4X,EAFCvM,EAEDuM,kBACAC,EAHCxM,EAGDwM,qBACAC,EAJCzM,EAIDyM,yBACAC,EALC1M,EAKD0M,wBACAC,EANC3M,EAMD2M,0BACAC,EAPC5M,EAOD4M,yBAPCvS,EASwC3F,KAAKE,MAAMS,KAAhDD,EATHiF,EASGjF,kBAAmBkF,EATtBD,EASsBC,cAW3B,OACIgG,EAAArK,EAAAC,cAAA,WACIoK,EAAArK,EAAAC,cAAA,OAAKuF,UAAU,SAAf,wCACA6E,EAAArK,EAAAC,cAAA0C,EAAA,EAAAsC,OAAAC,OAAA,CAAMoF,WAAW,QAbF,CACnB/F,SAAU,CACNC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAMZ,CAA4CpB,SAAU5E,KAAK8L,aAAaC,KAAK/L,QACzE4L,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,wCAERhG,EAAkB,oBAAqB,CACnCW,aAAcwW,GADlBnX,CAGIkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,gBACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,kBAKR+D,EAAc,qBACVgG,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEZrG,EAAkB,uBAAwB,CACtCW,aAAcyW,GADlBpX,CAGIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOoF,YAAY,2CAGjB,MAI1BJ,EAAArK,EAAAC,cAAC/B,EAAD,CAAUiH,MAAM,iDACZkF,EAAArK,EAAAC,cAAC/B,EAAD,KACImM,EAAArK,EAAAC,cAAA,kCAEId,EAAkB,2BAA4B,CAC1CW,aAAc0W,GADlBrX,CAIIkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,gBACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,kBAKR+D,EAAc,4BAA8BgG,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAExDrG,EAAkB,0BAA2B,CACzCW,aAAc2W,EACd7U,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,iCAAQlF,UAAU,kBAGlC,MAItB6E,EAAArK,EAAAC,cAAC/B,EAAD,KACImM,EAAArK,EAAAC,cAAA,kCAEId,EAAkB,4BAA6B,CAC3CW,aAAc4W,GADlBvX,CAIIkL,EAAArK,EAAAC,cAAAgM,EAAA,EAAO1G,MAAP,KACI8E,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,gBACA+J,EAAArK,EAAAC,cAAAgM,EAAA,GAAO3L,OAAO,GAAd,kBAOR+D,EAAc,6BAA+BgG,EAAArK,EAAAC,cAAC/B,EAAD,CAAUsH,UAAU,eAEzDrG,EAAkB,2BAA4B,CAC1CW,aAAc6W,EACd/U,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMIkL,EAAArK,EAAAC,cAAAoF,EAAA,GAAOqF,WAAW,iCAAQlF,UAAU,kBAGlC,QAQ1B/G,KAAKE,MAAMiM,QAAUP,EAAArK,EAAAC,cAAA,OAAKuF,UAAU,YAChC6E,EAAArK,EAAAC,cAAA4K,EAAA,GAAQlL,KAAK,UAAUmL,SAAUrM,KAAKE,MAAMmM,SAAU3K,QAAS1B,KAAK8L,aAAaC,KAAK/L,OAAtF,gBACA4L,EAAArK,EAAAC,cAAA4K,EAAA,GAAQ1K,QAAS1B,KAAKE,MAAMoM,UAA5B,iBACK,aAlIPtJ,aAyIhBuJ,EAAWrI,EAAA,EAAKsI,OAAO,CACzBC,eAAe,SAACvM,EAAOwM,EAAeC,GAC9BzM,EAAMiM,SACNjM,EAAM0M,YAAW,KAHZ1I,CAMdmH,GAEYkB,sMCnJT9M,EAAWkQ,EAAA,EAAKhQ,KAEhB0L,uLAEW/G,GAAG,IAAAvE,EAAAC,KACZsE,EAAEE,iBACFxE,KAAKE,MAAMS,KAAK8D,eAAe,SAACC,EAAKC,GAC7BD,IAGJC,EAAO2L,UAAwC,GAA5B3L,EAAOgM,eAAe,GAAUhM,EAAO2L,UAAY,IAAM3L,EAAO2L,UAAY,IAC/F3L,EAAO4L,aAA8C,GAA/B5L,EAAOiM,kBAAkB,GAAUjM,EAAO4L,aAAe,IAAM5L,EAAO4L,aAAe,IAC3G5L,EAAO6L,MAAgC,GAAxB7L,EAAOkM,WAAW,GAAUlM,EAAO6L,MAAQ,IAAM7L,EAAO6L,MAAQ,IAC/E7L,EAAO8L,QAAoC,GAA1B9L,EAAOmM,aAAa,GAAUnM,EAAO8L,QAAU,IAAM9L,EAAO8L,QAAU,IACvF9L,EAAO+L,MAAgC,GAAxB/L,EAAOoM,WAAW,GAAUpM,EAAO+L,MAAQ,IAAM/L,EAAO+L,MAAQ,WACxE/L,EAAOoM,kBACPpM,EAAOmM,oBACPnM,EAAOkM,kBACPlM,EAAOiM,yBACPjM,EAAOgM,eACd5Q,EAAKG,MAAM0E,SAASD,uCAInB,IAAAJ,EAAAvE,KACGU,EAAsBV,KAAKE,MAAMS,KAAjCD,kBA+CFyB,EAAU,CAAC,CACbC,MAAO,GACP4O,QAAS,EACT1O,UAAW,OACXC,OAAQ,SAACvB,EAAMC,EAAKT,GAChB,IAAIyQ,EAAU,EA0Bd,OAtBIzQ,EAAQ,MACRyQ,EAAU,GAED,GAATzQ,IACAyQ,EAAU,GAED,GAATzQ,IACAyQ,EAAU,GAED,GAATzQ,IACAyQ,EAAU,GAED,IAATzQ,IACAyQ,EAAU,GAED,IAATzQ,IACAyQ,EAAU,GAED,IAATzQ,IACAyQ,EAAU,GAGP,CACHC,SAAUlQ,EACVd,MAAO,CACH+Q,QAASA,MAItB,CACC7O,MAAO,2BACP4O,QAAS,EACT1O,UAAW,QACZ,CACCF,MAAO,2BACPE,UAAW,OACXC,OA3FkB,SAACV,EAAOZ,EAAKT,GAC/B,IAAM2Q,EAAM,CACRD,SAAUrP,EACV3B,MAAO,IAyCX,OAtCIiR,EAAID,SADJ1Q,EAAQ,GAAKA,EAAQ,EACN4F,EAAA7E,EAAAC,cAAA,WACX4E,EAAA7E,EAAAC,cAAC/B,EAAD,KAEQiB,EAAkBmB,EAAO,CACrBR,aAAckD,EAAKrE,MAAMD,SAAS4B,GAAS0C,EAAKrE,MAAMD,SAAS4B,GAAOsW,MAAM,GAAI,GAAK,GACrFhV,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMI0F,EAAA7E,EAAAC,cAAA4W,EAAA,GAAOrR,UAAU,kBAGzBX,EAAA7E,EAAAC,cAAA,iBAEId,EAAkBmB,EAAQ,QAAS,CAC/BR,aAAckD,EAAKrE,MAAMD,SAAS4B,IAAU0C,EAAKrE,MAAMD,SAAS4B,GAAOmF,QAAQ,MAAQ,EAAI,CAAC,GAAK,IADrGtG,CAGI0F,EAAA7E,EAAAC,cAAA6W,EAAA,EAAUvR,MAAV,KACIV,EAAA7E,EAAAC,cAAA6W,EAAA,GAAUxW,MAAO,GAAjB,SAOLuE,EAAA7E,EAAAC,cAAC/B,EAAD,KAEPiB,EAAkBmB,EAAO,CACrBR,aAAckD,EAAKrE,MAAMD,SAAS4B,GAClCsB,MAAM,CAAC,CACHC,UAAUC,OAHlB3C,CAMI0F,EAAA7E,EAAAC,cAAA4W,EAAA,UAKTjH,IAgDR,CACC/O,MAAO,eACPE,UAAW,SAETnC,EAAO,CAAC,CACVM,IAAK,IACL6Q,KAAM,qBACNC,KAAM,yCACNC,KAAM,OACNC,KAAM,OACP,CACChR,IAAK,IACL6Q,KAAM,qBACNC,KAAM,oCACNC,KAAM,QACNC,KAAMrL,EAAA7E,EAAAC,cAAA,iBAAQ4E,EAAA7E,EAAAC,cAAA,gBAAR,OACP,CACCf,IAAK,IACL6Q,KAAM,qBACNC,KAAM,oCACNC,KAAM,QACNC,KAAMrL,EAAA7E,EAAAC,cAAA,iBAAQ4E,EAAA7E,EAAAC,cAAA,gBAAR,OACP,CACCf,IAAK,IACL6Q,KAAM,qBACNC,KAAM,eACNC,KAAM,YACNC,KAAM,IACP,CACChR,IAAK,IACL6Q,KAAM,qBACNC,KAAM,SACNC,KAAM,UACNC,KAAM,IACP,CACChR,IAAK,IACL6Q,KAAM,qBACNC,KAAM,eACNC,KAAM,eACNC,KAAM,IACP,CACChR,IAAK,IACL6Q,KAAM,qBACNC,KAAM,qBACNC,KAAM,QACNC,KAAM,IACP,CACChR,IAAK,IACL6Q,KAAM,qBACNC,KAAM,qBACNC,KAAM,QACNC,KAAM,IACP,CACChR,IAAK,IACL6Q,KAAM,2BACNC,KAAM,2DACNC,KAAM,QACNC,KAAM,OACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,kEACNC,KAAM,QACNC,KAAM,OACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,yEACNC,KAAM,QACNC,KAAM,OACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,yCACNC,KAAM,OACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,oCACNC,KAAM,QACNC,KAAM,OACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,oCACNC,KAAM,QACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,6BACNC,KAAM,OACNC,KAAM,eACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,6BACNC,KAAM,OACNC,KAAM,eACP,CACChR,IAAK,KACL6Q,KAAM,qBACNC,KAAM,yCACNC,KAAM,QACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,qBACNC,KAAM,qCACNC,KAAM,UACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,qBACNC,KAAM,wDACNC,KAAM,SACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,qBACNC,KAAM,wDACNC,KAAM,SACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,eACNC,KAAM,0CACNC,KAAM,QACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,eACNC,KAAM,4CACNC,KAAM,QACNC,KAAM,UACP,CACChR,IAAK,KACL6Q,KAAM,eACNC,KAAM,wDACNC,KAAM,OACNC,KAAM,KACP,CACChR,IAAK,KACL6Q,KAAM,eACNC,KAAM,iCACNC,KAAM,OACNC,KAAM,KACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,gDACNC,KAAM,SACNC,KAAM,eACP,CACChR,IAAK,KACL6Q,KAAM,2BACNC,KAAM,SACNC,KAAM,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","file":"static/js/main.236726e8.chunk.js","sourcesContent":["\r\n\r\n\r\n/**\r\n * 新增用药\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button, Input, Table, DatePicker, Icon, Select } from 'antd';\r\nimport moment from 'moment';\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nclass TheRapyForm extends Component {\r\n    render() {\r\n        let formData = this.props.data || {};\r\n        let tableData = formData[this.props.name] || [];\r\n        tableData = tableData.map((item, index) => {\r\n            item.key = index\r\n            return item;\r\n        })\r\n        const { getFieldDecorator } = this.props.form;\r\n        const date = [moment(formData.startDate), moment(formData.endDate)];\r\n\r\n\r\n        const renderContent = (text, row, index, type) => {\r\n            let proper = this.props.name ? (this.props.name + '_' + type + '_' + index) : (type + '_' + index)\r\n            let options = {}\r\n            if (typeof text == 'undefined') {\r\n                //判断为undefinded 新增的一行 要不然会复用前面的initialValue\r\n                if (type != 'startTime' && type != 'endTime') {\r\n                    options.initialValue = ''\r\n                }\r\n            } else {\r\n                options.initialValue = type == 'startTime' || type == 'endTime' ? moment(text) : text\r\n            }\r\n            if (type == 'opt') {\r\n                return <Button onClick={() => this.props.handleDelete(this.props.name, index)}>删除</Button>\r\n            } else {\r\n                return <FormItem>\r\n                    {\r\n                        getFieldDecorator(proper, options)(\r\n                            type == 'saeFlag' ? (<Select onChange={(value) => this.props.handleChange(this.props.name, index, type, value)}>\r\n                                <Option value={true}>是</Option>\r\n                                <Option value={false}>否</Option>\r\n                            </Select>) : (type == 'startTime' || type == 'endTime' ? <DatePicker onChange={(date) => this.props.handleChange(this.props.name, index, type, date)} /> : <Input onChange={(event) => this.props.handleChange(this.props.name, index, type, event)} />)\r\n                        )\r\n                    }\r\n                </FormItem>;\r\n            }\r\n\r\n        }\r\n        const columns = [{\r\n            title: \"商品名\",\r\n            align: \"center\",\r\n            dataIndex: 'tradeName',\r\n            render: (text, row, index) => renderContent(text, row, index, 'tradeName')\r\n        }, {\r\n            title: \"化学名\",\r\n            align: \"center\",\r\n            dataIndex: 'chemicalName',\r\n            render: (text, row, index) => renderContent(text, row, index, 'chemicalName')\r\n        }, {\r\n            title: \"适应症\",\r\n            align: \"center\",\r\n            dataIndex: 'indication',\r\n            render: (text, row, index) => renderContent(text, row, index, 'indication')\r\n        }, {\r\n            title: \"剂量/频次\",\r\n            align: \"center\",\r\n            dataIndex: 'dosage',\r\n            render: (text, row, index) => renderContent(text, row, index, 'dosage')\r\n        }, {\r\n            title: \"给药途径\",\r\n            align: \"center\",\r\n            dataIndex: 'drugRoute',\r\n            render: (text, row, index) => renderContent(text, row, index, 'drugRoute')\r\n        }, {\r\n            title: \"开始时间\",\r\n            align: \"center\",\r\n            dataIndex: 'startTime',\r\n            width:170,\r\n            render: (text, row, index) => renderContent(text, row, index, 'startTime')\r\n        }, {\r\n            title: \"结束时间\",\r\n            align: \"center\",\r\n            dataIndex: 'endTime',\r\n            width:170,\r\n            render: (text, row, index) => renderContent(text, row, index, 'endTime')\r\n        }, {\r\n            title: \"操作\",\r\n            align: \"center\",\r\n            dataIndex: 'opt',\r\n            render: (text, row, index) => renderContent(text, row, index, 'opt')\r\n        }]\r\n        return (\r\n            <Table\r\n                pagination={false}\r\n                bordered\r\n                dataSource={tableData}\r\n                columns={columns}\r\n                // rowKey='id'\r\n                footer={() => (<Button type=\"primary\" onClick={() => this.props.handleAdd(this.props.name)}><Icon type=\"plus\" />增加一行</Button>)}\r\n            >\r\n            </Table>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TheRapyForm","/**\r\n * 血糖监测结果\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button, Input, Table, DatePicker, Icon } from 'antd';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\nimport moment from 'moment';\r\nconst FormItem = Form.Item;\r\n\r\nclass MyTable extends Component {\r\n  render() {\r\n    let formData = this.props.data[this.props.name] || [];\r\n    const { getFieldDecorator } = this.props.form;\r\n    formData = formData.map((item, index) => {\r\n      item.key = index\r\n      return item;\r\n    })\r\n\r\n    const renderContent = (text, row, index, type) => {\r\n      let proper = this.props.name ? (this.props.name + '_' + type + '_' + index) : (type + '_' + index)\r\n      let options = {}\r\n\r\n      if (typeof text == 'undefined') {\r\n        options.initialValue = ''\r\n      } else {\r\n        if (formData[index]) {\r\n          if (type == 'measurementDate' && formData[index][type]) {\r\n            options.initialValue = moment(formData[index][type])\r\n          } else {\r\n            options.initialValue = formData[index][type]\r\n          }\r\n        }\r\n      }\r\n\r\n      if (type != 'measurementDate') {\r\n        options.rules = [{\r\n          validator: validDoubleNumber\r\n        }]\r\n      }\r\n\r\n      if (type == 'opt') {\r\n        return <Button onClick={() => this.props.handleDelete(index)}>删除</Button>\r\n      } else {\r\n        return <FormItem>\r\n          {\r\n            getFieldDecorator(proper, options)(\r\n              type == 'measurementDate' ? <DatePicker onChange={(date) => this.props.handleChange(index, type, date)} /> : <Input onChange={(event) => this.props.handleChange(index, type, event)} />\r\n            )\r\n          }\r\n        </FormItem>;\r\n      }\r\n    }\r\n\r\n    const columns = [{\r\n      title: \"日期\",\r\n      align: \"center\",\r\n      dataIndex: 'measurementDate',\r\n      render: (text, row, index) => renderContent(text, row, index, 'measurementDate')\r\n    }, {\r\n      title: \"早餐前\",\r\n      align: \"center\",\r\n      dataIndex: 'mornBefore',\r\n      render: (text, row, index) => renderContent(text, row, index, 'mornBefore')\r\n    }, {\r\n      title: \"早餐后2h\",\r\n      align: \"center\",\r\n      dataIndex: 'mornAfter',\r\n      render: (text, row, index) => renderContent(text, row, index, 'mornAfter')\r\n    }, {\r\n      title: \"中餐前\",\r\n      align: \"center\",\r\n      dataIndex: 'noonBefore',\r\n      render: (text, row, index) => renderContent(text, row, index, 'noonBefore')\r\n    }, {\r\n      title: \"中餐后2h\",\r\n      align: \"center\",\r\n      dataIndex: 'noonAfter',\r\n      render: (text, row, index) => renderContent(text, row, index, 'noonAfter')\r\n    }, {\r\n      title: \"晚餐前\",\r\n      align: \"center\",\r\n      dataIndex: 'evenBefore',\r\n      render: (text, row, index) => renderContent(text, row, index, 'evenBefore')\r\n    }, {\r\n      title: \"晚餐后2h\",\r\n      align: \"center\",\r\n      dataIndex: 'evenAfter',\r\n      render: (text, row, index) => renderContent(text, row, index, 'evenAfter')\r\n    }, {\r\n      title: \"操作\",\r\n      align: \"center\",\r\n      render: (text, row, index) => renderContent(text, row, index, 'opt')\r\n    }]\r\n\r\n    return (\r\n      <Table\r\n        pagination={false}\r\n        bordered\r\n        dataSource={formData}\r\n        columns={columns}\r\n        rowKey='key'\r\n        footer={() => (<Button type=\"primary\" onClick={this.props.handleAdd}><Icon type=\"plus\" />增加一行</Button>)}\r\n      >\r\n      </Table>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default MyTable","//验证汉字\r\nconst validChinese = (rule, value, callback) => {\r\n    if(!value){\r\n        callback()\r\n    }else if (/[^\\u4e00-\\u9fa5]/.test(value)) {\r\n        callback('输入有误，请输入汉字');\r\n    } else {\r\n        callback();\r\n    }\r\n}\r\n\r\n//验证整数\r\nconst validIntNumber = (rule, value, callback) => {\r\n    if(!value){\r\n        callback()\r\n    }else if (/^0/.test(value)) {\r\n        callback('输入有误，首位数字不应为0');\r\n    } else if (/[^0-9]/.test(value)) {\r\n        callback('输入有误，请输入整数');\r\n    } else {\r\n        callback();\r\n    }\r\n}\r\n\r\n//验证整数+小数\r\nconst validDoubleNumber = (rule, value, callback) => {\r\n    if(!value){\r\n        callback()\r\n    }else if (!(/^([1-9]\\d*|0)(\\.\\d+)?$/.test(value))) {\r\n        callback('输入有误，请输入数字');\r\n    } else {\r\n        callback();\r\n    }\r\n}\r\n\r\nexport {\r\n    validChinese,\r\n    validIntNumber,\r\n    validDoubleNumber\r\n}","\r\n\r\n\r\n/**\r\n * 不良事件\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button, Input, Table, DatePicker, Icon, Select } from 'antd';\r\nimport moment from 'moment';\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nclass AeForm extends Component {\r\n    render() {\r\n        let formData = this.props.data || {};\r\n        let tableData = formData[this.props.name] || [];\r\n        tableData = tableData.map((item,index) => {\r\n            item.key = index\r\n            return item;\r\n        })\r\n        const { getFieldDecorator } = this.props.form;\r\n        const date = [moment(formData.startDate), moment(formData.endDate)];\r\n\r\n        const renderContent = (text, row, index, type) => {\r\n            let proper = this.props.name ? (this.props.name + '_' + type + '_' + index) : (type + '_' + index)\r\n            let options = {}\r\n            if (typeof text == 'undefined') {\r\n                //判断为undefinded 新增的一行 要不然会复用前面的initialValue\r\n                if(type != 'startDate' && type != 'endDate'){\r\n                    options.initialValue = ''\r\n                }\r\n            }else{\r\n                options.initialValue = type == 'startDate' || type == 'endDate' ? moment(text) : text\r\n            }\r\n            if (type == 'opt') {\r\n                return <Button onClick={() => this.props.handleDelete(this.props.name, index)}>删除</Button>\r\n            } else {\r\n                return <FormItem>\r\n                    {\r\n                        getFieldDecorator(proper, options)(\r\n                            type == 'saeFlag' ? (<Select onChange={(value) => this.props.handleChange(this.props.name, index, type, value)}>\r\n                                <Option value={true}>是</Option>\r\n                                <Option value={false}>否</Option>\r\n                            </Select>) : (type == 'startDate' || type == 'endDate' ? <DatePicker onChange={(date) => this.props.handleChange(this.props.name, index, type, date)} /> : <Input onChange={(event) => this.props.handleChange(this.props.name, index, type, event)} />)\r\n                        )\r\n                    }\r\n                </FormItem>;\r\n            }\r\n\r\n        }\r\n        const columns = [{\r\n            title: \"AE名称\",\r\n            align: \"center\",\r\n            dataIndex: 'aeName',\r\n            render: (text, row, index) => renderContent(text, row, index, 'aeName')\r\n        }, {\r\n            title: \"AE描述\",\r\n            align: \"center\",\r\n            dataIndex: 'aeDescribe',\r\n            render: (text, row, index) => renderContent(text, row, index, 'aeDescribe')\r\n        }, {\r\n            title: \"开始时间\",\r\n            align: \"center\",\r\n            dataIndex: 'startDate',\r\n            width:170,\r\n            render: (text, row, index) => renderContent(text, row, index, 'startDate')\r\n        }, {\r\n            title: \"结束时间\",\r\n            align: \"center\",\r\n            dataIndex: 'endDate',\r\n            width:170,\r\n            render: (text, row, index) => renderContent(text, row, index, 'endDate')\r\n        }, {\r\n            title: \"验证程度\",\r\n            align: \"center\",\r\n            dataIndex: 'severity',\r\n            render: (text, row, index) => renderContent(text, row, index, 'severity')\r\n        }, {\r\n            title: \"是否SAE\",\r\n            align: \"center\",\r\n            dataIndex: 'saeFlag',\r\n            render: (text, row, index) => renderContent(text, row, index, 'saeFlag')\r\n        }, {\r\n            title: \"与研究的关系\",\r\n            align: \"center\",\r\n            dataIndex: 'researchRelation',\r\n            render: (text, row, index) => renderContent(text, row, index, 'researchRelation')\r\n        }, {\r\n            title: \"AE处理\",\r\n            align: \"center\",\r\n            dataIndex: 'aeHandle',\r\n            render: (text, row, index) => renderContent(text, row, index, 'aeHandle')\r\n        }, {\r\n            title: \"操作\",\r\n            align: \"center\",\r\n            dataIndex: 'opt',\r\n            render: (text, row, index) => renderContent(text, row, index, 'opt')\r\n        }]\r\n        return (\r\n            <Table\r\n                pagination={false}\r\n                bordered\r\n                dataSource={tableData}\r\n                columns={columns}\r\n                footer={() => (<Button type=\"primary\" onClick={() => this.props.handleAdd(this.props.name)}><Icon type=\"plus\" />增加一行</Button>)}\r\n            >\r\n            </Table>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AeForm","/**\r\n * 低血糖事件\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Select, Radio, Button, Row, Col, Input, DatePicker, InputNumber, Checkbox } from 'antd';\r\nimport { validChinese,validIntNumber } from '../../utils/formValidate'\r\nimport moment from 'moment';\r\nconst Option = Select.Option;\r\nconst FormItem = Form.Item;\r\nconst { RangePicker } = DatePicker;\r\n\r\n\r\nclass SaeForm extends Component {\r\n    state = {\r\n\r\n    }\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let formData = this.props.data ? this.props.data[0] : {}\r\n        let {\r\n            reportDate,\r\n            initials,\r\n            gender,\r\n            age,\r\n            saeName,\r\n            situationFlag,\r\n            situationDeathDate,\r\n            situationOther,\r\n            happenDate,\r\n            learnDate,\r\n            measureFlag,\r\n            lapseFlag,\r\n            researchMedicineRelation,\r\n            deathHandleDetail\r\n        } = formData\r\n        const { getFieldDecorator, getFieldValue } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 20 },\r\n            },\r\n        };\r\n        const formItemLayout2 = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n        return (\r\n            <div style={styles.wrap}>\r\n                <FormItem\r\n                    label=\"报告时间\"\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator('reportDate', {\r\n                        initialValue: reportDate?moment(reportDate):'',\r\n                    })(\r\n                        <DatePicker />\r\n                    )}\r\n                </FormItem>\r\n                <FormItem\r\n                    label=\"姓名\"\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator('initials', {\r\n                        initialValue: initials,\r\n                        rules:[{\r\n                            validator:validChinese\r\n                        }]\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </FormItem>\r\n                <FormItem\r\n                    label=\"性别\"\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator('gender', {\r\n                        initialValue: gender,\r\n                    })(\r\n                        <Select>\r\n                            <Option value={1}>男</Option>\r\n                            <Option value={2}>女</Option>\r\n                        </Select>\r\n                    )}\r\n                </FormItem>\r\n                <FormItem\r\n                    label=\"年龄\"\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator('age', {\r\n                        initialValue: age,\r\n                        rules:[{\r\n                            validator:validIntNumber\r\n                        }]\r\n                    })(\r\n                        <Input></Input>\r\n                    )}\r\n                </FormItem>\r\n                <FormItem\r\n                    label=\"SAE的名称及诊断\"\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator('saeName', {\r\n                        initialValue: saeName,\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </FormItem>\r\n                <FormItem\r\n                    label=\"SAE的情况\"\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator('situationFlag', {\r\n                        initialValue: situationFlag,\r\n                    })(\r\n                        <Checkbox.Group className=\"inline-item\">\r\n                            <Checkbox value=\"死亡\">死亡</Checkbox>\r\n                            {\r\n                                getFieldValue('situationFlag') && getFieldValue('situationFlag').indexOf('死亡') >= 0 ? <FormItem style={{'margin':'0 10px 0 0'}} className=\"inline-item\">\r\n                                    {getFieldDecorator('situationDeathDate', {\r\n                                        initialValue: situationDeathDate?moment(situationDeathDate):'',\r\n                                    })(\r\n                                        <DatePicker />\r\n                                    )}\r\n                                </FormItem> : null\r\n                            }\r\n                            <Checkbox value=\"导致住院\">导致住院</Checkbox>\r\n                            <Checkbox value=\"延长住院时间\">延长住院时间</Checkbox>\r\n                            <Checkbox value=\"伤残\">伤残</Checkbox>\r\n                            <Checkbox value=\"功能障碍\">功能障碍</Checkbox>\r\n                            <Checkbox value=\"危及生命\">危及生命</Checkbox>\r\n                            <Checkbox value=\"其他\">其他</Checkbox>\r\n                        </Checkbox.Group>\r\n                    )}\r\n                    {\r\n                        getFieldValue('situationFlag') && getFieldValue('situationFlag').indexOf('其他') >= 0 ? <FormItem style={{'margin':'0 10px 0 0'}} className=\"inline-item\">\r\n                            {getFieldDecorator('situationOther', {\r\n                                initialValue: situationOther,\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </FormItem> : null\r\n                    }\r\n                    {\r\n                        getFieldValue('situationFlag') && getFieldValue('situationFlag').indexOf('其他') >= 0 ? <div>\r\n                            <FormItem\r\n                                label=\"发生时间\"\r\n                                {...formItemLayout2}\r\n                            >\r\n                                {getFieldDecorator('happenDate', {\r\n                                    initialValue: happenDate?moment(happenDate):'',\r\n                                })(\r\n                                    <DatePicker />\r\n                                )}\r\n                            </FormItem>\r\n                            <FormItem\r\n                                label=\"研究者获知SAE时间\"\r\n                                {...formItemLayout2}\r\n                            >\r\n                                {getFieldDecorator('learnDate', {\r\n                                    initialValue: learnDate?moment(learnDate):'',\r\n                                })(\r\n                                    <DatePicker />\r\n                                )}\r\n                            </FormItem>\r\n                            <FormItem\r\n                                label=\"对研究采取的措施\"\r\n                                {...formItemLayout2}\r\n                            >\r\n                                {getFieldDecorator('measureFlag', {\r\n                                    initialValue: measureFlag ? measureFlag.split('、') : [],\r\n                                })(\r\n                                    <Checkbox.Group>\r\n                                        <Checkbox value=\"继续研究\">继续研究</Checkbox>\r\n                                        <Checkbox value=\"减小剂量\">减小剂量</Checkbox>\r\n                                        <Checkbox value=\"药物暂停后恢复\">药物暂停后恢复</Checkbox>\r\n                                        <Checkbox value=\"停用药物\">停用药物</Checkbox>\r\n                                    </Checkbox.Group>\r\n                                )}\r\n                            </FormItem>\r\n                        </div> : null\r\n                    }\r\n                </FormItem>\r\n                <FormItem\r\n                    label=\"SAE的转归\"\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator('lapseFlag', {\r\n                        initialValue: lapseFlag ? lapseFlag.split('、') : [],\r\n                    })(\r\n                        <Checkbox.Group>\r\n                            <Checkbox value=\"完全恢复\">完全恢复</Checkbox>\r\n                            <Checkbox value=\"好转伴后遗症\">好转伴后遗症</Checkbox>\r\n                            <Checkbox value=\"死亡\">死亡</Checkbox>\r\n                        </Checkbox.Group>\r\n                    )}\r\n                </FormItem>\r\n                <FormItem\r\n                    label=\"SAE与研究药物的关系\"\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator('researchMedicineRelation', {\r\n                        initialValue: researchMedicineRelation ? researchMedicineRelation.split('、') : [],\r\n                    })(\r\n                        <Checkbox.Group>\r\n                            <Checkbox value=\"肯定有关\">肯定有关</Checkbox>\r\n                            <Checkbox value=\"可能有关\">可能有关</Checkbox>\r\n                            <Checkbox value=\"可能无关\">可能无关</Checkbox>\r\n                            <Checkbox value=\"肯定无关\">肯定无关</Checkbox>\r\n                            <Checkbox value=\"无法判定\">无法判定</Checkbox>\r\n                        </Checkbox.Group>\r\n                    )}\r\n                </FormItem>\r\n                <FormItem\r\n                    label=\"SAE发生及处理的详细情况\"\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator('deathHandleDetail', {\r\n                        initialValue: deathHandleDetail,\r\n                    })(\r\n                        <Input.TextArea></Input.TextArea>\r\n                    )}\r\n\r\n                </FormItem>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = {\r\n    wrap: {\r\n        padding: '10px',\r\n        border: '1px solid #ccc'\r\n    }\r\n}\r\n\r\nexport default SaeForm","module.exports = __webpack_public_path__ + \"static/media/default-user.2ce80929.jpg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAADy0lEQVRoQ92aCW+qQBCAZzkFFa3WtP3/v6211ueFCHK/zL5ivVCWHZ+WSUyaBmb3Y4a5WLbZxjkQSpokkCQRpEkKWZZAlqaQ5zn/oTDG+E9RVVAUDVRNBU0zQNU0wl0AMAqwJI4gCrcQR+EOQHSXCKsbJhhmCzTdEL395PraYGgBhAkDH7Isld7IvgJFUcG0bA6JwHWkFhgCBb4HeZbVWbPyPUxRwLI7HFBUhMDSNIXAcyFJYtF1pK7XNB2sjgOqqlbWUxkMreRv1gDfQaDyClQXMgZ2u1vZepXAgo0H4dan2qKUHrNlg9XuXNVxEQwDRLBZ8yDxSILvnNXuXgwsF8F8z304qOIBI5zdcUqfdynYI7lf2e4vueVZMB4oPPeRvK90L2i1c+ngBAxD+no1v1/0E32cjEG3NzhJBSdg3mrx3/OUKMvx9ZjnOr2ng38fgP0mFzyGO3bJHRiGdnc5u3mZJGudsvux/HL6w10K2IGF24DnLEoxDANs2wbTNEFRFMiyDMIwBN/3IYoiyqW4LsxtZsvif+/A3MWMtErv9Xoc6lx1jt6BcKvVihQOuwLnafgDhv2U5y7JFkGodrt9Vd9msyGH6zh93s9xi1FWGOh+w+GPr1+iQ8vNZjNStywqEg62mk9rd77HG+/3+9wFqwq65HJJ5y3o+r3BCJjrBTlPyETy8vIi1DdhQTCZTIhW/6cGEzabL1c51oVU8vb2JtTOozuOx2Oq5b+jYwfY9M88j8KATPEjWMwwLWCTr688iela/Xu/Y2ghTdeBjcfjHBMnldw7KiIHFgPs4+MjL4aZVHD3zGO86sCh7Pv7O+kkuHg496g89g1zEzAck1mWxfOZdmZ07XkeuO5tG1lSV0TfdhyHQ12b4PKGdr3mNSO1cFekCh5oGSylRIaaCLTdbmGxWJBVPrvgQRHuEeb5+VkYqrAUtjLz+ZwMjod7igQ9GAyg1RKfr++7IOV7xxO0bEmFeQutJSuYcqbTKSRJIquKT4qli+CqOavKbqmsxotg2bZlNBqBrutV9n31mjiOudVkZNe2yDaar6+vvIShECztPj8/pVQdNJoyowHRNuXSrilamIPRAC5Wd5iDuQunUBSCYR9HBXXlZJiDiuqO30Sq+WvWkp1/nB2/yQxMEa7b7fIgIvq+8Y/0UcTLK5lZY+nAFJ9mI0fchZs08qMEwjX2M9Jvc8nKH/4Kl2zkp9oCjnL0XTc3ld1X++M6KmzscYhHdEuSAyz7btDII0cFYCMPiR1br1HH+vbhGnkQ8zgEN+robFl+eZTDzn8BPsX35yzmPfEAAAAASUVORK5CYII=\"","import moment from 'moment';\r\n\r\nexport const formNameObj = {\r\n    0: '知情通知书',\r\n    1: '入选标准',\r\n    2: '人口学资料',\r\n    3: '病史&不良嗜好',\r\n    4: '并发症评估',\r\n    5: '生命指征',\r\n    6: '其他体格检查',\r\n    7: '实验室检查',\r\n    8: '混合餐耐量试验',\r\n    9: '心电图',\r\n    10: '颈部大血管多普勒',\r\n    11: '双下肢动脉彩超',\r\n    12: '眼科检查',\r\n    13: '踝肱动脉压指数',\r\n    14: '腹部彩超',\r\n    15: '强化治疗CSII 使用情况',\r\n    16: '强化治疗血糖监测结果',\r\n    17: '特殊事件记录',\r\n    18: '其它信息记录',\r\n    19: '六点血糖监测结果',\r\n    20: '实验室检查',\r\n    21: '其它信息记录',\r\n    22: '其它信息记录',\r\n    23: '其它信息记录',\r\n}\r\n\r\nexport function getFilterProper(data, index) {\r\n    return data ? data.split('-')[index] : ''\r\n}\r\n\r\n//过滤血糖表\r\nexport function filterFormValues(values, type) {\r\n    let arr = [];\r\n    let filterProper = [];\r\n    switch (type) {\r\n        case 16:\r\n            filterProper = ['measurementDate', 'mornBefore', 'mornAfter', 'noonBefore', 'noonAfter', 'evenBefore', 'evenAfter'];\r\n            break;\r\n        case 15:\r\n            filterProper = ['measurementDate', 'basalSection', 'basalSum', 'beforeMorn', 'beforeNoon', 'beforeEven', 'beforeSum'];\r\n            break;\r\n    }\r\n\r\n    for (let x in values) {\r\n        let flag = false;\r\n        filterProper.map(item => {\r\n            if (x.indexOf(item) >= 0) {\r\n                flag = true;\r\n            }\r\n        })\r\n        if (flag) {\r\n            let x_arr = x.split('_');\r\n            let index = x_arr.length == 3 ? x_arr[2] : x_arr[1];\r\n            let pro = x_arr.length == 3 ? x_arr[1] : x_arr[0];\r\n            let value = values[x];\r\n            if (!arr[index]) {\r\n                arr[index] = {}\r\n            }\r\n            if (pro == 'measurementDate') {\r\n                value = value.valueOf();\r\n            }\r\n            arr[index][pro] = value;\r\n            delete values[x];\r\n        }\r\n    }\r\n    return arr\r\n}\r\n\r\n","var map = {\n\t\"./10_form.jsx\": 665,\n\t\"./11_form.jsx\": 666,\n\t\"./12_form.jsx\": 667,\n\t\"./13_form.jsx\": 668,\n\t\"./14_form.jsx\": 669,\n\t\"./15_form.jsx\": 880,\n\t\"./16_form.jsx\": 670,\n\t\"./17_AE_form.jsx\": 265,\n\t\"./17_SAE_form.jsx\": 266,\n\t\"./17_THERAPY_form.jsx\": 135,\n\t\"./17_form.jsx\": 671,\n\t\"./18_form.jsx\": 672,\n\t\"./19_form.jsx\": 673,\n\t\"./20_form.jsx\": 674,\n\t\"./21_form.jsx\": 675,\n\t\"./22_form.jsx\": 676,\n\t\"./23_form.jsx\": 677,\n\t\"./2_form.jsx\": 678,\n\t\"./3_form.jsx\": 679,\n\t\"./4_form.jsx\": 680,\n\t\"./5_form.jsx\": 681,\n\t\"./6_form.jsx\": 682,\n\t\"./7_form.jsx\": 683,\n\t\"./8_form.jsx\": 684,\n\t\"./9_form.jsx\": 685,\n\t\"./test_form.jsx\": 686\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 664;","/**\r\n * 颈部大血管多普勒\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button, Input } from 'antd';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\nconst FormItem = Form.Item;\r\n\r\nclass Module4 extends Component {\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let {\r\n            cervicalThickness,\r\n            arterialPlaqueFlag,\r\n            arteriosclerosisFlag,\r\n            arterialStenosisFlag,\r\n            arterialStenosisPercent\r\n        } = this.props.formData;\r\n        const { getFieldDecorator, getFieldValue } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 10 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">颈部大血管多普勒</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem label=\"颈部大血管多普勒\">\r\n                        {\r\n                            getFieldDecorator('cervicalThickness', {\r\n                                initialValue: cervicalThickness,\r\n                                rules:[{\r\n                                    validator:validDoubleNumber\r\n                                }]\r\n                            })(\r\n                                <Input addonBefore=\"颈动脉内膜中层厚度\" addonAfter=\"mm\" />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"其他异常\">\r\n                        <FormItem label=\"动脉斑块\" {...formItemLayout}>\r\n                            {\r\n                                getFieldDecorator('arterialPlaqueFlag', {\r\n                                    initialValue: arterialPlaqueFlag,\r\n                                })(\r\n                                    <Radio.Group>\r\n                                        <Radio value={false}>无</Radio>\r\n                                        <Radio value={true}>有</Radio>\r\n                                    </Radio.Group>\r\n                                )\r\n                            }\r\n                        </FormItem>\r\n                        <FormItem label=\"动脉硬化\" {...formItemLayout}>\r\n                            {\r\n                                getFieldDecorator('arteriosclerosisFlag', {\r\n                                    initialValue: arteriosclerosisFlag,\r\n                                })(\r\n                                    <Radio.Group>\r\n                                        <Radio value={false}>无</Radio>\r\n                                        <Radio value={true}>有</Radio>\r\n                                    </Radio.Group>\r\n                                )\r\n                            }\r\n                        </FormItem>\r\n                        <FormItem label=\"动脉狭窄\" {...formItemLayout}>\r\n                            {\r\n                                getFieldDecorator('arterialStenosisFlag', {\r\n                                    initialValue: arterialStenosisFlag,\r\n                                })(\r\n                                    <Radio.Group>\r\n                                        <Radio value={false}>无</Radio>\r\n                                        <Radio value={true}>有</Radio>\r\n                                    </Radio.Group>\r\n                                )\r\n                            }\r\n                            {\r\n                                getFieldValue('arterialStenosisFlag') ?\r\n                                    <FormItem className=\"inline-item\">\r\n                                        {\r\n                                            getFieldDecorator('arterialStenosisPercent', {\r\n                                                initialValue: arterialStenosisPercent,\r\n                                                rules:[{\r\n                                                    validator:validDoubleNumber\r\n                                                }]\r\n                                            })(\r\n                                                <Input addonAfter=\"%\" className=\"cover-input\" />\r\n                                            )\r\n                                        }\r\n                                    </FormItem> : null\r\n                            }\r\n                        </FormItem>\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module4);\r\n\r\nexport default ThisForm","/**\r\n * 双下肢动脉彩超\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button } from 'antd';\r\n\r\nconst FormItem = Form.Item;\r\n\r\nclass Module11 extends Component {\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let {\r\n            lowerArteryFlag,\r\n            cervicalThickness,\r\n            arterialPlaqueFlag,\r\n            arteriosclerosisFlag,\r\n            arterialStenosisFlag,\r\n        } = this.props.formData;\r\n        const { getFieldDecorator } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 10 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">双下肢动脉彩超</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem\r\n                        label=\"双下肢动脉彩超\"\r\n                    >\r\n                        {getFieldDecorator('lowerArteryFlag', {\r\n                            initialValue: lowerArteryFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={false}>正常</Radio>\r\n                                <Radio value={true}>异常</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n                    </FormItem>\r\n                    <FormItem\r\n                        label=\"动脉斑块\"\r\n                    >\r\n                        {getFieldDecorator('arterialPlaqueFlag', {\r\n                            initialValue: arterialPlaqueFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={false}>无</Radio>\r\n                                <Radio value={true}>有</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n                    </FormItem>\r\n                    <FormItem\r\n                        label=\"双动脉硬化\"\r\n                    >\r\n                        {getFieldDecorator('arteriosclerosisFlag', {\r\n                            initialValue: arteriosclerosisFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={false}>无</Radio>\r\n                                <Radio value={true}>有</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n                    </FormItem>\r\n                    <FormItem\r\n                        label=\"动脉狭窄\"\r\n                    >\r\n                        {getFieldDecorator('arterialStenosisFlag', {\r\n                            initialValue: arterialStenosisFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={false}>无</Radio>\r\n                                <Radio value={true}>有</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module11);\r\n\r\nexport default ThisForm","/**\r\n * 眼科检查\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button, Input } from 'antd';\r\nimport { validIntNumber } from '../../utils/formValidate'\r\n\r\nconst FormItem = Form.Item;\r\n\r\nclass Module11 extends Component {\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let {\r\n            ophthalmologyFlag,\r\n            diabeticRetinopathyFlag,\r\n            diabeticRetinopathyOd,\r\n            diabeticRetinopathyOs,\r\n            macularOedemaFlag,\r\n            macularOedemaOd,\r\n            macularOedemaOs,\r\n        } = this.props.formData;\r\n        const { getFieldDecorator, getFieldValue } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 10 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">眼科检查</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem\r\n                        label=\"眼科检查\"\r\n                    >\r\n                        {getFieldDecorator('ophthalmologyFlag', {\r\n                            initialValue: ophthalmologyFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={false}>正常</Radio>\r\n                                <Radio value={true}>异常</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n\r\n                    </FormItem>\r\n                    <FormItem\r\n                        label=\"糖尿病视网膜病变\"\r\n                    >\r\n                        {getFieldDecorator('diabeticRetinopathyFlag', {\r\n                            initialValue: diabeticRetinopathyFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={false}>无</Radio>\r\n                                <Radio value={true}>有</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n                        {\r\n                            getFieldValue('diabeticRetinopathyFlag') ? <span>\r\n                                <span>为，</span>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('diabeticRetinopathyOd', {\r\n                                            initialValue: diabeticRetinopathyOd,\r\n                                            rules:[{\r\n                                                validator:validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonAfter=\"期od\" className=\"cover-input\"/>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('diabeticRetinopathyOs', {\r\n                                            initialValue: diabeticRetinopathyOs,\r\n                                            rules:[{\r\n                                                validator:validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonAfter=\"期os\" className=\"cover-input\"/>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                            </span> : null\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem\r\n                        label=\"黄斑水肿\"\r\n                    >\r\n                        {getFieldDecorator('macularOedemaFlag', {\r\n                            initialValue: macularOedemaFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={false}>无</Radio>\r\n                                <Radio value={true}>有</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n                        {\r\n                            getFieldValue('macularOedemaFlag') ? <span>\r\n                                <span>为，</span>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('macularOedemaOd', {\r\n                                            initialValue: macularOedemaOd,\r\n                                            rules:[{\r\n                                                validator:validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonAfter=\"期od\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('macularOedemaOs', {\r\n                                            initialValue: macularOedemaOs,\r\n                                            rules:[{\r\n                                                validator:validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonAfter=\"期os\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                            </span> : null\r\n                        }\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module11);\r\n\r\nexport default ThisForm","/**\r\n * 踝肱动脉压指数（ABI）\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button, Input } from 'antd';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\n\r\nconst FormItem = Form.Item;\r\n\r\nclass Module11 extends Component {\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let {\r\n            abiOffside,\r\n            abiLeftside,\r\n        } = this.props.formData;\r\n        const disabled = this.props.disabled;\r\n        const { getFieldDecorator } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 2 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 10 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">踝肱动脉压指数（ABI）</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem\r\n                        label=\"右侧\"\r\n                    >\r\n                        {getFieldDecorator('abiOffside', {\r\n                            initialValue: abiOffside,\r\n                            rules: [{\r\n                                validator: validDoubleNumber\r\n                            }]\r\n                        })(\r\n                            <Input></Input>\r\n                        )}\r\n\r\n                    </FormItem>\r\n                    <FormItem\r\n                        label=\"左侧\"\r\n                    >\r\n                        {getFieldDecorator('abiLeftside', {\r\n                            initialValue: abiLeftside,\r\n                            rules: [{\r\n                                validator: validDoubleNumber\r\n                            }]\r\n                        })(\r\n                            <Input></Input>\r\n                        )}\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange: (props, changedValues, allValues) => {\r\n        if (!props.canSave) {\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module11);\r\n\r\nexport default ThisForm","/**\r\n * 腹部彩超\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button, Radio } from 'antd';\r\n\r\nconst FormItem = Form.Item;\r\n\r\nclass Module11 extends Component {\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let { fattyLiverFlag, fattyLiverOtherFlag } = this.props.formData;\r\n        const { getFieldDecorator } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 2 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 10 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">腹部彩超</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem\r\n                        label=\"脂肪肝\"\r\n                    >\r\n                        {getFieldDecorator('fattyLiverFlag', {\r\n                            initialValue: fattyLiverFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={false}>无</Radio>\r\n                                <Radio value={true}>有</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n\r\n                    </FormItem>\r\n                    <FormItem\r\n                        label=\"其他异常\"\r\n                    >\r\n                        {getFieldDecorator('fattyLiverOtherFlag', {\r\n                            initialValue: fattyLiverOtherFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={false}>无</Radio>\r\n                                <Radio value={true}>有</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module11);\r\n\r\nexport default ThisForm","/**\r\n * 血糖监测结果\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button } from 'antd';\r\nimport MyTable from './16_form_table.jsx';\r\nconst FormItem = Form.Item;\r\n\r\nclass Module11 extends Component {\r\n  componentWillMount() {\r\n    this.setState({\r\n      formData: JSON.parse(JSON.stringify(this.props.formData))\r\n    })\r\n  }\r\n\r\n  //增加新行\r\n  handleAdd() {\r\n    if (!this.state.formData.bloodSugarReportList) {\r\n      this.state.formData.bloodSugarReportList = [];\r\n    }\r\n    let bloodSugarReportList = this.state.formData.bloodSugarReportList.concat([{}])\r\n    this.setState({\r\n      formData: Object.assign({}, this.state.formData, { bloodSugarReportList })\r\n    })\r\n    this.props.setCanSave(true)\r\n  }\r\n\r\n  handleDelete(index) {\r\n    if (this.state.formData.bloodSugarReportList) {\r\n      this.state.formData.bloodSugarReportList.splice(index, 1)\r\n      this.setState({\r\n        formData: Object.assign({}, this.state.formData)\r\n      })\r\n      this.props.setCanSave(true)\r\n    }\r\n  }\r\n\r\n  handleChange = (index, type, e) => {\r\n    if (!this.state.formData['bloodSugarReportList']||this.state.formData.bloodSugarReportList.length==0) {\r\n      this.state.formData['bloodSugarReportList'] = [{}];\r\n    }\r\n    if (type == 'measurementDate') {\r\n      this.state.formData['bloodSugarReportList'][index][type] = e.valueOf()\r\n    } else {\r\n      this.state.formData['bloodSugarReportList'][index][type] = e.target.value\r\n    }\r\n  }\r\n\r\n  handleCancel() {\r\n    this.setState({\r\n      formData: JSON.parse(JSON.stringify(this.props.formData))\r\n    })\r\n    this.props.onCancel();\r\n  }\r\n\r\n  //提交数据\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (err) return;\r\n      let {\r\n        bloodSugarReportList,\r\n      } = this.state.formData\r\n\r\n      let data = {\r\n        bloodSugarReportList,\r\n      }\r\n\r\n      //数据校验通过后，传递到上级提交\r\n      this.props.onSubmit(data)\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 2 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 20 },\r\n      },\r\n    };\r\n    return (\r\n      <div>\r\n        <div className=\"title\">强化治疗期间血糖监测结果</div>\r\n        <Form {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n          <MyTable name=\"bloodSugarReportList\" handleChange={this.handleChange.bind(this)} handleDelete={this.handleDelete.bind(this)} handleAdd={this.handleAdd.bind(this)} data={this.state.formData} form={this.props.form}></MyTable>\r\n        </Form>\r\n        {\r\n          this.props.canSave ? <div className=\"btn-wrap\">\r\n            <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n            <Button onClick={this.props.onCancel}>取消</Button>\r\n          </div> : null\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n  onValuesChange: (props, changedValues, allValues) => {\r\n    if (!props.canSave) {\r\n      props.setCanSave(true)\r\n    }\r\n  }\r\n})(Module11);\r\n\r\nexport default ThisForm","/**\r\n * 特殊事件记录\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button } from 'antd';\r\nimport AeForm from './17_AE_form';\r\nimport SaeForm from './17_SAE_form';\r\nimport TheRapyForm from './17_THERAPY_form';\r\nconst FormItem = Form.Item;\r\n\r\nclass Module11 extends Component {\r\n    state = {\r\n\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.setState({\r\n            formData: JSON.parse(JSON.stringify(this.props.formData))\r\n        })\r\n    }\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            values.aeReport = this.state.formData.aeReport\r\n            values.pharmacy = this.state.formData.pharmacy\r\n            \r\n            let data = {};\r\n            if (this.state.formData.saeReport && this.state.formData.saeReport[0].id) {\r\n                data.id = this.state.formData.saeReport[0].id\r\n            }\r\n\r\n            for (let x in values) {\r\n                if (x.indexOf('aeReport_') >= 0 || x.indexOf('pharmacy_') >= 0) {\r\n                    delete values[x]//删除新增用药和不良事件多余数据\r\n                } else {\r\n                    if (x != 'aeFlag' && x != 'aeReport' && x != 'saeFlag' && x != 'saeReport'\r\n                        && x != 'pharmacyFlag' && x != 'pharmacy') {\r\n                        if (typeof values[x] == 'object') {\r\n                            if (values[x].format) {\r\n                                values[x] = values[x].format('YYYY-MM-DD')\r\n                            } else {\r\n                                values[x] = values[x].join('、')\r\n                            }\r\n                        }\r\n                        data[x] = values[x] // sae表单数据封装\r\n                        delete values[x]\r\n                    }\r\n                }\r\n            }\r\n            if(values.saeFlag){\r\n                values.saeReport = [data]\r\n            }\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    handleChange = (name, index, type, event) => {\r\n        if (!this.state.formData[name]) {\r\n            this.state.formData[name] = [];\r\n        }\r\n        if (!this.state.formData[name][index]) {\r\n            this.state.formData[name][index] = {}\r\n        }\r\n        if (event.target) {\r\n            this.state.formData[name][index][type] = event.target.value\r\n        } else {\r\n            if (type == 'saeFlag') {\r\n                this.state.formData[name][index][type] = event\r\n            } else {\r\n                this.state.formData[name][index][type] = event.format('YYYY-MM-DD')\r\n            }\r\n        }\r\n    }\r\n\r\n    handleAdd(name) {\r\n        if (!this.state.formData[name]) {\r\n            this.state.formData[name] = []\r\n        }\r\n        let data = this.state.formData[name].concat([{}])\r\n        this.setState({\r\n            formData: Object.assign({}, this.state.formData, { [name]: data })\r\n        })\r\n        this.props.setCanSave(true)\r\n    }\r\n\r\n    handleDelete = (name, index) => {\r\n        if(this.state.formData[name]){\r\n            this.state.formData[name].splice(index, 1)\r\n            this.setState({\r\n                formData: Object.assign({}, this.state.formData)\r\n            })\r\n            this.props.setCanSave(true)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let {\r\n            aeFlag,\r\n            saeFlag,\r\n            pharmacyFlag\r\n        } = this.props.formData;\r\n        const { getFieldDecorator, getFieldValue } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 2 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 22 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">特殊事件记录</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem\r\n                        label=\"不良事件\"\r\n                    >\r\n                        {getFieldDecorator('aeFlag', {\r\n                            initialValue: aeFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={false}>正常</Radio>\r\n                                <Radio value={true}>异常</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n                    </FormItem>\r\n                    {\r\n                        getFieldValue('aeFlag') ? <AeForm name=\"aeReport\" handleDelete={this.handleDelete.bind(this)} handleAdd={this.handleAdd.bind(this)} handleChange={this.handleChange.bind(this)} handleDelete={this.handleDelete.bind(this)} data={this.state.formData} form={this.props.form} /> : null\r\n                    }\r\n\r\n                    <FormItem\r\n                        label=\"低血糖事件\"\r\n                    >\r\n                        {getFieldDecorator('saeFlag', {\r\n                            initialValue: saeFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={false}>无</Radio>\r\n                                <Radio value={true}>有</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n                    </FormItem>\r\n                    {\r\n                        getFieldValue('saeFlag') ? <SaeForm name=\"saeReport\" data={this.state.formData.saeReport} form={this.props.form} /> : null\r\n                    }\r\n\r\n                    <FormItem\r\n                        label=\"新增用药\"\r\n                    >\r\n                        {getFieldDecorator('pharmacyFlag', {\r\n                            initialValue: pharmacyFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={false}>无</Radio>\r\n                                <Radio value={true}>有</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n                    </FormItem>\r\n                    {\r\n                        getFieldValue('pharmacyFlag') ? <TheRapyForm name=\"pharmacy\" handleDelete={this.handleDelete.bind(this)} handleAdd={this.handleAdd.bind(this)} handleChange={this.handleChange.bind(this)} handleDelete={this.handleDelete.bind(this)} data={this.state.formData} form={this.props.form} /> : null\r\n                    }\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module11);\r\n\r\nexport default ThisForm","/**\r\n * 其他信息记录-1\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button, Input, DatePicker } from 'antd';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\nimport moment from 'moment';\r\nconst FormItem = Form.Item;\r\n\r\nclass Module11 extends Component {\r\n    state = {\r\n\r\n    }\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            values.expectedFollowDate = values.expectedFollowDate.format('YYYY-MM-DD')\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    getDisabledDate(date) {\r\n        if(date.valueOf()-new Date().getTime()>0){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let disabled = this.props.disabled;\r\n        let {\r\n            medicineGrantFlag,\r\n            medicineGlargineDosage,\r\n            medicineMelbineDosage,\r\n            expectedFollowDate\r\n        } = this.props.formData;\r\n        const { getFieldDecorator, getFieldValue } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"title\">其他信息记录</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem label=\"是否发放药品\">\r\n                        {\r\n                            getFieldDecorator('medicineGrantFlag', {\r\n                                initialValue: medicineGrantFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>否</Radio>\r\n                                    <Radio value={true}>是</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('medicineGrantFlag') ? <span>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('medicineGlargineDosage', {\r\n                                            initialValue: medicineGlargineDosage,\r\n                                            rules:[{\r\n                                                validator:validDoubleNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonBefore=\"甘精胰岛素剂量\" addonAfter=\"U/d\" />\r\n\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('medicineMelbineDosage', {\r\n                                            initialValue: medicineMelbineDosage,\r\n                                            rules:[{\r\n                                                validator:validDoubleNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonBefore=\"二甲双胍剂量\" addonAfter=\"g/d\" />\r\n\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                            </span> : null\r\n                        }\r\n                    </FormItem>\r\n\r\n                    <FormItem\r\n                        label=\"预计下次访视时间\"\r\n                    >\r\n                        {getFieldDecorator('expectedFollowDate', {\r\n                            initialValue: expectedFollowDate?moment(expectedFollowDate):'',\r\n                        })(\r\n                            <DatePicker disabledDate={this.getDisabledDate.bind(this)} />\r\n                        )}\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module11);\r\n\r\nexport default ThisForm","/**\r\n * 血糖监测结果\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button } from 'antd';\r\nimport MyTable from './16_form_table.jsx';\r\nconst FormItem = Form.Item;\r\n\r\nclass Module11 extends Component {\r\n  componentWillMount() {\r\n    this.setState({\r\n      formData: JSON.parse(JSON.stringify(this.props.formData))\r\n    })\r\n  }\r\n\r\n  //增加新行\r\n  handleAdd() {\r\n    if (!this.state.formData.bloodSugarReportList) {\r\n      this.state.formData.bloodSugarReportList = [];\r\n    }\r\n    let bloodSugarReportList = this.state.formData.bloodSugarReportList.concat([{}])\r\n    this.setState({\r\n      formData: Object.assign({}, this.state.formData, { bloodSugarReportList })\r\n    })\r\n    this.props.setCanSave(true)\r\n  }\r\n\r\n  handleDelete(index) {\r\n    if (this.state.formData.bloodSugarReportList) {\r\n      this.state.formData.bloodSugarReportList.splice(index, 1)\r\n      this.setState({\r\n        formData: Object.assign({}, this.state.formData)\r\n      })\r\n      this.props.setCanSave(true)\r\n    }\r\n  }\r\n\r\n  handleChange = (index, type, e) => {\r\n    if (!this.state.formData['bloodSugarReportList']||this.state.formData['bloodSugarReportList'].length==0) {\r\n      this.state.formData['bloodSugarReportList'] = [{}];\r\n    }\r\n    if (type == 'measurementDate') {\r\n      this.state.formData['bloodSugarReportList'][index][type] = e.valueOf()\r\n    } else {\r\n      this.state.formData['bloodSugarReportList'][index][type] = e.target.value\r\n    }\r\n  }\r\n\r\n  handleCancel() {\r\n    this.setState({\r\n      formData: JSON.parse(JSON.stringify(this.props.formData))\r\n    })\r\n    this.props.onCancel();\r\n  }\r\n\r\n  //提交数据\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (err) return;\r\n      let {\r\n        bloodSugarReportList,\r\n      } = this.state.formData\r\n\r\n      let data = {\r\n        bloodSugarReportList,\r\n      }\r\n\r\n      //数据校验通过后，传递到上级提交\r\n      this.props.onSubmit(data)\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"title\">强化治疗期间血糖监测结果</div>\r\n        <Form onSubmit={this.handleSubmit.bind(this)}>\r\n          <MyTable name=\"bloodSugarReportList\" handleChange={this.handleChange.bind(this)} handleDelete={this.handleDelete.bind(this)} handleAdd={this.handleAdd.bind(this)} data={this.state.formData} form={this.props.form}></MyTable>\r\n        </Form>\r\n        {\r\n          this.props.canSave ? <div className=\"btn-wrap\">\r\n            <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n            <Button onClick={this.props.onCancel}>取消</Button>\r\n          </div> : null\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n  onValuesChange: (props, changedValues, allValues) => {\r\n    if (!props.canSave) {\r\n      props.setCanSave(true)\r\n    }\r\n  }\r\n})(Module11);\r\n\r\nexport default ThisForm","/**\r\n * 实验室检查1\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button, Input, Table, Checkbox } from 'antd';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\nconst FormItem = Form.Item;\r\n\r\nclass Module4 extends Component {\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            if (values.urAlbumen || values.urKetoneBody || values.urRbc || values.urSugar || values.urWbc) {\r\n                values.urAlbumen = values.urAlbumen_plus[0] == 1 ? values.urAlbumen + '-' : values.urAlbumen + '+';\r\n                values.urKetoneBody = values.urKetoneBody_plus[0] == 1 ? values.urKetoneBody + '-' : values.urKetoneBody + '+';\r\n                values.urRbc = values.urRbc_plus[0] == 1 ? values.urRbc + '-' : values.urRbc + '+';\r\n                values.urSugar = values.urSugar_plus[0] == 1 ? values.urSugar + '-' : values.urSugar + '+';\r\n                values.urWbc = values.urWbc_plus[0] == 1 ? values.urWbc + '-' : values.urWbc + '+';\r\n                delete values.urWbc_plus\r\n                delete values.urSugar_plus\r\n                delete values.urRbc_plus\r\n                delete values.urKetoneBody_plus\r\n                delete values.urAlbumen_plus\r\n            }\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        const renderContent = (value, row, index) => {\r\n            const obj = {\r\n                children: value,\r\n                props: {},\r\n            };\r\n            obj.children = <FormItem>\r\n                {\r\n                    getFieldDecorator(value, {\r\n                        initialValue: this.props.formData[value],\r\n                        rules:[{\r\n                            validator:validDoubleNumber\r\n                        }]\r\n                    })(\r\n                        <Input />\r\n                    )\r\n                }\r\n            </FormItem>\r\n            return obj;\r\n        };\r\n        const columns = [{\r\n            title: '',\r\n            colSpan: 0,\r\n            dataIndex: 'time',\r\n            render: (text, row, index) => {\r\n                let rowSpan = 1;\r\n                if (index < 100) {\r\n                    rowSpan = 0;\r\n                }\r\n               \r\n                if (index == 0) {\r\n                    rowSpan = 8\r\n                }\r\n                if (index == 8) {\r\n                    rowSpan = 4\r\n                }\r\n                if (index == 12) {\r\n                    rowSpan = 4\r\n                }\r\n                if (index == 16) {\r\n                    rowSpan = 2\r\n                }\r\n\r\n                return {\r\n                    children: text,\r\n                    props: {\r\n                        rowSpan: rowSpan,\r\n                    },\r\n                };\r\n            },\r\n        }, {\r\n            title: '测定项目',\r\n            colSpan: 2,\r\n            dataIndex: 'key1',\r\n        }, {\r\n            title: '检验结果',\r\n            dataIndex: 'key2',\r\n            render: renderContent\r\n        }, {\r\n            title: '单位',\r\n            dataIndex: 'key3',\r\n        }];\r\n        const data = [{\r\n            key: '9',\r\n            time: '临床化学',\r\n            key1: 'ALT/ GPT（丙氨酸转氨酶）',\r\n            key2: 'ccAlt',\r\n            key3: 'U/L'\r\n        }, {\r\n            key: '10',\r\n            time: '临床化学',\r\n            key1: 'AST / GOT（天冬氨酸转氨酶）',\r\n            key2: 'ccAst',\r\n            key3: 'U/L'\r\n        }, {\r\n            key: '11',\r\n            time: '临床化学',\r\n            key1: 'GGT（γ-谷氨酰氨基转移酶）',\r\n            key2: 'ccGgt',\r\n            key3: 'U/L'\r\n        }, {\r\n            key: '12',\r\n            time: '临床化学',\r\n            key1: 'TB（总胆红素）',\r\n            key2: 'ccTb',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '13',\r\n            time: '临床化学',\r\n            key1: 'ALB（白蛋白）',\r\n            key2: 'ccAlb',\r\n            key3: 'g/L'\r\n        }, {\r\n            key: '14',\r\n            time: '临床化学',\r\n            key1: 'BUN（尿素氮）',\r\n            key2: 'ccBun',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '15',\r\n            time: '临床化学',\r\n            key1: 'Cr（肌酐）',\r\n            key2: 'ccCr',\r\n            key3: 'μmol/L'\r\n        }, {\r\n            key: '16',\r\n            time: '临床化学',\r\n            key1: 'UA（尿酸）',\r\n            key2: 'ccUa',\r\n            key3: 'μmol/L'\r\n        }, {\r\n            key: '17',\r\n            time: '血脂谱',\r\n            key1: 'TG（甘油三酯）',\r\n            key2: 'blpTg',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '18',\r\n            time: '血脂谱',\r\n            key1: 'CHOL（胆固醇）',\r\n            key2: 'blpChol',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '19',\r\n            time: '血脂谱',\r\n            key1: 'LDL-c（低密度脂蛋白）',\r\n            key2: 'blpLdl',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '20',\r\n            time: '血脂谱',\r\n            key1: 'HDL-c（高密度脂蛋白）',\r\n            key2: 'blpHdl',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '21',\r\n            time: '血糖',\r\n            key1: 'FPG（空腹血糖）',\r\n            key2: 'bsFpg',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '22',\r\n            time: '血糖',\r\n            key1: 'PPG（餐后2h血糖）',\r\n            key2: 'bsPpg',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '23',\r\n            time: '血糖',\r\n            key1: 'HbA1c（糖化血红蛋白）',\r\n            key2: 'bsGh',\r\n            key3: '%'\r\n        }, {\r\n            key: '24',\r\n            time: '血糖',\r\n            key1: '糖化白蛋白',\r\n            key2: 'bsGa',\r\n            key3: '%'\r\n        }, {\r\n            key: '25',\r\n            time: '炎症因子',\r\n            key1: 'FFA（游离脂肪酸）',\r\n            key2: 'tnfFfa',\r\n            key3: 'μmol/L'\r\n        }, {\r\n            key: '26',\r\n            time: '炎症因子',\r\n            key1: 'hs-CRP',\r\n            key2: 'tnfCrp',\r\n            key3: 'mmol/L'\r\n        }];\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"title\">实验室检查</div>\r\n                <Form layout=\"inline\" onSubmit={this.handleSubmit.bind(this)}>\r\n                    <Table columns={columns} dataSource={data} bordered pagination={false} />\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module4);\r\n\r\nexport default ThisForm","/**\r\n * 其他信息记录-2\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button, Input, DatePicker } from 'antd';\r\nimport moment from 'moment';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\nconst FormItem = Form.Item;\r\n\r\nclass Module11 extends Component {\r\n    state = {\r\n\r\n    }\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            values.expectedFollowDate = values.expectedFollowDate.format('YYYY-MM-DD');\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    getDisabledDate(date) {\r\n        if(date.valueOf()-new Date().getTime()>0){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let {\r\n            relieveFlag,\r\n            medicineMelbineDosage,\r\n            other,\r\n            expectedFollowDate\r\n        } = this.props.formData;\r\n        const { getFieldDecorator, getFieldValue } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">其他信息记录</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem label=\"是否仍处于缓解\">\r\n                        {\r\n                            getFieldDecorator('relieveFlag', {\r\n                                initialValue: relieveFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={true}>是</Radio>\r\n                                    <Radio value={false}>否</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            !getFieldValue('relieveFlag') ? <span>\r\n                                <span>用药方案为，二甲双胍剂量</span>\r\n                                <FormItem\r\n                                    className=\"inline-item\"\r\n                                >\r\n                                    {getFieldDecorator('medicineMelbineDosage', {\r\n                                        initialValue: medicineMelbineDosage,\r\n                                        rules:[{\r\n                                            validator:validDoubleNumber\r\n                                        }]\r\n                                    })(\r\n                                        <Input style={styles.formInput} />\r\n                                    )}\r\n                                </FormItem>\r\n                            </span> : null\r\n                        }\r\n                    </FormItem>\r\n\r\n                    <FormItem\r\n                        label=\"其他\"\r\n                    >\r\n                        {getFieldDecorator('other', {\r\n                            initialValue: other,\r\n                        })(\r\n                            <Input className=\"big-input\" />\r\n                        )}\r\n                    </FormItem>\r\n\r\n                    <FormItem\r\n                        label=\"预计下次访视时间\"\r\n                    >\r\n                        {getFieldDecorator('expectedFollowDate', {\r\n                            initialValue: expectedFollowDate?moment(expectedFollowDate):'',\r\n                        })(\r\n                            <DatePicker disabledDate={this.getDisabledDate.bind(this)} />\r\n                        )}\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = {\r\n    wrap: {\r\n        marginTop: \"50px\",\r\n    },\r\n    title: {\r\n        fontSize: \"18px\",\r\n        borderLeft: \"4px solid #1890ff\",\r\n        paddingLeft: \"10px\"\r\n    },\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module11);\r\n\r\nexport default ThisForm","/**\r\n * 其他信息记录-3\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button, Input, DatePicker } from 'antd';\r\nimport moment from 'moment';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\nconst FormItem = Form.Item;\r\n\r\nclass Module11 extends Component {\r\n    state = {\r\n\r\n    }\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    getDisabledDate(date) {\r\n        if(date.valueOf()-new Date().getTime()>0){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n\r\n   \r\n\r\n    render() {\r\n        let {\r\n            relieveFlag,\r\n            medicineMelbineDosage,\r\n            other,\r\n            followResearchFlag,\r\n            expectedFollowDate\r\n        } = this.props.formData;\r\n        const { getFieldDecorator, getFieldValue } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">其他信息记录</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem label=\"是否仍处于缓解\">\r\n                        {\r\n                            getFieldDecorator('relieveFlag', {\r\n                                initialValue: relieveFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={true}>是</Radio>\r\n                                    <Radio value={false}>否</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            !getFieldValue('relieveFlag') ? <span>\r\n                                <span>用药方案为，二甲双胍剂量</span>\r\n                                <FormItem\r\n                                    className=\"inline-item\"\r\n                                >\r\n                                    {getFieldDecorator('medicineMelbineDosage', {\r\n                                        initialValue: medicineMelbineDosage,\r\n                                        rules:[{\r\n                                            validator:validDoubleNumber\r\n                                        }]\r\n                                    })(\r\n                                        <Input style={styles.formInput} />\r\n                                    )}\r\n                                </FormItem>\r\n                            </span> : null\r\n                        }\r\n                    </FormItem>\r\n\r\n                    <FormItem\r\n                        label=\"是否完成随访期研究\"\r\n                    >\r\n                        {getFieldDecorator('followResearchFlag', {\r\n                            initialValue: followResearchFlag,\r\n                        })(\r\n                            <Radio.Group>\r\n                                <Radio value={true}>是</Radio>\r\n                                <Radio value={false}>否</Radio>\r\n                            </Radio.Group>\r\n                        )}\r\n                    </FormItem>\r\n                    \r\n                    <FormItem\r\n                        label=\"其他\"\r\n                    >\r\n                        {getFieldDecorator('other', {\r\n                            initialValue: other,\r\n                        })(\r\n                            <Input className=\"big-input\" />\r\n                        )}\r\n                    </FormItem>\r\n\r\n                    <FormItem\r\n                        label=\"预计下次访视时间\"\r\n                    >\r\n                        {getFieldDecorator('expectedFollowDate', {\r\n                            initialValue: expectedFollowDate?moment(expectedFollowDate):'',\r\n                        })(\r\n                            <DatePicker disabledDate={this.getDisabledDate.bind(this)} />\r\n                        )}\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = {\r\n    wrap: {\r\n        marginTop: \"50px\",\r\n    },\r\n    title: {\r\n        fontSize: \"18px\",\r\n        borderLeft: \"4px solid #1890ff\",\r\n        paddingLeft: \"10px\"\r\n    },\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module11);\r\n\r\nexport default ThisForm","/**\r\n * 其他信息记录-4\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button, Input, DatePicker } from 'antd';\r\nimport moment from 'moment';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\nconst FormItem = Form.Item;\r\n\r\nclass Module11 extends Component {\r\n    state = {\r\n\r\n    }\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    getDisabledDate(date) {\r\n        if(date.valueOf()-new Date().getTime()>0){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let {\r\n            relieveFlag,\r\n            medicineMelbineDosage,\r\n            other,\r\n            expectedFollowDate\r\n        } = this.props.formData;\r\n        const { getFieldDecorator, getFieldValue } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">其他信息记录</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem label=\"是否仍处于缓解\">\r\n                        {\r\n                            getFieldDecorator('relieveFlag', {\r\n                                initialValue: relieveFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={true}>是</Radio>\r\n                                    <Radio value={false}>否</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            !getFieldValue('relieveFlag') ? <span>\r\n                                <span>用药方案为，二甲双胍剂量</span>\r\n                                <FormItem\r\n                                    className=\"inline-item\"\r\n                                >\r\n                                    {getFieldDecorator('medicineMelbineDosage', {\r\n                                        initialValue: medicineMelbineDosage,\r\n                                        rules:[{\r\n                                            validator:validDoubleNumber\r\n                                        }]\r\n                                    })(\r\n                                        <Input style={styles.formInput} />\r\n                                    )}\r\n                                </FormItem>\r\n                            </span> : null\r\n                        }\r\n                    </FormItem>\r\n\r\n                   \r\n                    <FormItem\r\n                        label=\"其他\"\r\n                    >\r\n                        {getFieldDecorator('other', {\r\n                            initialValue: other,\r\n                        })(\r\n                            <Input className=\"big-input\" />\r\n                        )}\r\n                    </FormItem>\r\n\r\n                    <FormItem\r\n                        label=\"预计下次访视时间\"\r\n                    >\r\n                        {getFieldDecorator('expectedFollowDate', {\r\n                            initialValue: expectedFollowDate?moment(expectedFollowDate):'',\r\n                        })(\r\n                            <DatePicker disabledDate={this.getDisabledDate.bind(this)} />\r\n                        )}\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = {\r\n    wrap: {\r\n        marginTop: \"50px\",\r\n    },\r\n    title: {\r\n        fontSize: \"18px\",\r\n        borderLeft: \"4px solid #1890ff\",\r\n        paddingLeft: \"10px\"\r\n    },\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module11);\r\n\r\nexport default ThisForm","/**\r\n * 入口学资料\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button, Input, DatePicker, InputNumber } from 'antd';\r\nimport { validChinese, validIntNumber } from '../../utils/formValidate'\r\nimport moment from 'moment';\r\nconst FormItem = Form.Item;\r\n\r\nclass Module2 extends Component {\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, data) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            data.birthday = data.birthday ? new Date(data.birthday).getTime() : ''\r\n            this.props.onSubmit(data)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let {\r\n            sex,\r\n            age,\r\n            minority,\r\n            birthday,\r\n            job,\r\n            educationDegree,\r\n            incomeLevel,\r\n            phoneLink,\r\n            addressLink\r\n        } = this.props.formData;\r\n        const { getFieldDecorator } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 2 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">人口学资料</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)} >\r\n                    <FormItem label=\"性别\">\r\n                        {\r\n                            getFieldDecorator('sex', {\r\n                                initialValue: sex,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={1}>男</Radio>\r\n                                    <Radio value={2}>女</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"年龄\">\r\n                        {\r\n                            getFieldDecorator('age', {\r\n                                initialValue: age,\r\n                                rules: [{\r\n                                    validator: validIntNumber\r\n                                }]\r\n                            })(\r\n                                <Input />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"民族\">\r\n                        {\r\n                            getFieldDecorator('minority', {\r\n                                initialValue: minority,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={1}>汉族</Radio>\r\n                                    <Radio value={2}>其他</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"出生日期\">\r\n                        {\r\n                            getFieldDecorator('birthday', {\r\n                                initialValue: birthday?moment(birthday):'',\r\n                            })(\r\n                                <DatePicker />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"职业\">\r\n                        {\r\n                            getFieldDecorator('job', {\r\n                                initialValue: job,\r\n                                rules: [{\r\n                                    validator: validChinese\r\n                                }]\r\n                            })(\r\n                                <Input></Input>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"文化程度\">\r\n                        {\r\n                            getFieldDecorator('educationDegree', {\r\n                                initialValue: educationDegree,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={1}>大学或以上</Radio>\r\n                                    <Radio value={2}>大专</Radio>\r\n                                    <Radio value={3}>高中及中专</Radio>\r\n                                    <Radio value={4}>初中及以下</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"收入情况\">\r\n                        {\r\n                            getFieldDecorator('incomeLevel', {\r\n                                initialValue: incomeLevel,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={1}>&lt;5000元/月</Radio>\r\n                                    <Radio value={2}>5000-10000元/月</Radio>\r\n                                    <Radio value={3}>10000元以上</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"联系电话\">\r\n                        {\r\n                            getFieldDecorator('phoneLink', {\r\n                                initialValue: phoneLink,\r\n                                rules: [{\r\n                                    validator: validIntNumber\r\n                                }]\r\n                            })(\r\n                                <Input></Input>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"地&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;址\">\r\n                        {\r\n                            getFieldDecorator('addressLink', {\r\n                                initialValue: addressLink,\r\n                            })(\r\n                                <Input></Input>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button type=\"primary\" disabled={this.props.disabled} onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange: (props, changedValues, allValues) => {\r\n        if (!props.canSave) {\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module2);\r\n\r\nexport default ThisForm","/**\r\n * 病史&不良嗜好\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button, Input, DatePicker, Checkbox } from 'antd';\r\nimport moment from 'moment';\r\nimport { getFilterProper } from '../../utils/crfForm'\r\nimport TheRapyForm from './17_THERAPY_form';\r\nimport { validIntNumber } from '../../utils/formValidate'\r\nconst FormItem = Form.Item;\r\nconst CheckboxGroup = Checkbox.Group;\r\n\r\nclass Module3 extends Component {\r\n\r\n    componentWillMount() {\r\n        this.setState({\r\n            formData: JSON.parse(JSON.stringify(this.props.formData))\r\n        })\r\n    }\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            if (values.dyslipidemiaFlag || values.fattyLiverFlag || values.hypertensionFlag || values.hyperuricemiaFlag) {\r\n                values.hypertensionDuration = values.hypertensionDurationYear + '-' + values.hypertensionDurationMonth;\r\n                values.dyslipidemiaDuration = values.dyslipidemiaDurationYear + '-' + values.dyslipidemiaDurationMonth;\r\n                values.hyperuricemiaDuration = values.hyperuricemiaDurationYear + '-' + values.hyperuricemiaDurationMonth;\r\n                values.fattyLiverDuration = values.fattyLiverDurationYear + '-' + values.fattyLiverDurationMonth;\r\n                delete values.hypertensionDurationYear\r\n                delete values.hypertensionDurationMonth;\r\n                delete values.dyslipidemiaDurationYear;\r\n                delete values.dyslipidemiaDurationMonth;\r\n                delete values.hyperuricemiaDurationYear;\r\n                delete values.hyperuricemiaDurationMonth;\r\n                delete values.fattyLiverDurationYear;\r\n                delete values.fattyLiverDurationMonth;\r\n            }\r\n\r\n            for (let x in values) {\r\n                if (x.indexOf('dyslipidemiaAntilipemicPharmacy_') == 0 || x.indexOf('hypertensionPharmacy_') == 0) {\r\n                    delete values[x];\r\n                }\r\n                if (typeof values[x] == 'object') {\r\n                    if (values[x].format) {\r\n                        values[x] = values[x].format('YYYY-MM-DD')\r\n                    } else {\r\n                        values[x] = values[x].join('、')\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (values.dyslipidemiaAntilipemicFlag) {\r\n                values.dyslipidemiaAntilipemicPharmacy = this.state.formData.dyslipidemiaAntilipemicPharmacy;\r\n            }\r\n\r\n            if (values.hypertensionFlag && values.hypertensionPharmacyType.indexOf('其他') >= 0) {\r\n                values.hypertensionPharmacy = this.state.formData.hypertensionPharmacy;\r\n            }\r\n\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n\r\n    handleChange = (name, index, type, event) => {\r\n        if (!this.state.formData[name]) {\r\n            this.state.formData[name] = [];\r\n        }\r\n        if (!this.state.formData[name][index]) {\r\n            this.state.formData[name][index] = {}\r\n        }\r\n        if (event.target) {\r\n            this.state.formData[name][index][type] = event.target.value\r\n        } else {\r\n            if (type == 'saeFlag') {\r\n                this.state.formData[name][index][type] = event\r\n            } else {\r\n                this.state.formData[name][index][type] = event.format('YYYY-MM-DD')\r\n            }\r\n        }\r\n    }\r\n\r\n    handleAdd(name) {\r\n        if (!this.state.formData[name]) {\r\n            this.state.formData[name] = []\r\n        }\r\n        let data = this.state.formData[name].concat([{}])\r\n        this.setState({\r\n            formData: Object.assign({}, this.state.formData, { [name]: data })\r\n        })\r\n        this.props.setCanSave(true)\r\n    }\r\n\r\n    handleDelete = (name, index) => {\r\n        if (this.state.formData[name]) {\r\n            this.state.formData[name].splice(index, 1)\r\n            this.setState({\r\n                formData: Object.assign({}, this.state.formData)\r\n            })\r\n            this.props.setCanSave(true)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let {\r\n            diabetesDate,\r\n            diabetesSymptomFlag,\r\n            diabetesSymptomDuration,\r\n            diabetesSymptom,\r\n            diabetesFamilyFlag,\r\n            drinkFlag,\r\n            drinkYearNum,\r\n            drinkAvgQuantity,\r\n            drinkType,\r\n            drinkAbstinenceFlag,\r\n            drinkAbstinenceYearNum,\r\n            smokeFlag,\r\n            smokeYearNum,\r\n            smokeAvgQuantity,\r\n            smokeAbstinenceFlag,\r\n            smokeAbstinenceYearNum,\r\n            hypertensionFlag,\r\n            hypertensionDuration,\r\n            hypertensionPharmacyType,\r\n            hypertensionPharmacyTypeOther,\r\n            hypertensionPharmacy,\r\n            dyslipidemiaFlag,\r\n            dyslipidemiaDuration,\r\n            dyslipidemiaHypertriglyceridemiaFlag,\r\n            dyslipidemiaHighCholesterolFlag,\r\n            dyslipidemiaHdlCholesterolFlag,\r\n            dyslipidemiaLdlCholesterolFlag,\r\n            dyslipidemiaAntilipemicFlag,\r\n            dyslipidemiaAntilipemicPharmacy,\r\n            hyperuricemiaFlag,\r\n            hyperuricemiaDuration,\r\n            hyperuricemiaDrugsTherapy,\r\n            fattyLiverFlag,\r\n            fattyLiverDuration,\r\n            fattyLiverDrugsTherapy,\r\n            gestationalDiabetesFlag\r\n        } = this.props.formData;\r\n        const { getFieldDecorator, getFieldValue } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 20 },\r\n            },\r\n        };\r\n        const formItemLayout2 = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 15 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 9 },\r\n            },\r\n        };\r\n        return (\r\n            <div className=\"form-3\">\r\n                <div className=\"title\">病史/不良嗜好</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem label=\"糖尿病确诊日期\">\r\n                        {\r\n                            getFieldDecorator('diabetesDate', {\r\n                                initialValue: diabetesDate?moment(diabetesDate):'',\r\n                            })(\r\n                                <DatePicker />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n\r\n                    <FormItem label=\"糖尿病相关症状\">\r\n                        {\r\n                            getFieldDecorator('diabetesSymptomFlag', {\r\n                                initialValue: diabetesSymptomFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('diabetesSymptomFlag') ? <span>持续时间&nbsp;<FormItem className=\"inline-item\" label=\"\">\r\n                                {\r\n                                    getFieldDecorator('diabetesSymptomDuration', {\r\n                                        initialValue: diabetesSymptomDuration?moment(diabetesSymptomDuration):'',\r\n                                    })(\r\n                                        <DatePicker />\r\n                                    )\r\n                                }\r\n                            </FormItem></span> : null\r\n                        }\r\n                    </FormItem>\r\n\r\n                    <FormItem label=\"主要症状\">\r\n                        {\r\n                            getFieldDecorator('diabetesSymptom', {\r\n                                initialValue: diabetesSymptom ? diabetesSymptom.split('、') : [],\r\n                            })(\r\n                                <CheckboxGroup options={[\r\n                                    { label: '口干', value: '口干' },\r\n                                    { label: '多饮', value: '多饮' },\r\n                                    { label: '多尿', value: '多尿' },\r\n                                    { label: '消瘦', value: '消瘦' },\r\n                                    { label: '其他', value: '其他' },\r\n                                ]} />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"糖尿病家族史\">\r\n                        {\r\n                            getFieldDecorator('diabetesFamilyFlag', {\r\n                                initialValue: diabetesFamilyFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"嗜酒\">\r\n                        {\r\n                            getFieldDecorator('drinkFlag', {\r\n                                initialValue: drinkFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>否</Radio>\r\n                                    <Radio value={true}>是</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('drinkFlag') ? <FormItem className=\"inline-item\">\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n\r\n                                        getFieldDecorator('drinkYearNum', {\r\n                                            initialValue: drinkYearNum,\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonBefore=\"请提供\" addonAfter=\"年\" className=\"cover-input\" />\r\n                                        )\r\n\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('drinkAvgQuantity', {\r\n                                            initialValue: drinkAvgQuantity,\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonBefore=\"平均\" addonAfter=\"两/天\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem label=\"种类\" {...formItemLayout}>\r\n                                    {\r\n                                        getFieldDecorator('drinkType', {\r\n                                            initialValue: drinkType ? drinkType.split('、') : [],\r\n                                        })(\r\n                                            <CheckboxGroup className=\"no-wrap\" options={[\r\n                                                { label: '白酒', value: '白酒' },\r\n                                                { label: '红酒', value: '红酒' },\r\n                                                { label: '啤酒', value: '啤酒' },\r\n                                                { label: '其他', value: '其他' },\r\n                                            ]} />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem label=\"戒酒\" {...formItemLayout}>\r\n                                    {\r\n                                        getFieldDecorator('drinkAbstinenceFlag', {\r\n                                            initialValue: drinkAbstinenceFlag,\r\n                                        })(\r\n                                            <Radio.Group>\r\n                                                <Radio value={false}>否</Radio>\r\n                                                <Radio value={true}>是</Radio>\r\n                                            </Radio.Group>\r\n                                        )\r\n                                    }\r\n                                    {\r\n                                        getFieldValue('drinkAbstinenceFlag') ? <FormItem className=\"inline-item\">\r\n                                            {\r\n                                                getFieldDecorator('drinkAbstinenceYearNum', {\r\n                                                    initialValue: drinkAbstinenceYearNum,\r\n                                                })(\r\n                                                    <Input addonBefore=\"已戒\" addonAfter=\"年\" className=\"cover-input\" />\r\n                                                )\r\n                                            }\r\n                                        </FormItem> : null\r\n                                    }\r\n                                </FormItem>\r\n                            </FormItem> : null\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"嗜烟\">\r\n                        {\r\n                            getFieldDecorator('smokeFlag', {\r\n                                initialValue: smokeFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>否</Radio>\r\n                                    <Radio value={true}>是</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('smokeFlag') ? <span>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n\r\n                                        getFieldDecorator('smokeYearNum', {\r\n                                            initialValue: smokeYearNum,\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonBefore=\"请提供吸烟\" addonAfter=\"年\" className=\"cover-input\" />\r\n                                        )\r\n\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('smokeAvgQuantity', {\r\n                                            initialValue: smokeAvgQuantity,\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonBefore=\"平均\" addonAfter=\"支/天\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                            </span> : null\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"戒烟\">\r\n                        {\r\n                            getFieldDecorator('smokeAbstinenceFlag', {\r\n                                initialValue: smokeAbstinenceFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>否</Radio>\r\n                                    <Radio value={true}>是</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('smokeAbstinenceFlag') ? <span>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n\r\n                                        getFieldDecorator('smokeAbstinenceYearNum', {\r\n                                            initialValue: smokeAbstinenceYearNum,\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonBefore=\"请提供已戒\" addonAfter=\"年\" className=\"cover-input\" />\r\n                                        )\r\n\r\n                                    }\r\n                                </FormItem>\r\n                            </span> : null\r\n                        }\r\n                    </FormItem>\r\n                    {/* <div>其他疾病1</div> */}\r\n                    <FormItem label=\"高血压病\">\r\n                        {\r\n                            getFieldDecorator('hypertensionFlag', {\r\n                                initialValue: hypertensionFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('hypertensionFlag') ? <FormItem className=\"inline-item\">\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('hypertensionDurationYear', {\r\n                                            initialValue: getFilterProper(hypertensionDuration, 0),\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonBefore=\"已经诊断\" addonAfter=\"年\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('hypertensionDurationMonth', {\r\n                                            initialValue: getFilterProper(hypertensionDuration, 1),\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonAfter=\"月\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem label=\"近3月用药种类\" style={{'marginBottom':0}}>\r\n                                    {\r\n                                        getFieldDecorator('hypertensionPharmacyType', {\r\n                                            initialValue: hypertensionPharmacyType ? hypertensionPharmacyType.split('、') : [],\r\n                                        })(\r\n                                            <CheckboxGroup style={{ 'maxWidth': '600px' }} options={[\r\n                                                { label: '无', value: '无' },\r\n                                                { label: 'β受体阻滞剂（βRB）', value: 'β受体阻滞剂（βRB）' },\r\n                                                { label: '钙离子通道拮抗剂（CCB）', value: '钙离子通道拮抗剂（CCB）' },\r\n                                                { label: '利尿药', value: '利尿药' },\r\n                                                { label: 'α受体阻滞剂（αRB）', value: 'α受体阻滞剂（αRB）' },\r\n                                                { label: '血管紧张素转化酶抑制剂（ACEI）', value: '血管紧张素转化酶抑制剂（ACEI）' },\r\n                                                { label: '利尿血管紧张素Ⅱ受体阻滞剂（ARB）', value: '利尿血管紧张素Ⅱ受体阻滞剂（ARB）' },\r\n                                                { label: '其他', value: '其他' },\r\n                                            ]} />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                            </FormItem> : null\r\n                        }\r\n                    </FormItem>\r\n                    {\r\n                        getFieldValue('hypertensionFlag') && getFieldValue('hypertensionPharmacyType') && getFieldValue('hypertensionPharmacyType').indexOf('其他') >= 0 ? <TheRapyForm name=\"hypertensionPharmacy\" handleDelete={this.handleDelete.bind(this)} handleAdd={this.handleAdd.bind(this)} handleChange={this.handleChange.bind(this)} handleDelete={this.handleDelete.bind(this)} data={this.state.formData} form={this.props.form} /> : null\r\n                    }\r\n                    <FormItem label=\"血脂异常\">\r\n                        {\r\n                            getFieldDecorator('dyslipidemiaFlag', {\r\n                                initialValue: dyslipidemiaFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('dyslipidemiaFlag') ? <FormItem className=\"inline-item\">\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('dyslipidemiaDurationYear', {\r\n                                            initialValue: getFilterProper(dyslipidemiaDuration, 0),\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonBefore=\"已诊断\" addonAfter=\"年\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('dyslipidemiaDurationMonth', {\r\n                                            initialValue: getFilterProper(dyslipidemiaDuration, 1),\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonAfter=\"月\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem label=\"高甘油三酯血症\" {...formItemLayout2}>\r\n                                    {\r\n                                        getFieldDecorator('dyslipidemiaHypertriglyceridemiaFlag', {\r\n                                            initialValue: dyslipidemiaHypertriglyceridemiaFlag,\r\n                                        })(\r\n                                            <Radio.Group>\r\n                                                <Radio value={false}>无</Radio>\r\n                                                <Radio value={true}>有</Radio>\r\n                                            </Radio.Group>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem label=\"高胆固醇血症\"  {...formItemLayout2}>\r\n                                    {\r\n                                        getFieldDecorator('dyslipidemiaHighCholesterolFlag', {\r\n                                            initialValue: dyslipidemiaHighCholesterolFlag,\r\n                                        })(\r\n                                            <Radio.Group>\r\n                                                <Radio value={false}>无</Radio>\r\n                                                <Radio value={true}>有</Radio>\r\n                                            </Radio.Group>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem label=\"高低密度脂蛋白胆固醇血症\"  {...formItemLayout2}>\r\n                                    {\r\n                                        getFieldDecorator('dyslipidemiaHdlCholesterolFlag', {\r\n                                            initialValue: dyslipidemiaHdlCholesterolFlag,\r\n                                        })(\r\n                                            <Radio.Group>\r\n                                                <Radio value={false}>无</Radio>\r\n                                                <Radio value={true}>有</Radio>\r\n                                            </Radio.Group>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem label=\"低高密度脂蛋白胆固醇血症\"  {...formItemLayout2}>\r\n                                    {\r\n                                        getFieldDecorator('dyslipidemiaLdlCholesterolFlag', {\r\n                                            initialValue: dyslipidemiaLdlCholesterolFlag,\r\n                                        })(\r\n                                            <Radio.Group>\r\n                                                <Radio value={false}>无</Radio>\r\n                                                <Radio value={true}>有</Radio>\r\n                                            </Radio.Group>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem label=\"使用调脂药\"  {...formItemLayout2}>\r\n                                    {\r\n                                        getFieldDecorator('dyslipidemiaAntilipemicFlag', {\r\n                                            initialValue: dyslipidemiaAntilipemicFlag,\r\n                                        })(\r\n                                            <Radio.Group>\r\n                                                <Radio value={false}>无</Radio>\r\n                                                <Radio value={true}>有</Radio>\r\n                                            </Radio.Group>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                            </FormItem> : null\r\n                        }\r\n                    </FormItem>\r\n                    {\r\n                        getFieldValue('dyslipidemiaFlag') && getFieldValue('dyslipidemiaAntilipemicFlag') ? <TheRapyForm name=\"dyslipidemiaAntilipemicPharmacy\" handleDelete={this.handleDelete.bind(this)} handleAdd={this.handleAdd.bind(this)} handleChange={this.handleChange.bind(this)} handleDelete={this.handleDelete.bind(this)} data={this.state.formData} form={this.props.form} /> : null\r\n                    }\r\n\r\n                    <FormItem label=\"高尿酸血症/痛风\">\r\n                        {\r\n                            getFieldDecorator('hyperuricemiaFlag', {\r\n                                initialValue: hyperuricemiaFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('hyperuricemiaFlag') ? <FormItem className=\"inline-item\">\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('hyperuricemiaDurationYear', {\r\n                                            initialValue: getFilterProper(hyperuricemiaDuration, 0),\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonBefore=\"如有，已诊断\" addonAfter=\"年\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('hyperuricemiaDurationMonth', {\r\n                                            initialValue: getFilterProper(hyperuricemiaDuration, 1),\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonAfter=\"月\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n\r\n                                <FormItem label=\"近3个月药物治疗\" {...formItemLayout2}>\r\n                                    {\r\n                                        getFieldDecorator('hyperuricemiaDrugsTherapy', {\r\n                                            initialValue: hyperuricemiaDrugsTherapy,\r\n                                        })(\r\n                                            <Radio.Group className=\"no-wrap\">\r\n                                                <Radio value={false}>无</Radio>\r\n                                                <Radio value={true}>有</Radio>\r\n                                            </Radio.Group>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                            </FormItem> : null\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"脂肪肝\">\r\n                        {\r\n                            getFieldDecorator('fattyLiverFlag', {\r\n                                initialValue: fattyLiverFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('fattyLiverFlag') ? <FormItem className=\"inline-item\">\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('fattyLiverDurationYear', {\r\n                                            initialValue: getFilterProper(fattyLiverDuration, 0),\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonBefore=\"请提供已发现\" addonAfter=\"年\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('fattyLiverDurationMonth', {\r\n                                            initialValue: getFilterProper(fattyLiverDuration, 0),\r\n                                            rules: [{\r\n                                                validator: validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonAfter=\"月\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem label=\"近3个月药物治疗\" {...formItemLayout2}>\r\n                                    {\r\n                                        getFieldDecorator('fattyLiverDrugsTherapy', {\r\n                                            initialValue: fattyLiverDrugsTherapy,\r\n                                        })(\r\n                                            <Radio.Group className=\"no-wrap\">\r\n                                                <Radio value={false}>无</Radio>\r\n                                                <Radio value={true}>有</Radio>\r\n                                            </Radio.Group>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                            </FormItem> : null\r\n                        }\r\n                    </FormItem>\r\n\r\n                    <FormItem label=\"妊娠期糖尿病史（女性）\">\r\n                        {\r\n                            getFieldDecorator('gestationalDiabetesFlag', {\r\n                                initialValue: gestationalDiabetesFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button type=\"primary\" disabled={this.props.disabled} onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange: (props, changedValues, allValues) => {\r\n        if (!props.canSave) {\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module3);\r\n\r\nexport default ThisForm","/**\r\n * 并发症评估\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button, Input } from 'antd';\r\nimport { getFilterProper } from '../../utils/crfForm';\r\nimport { validIntNumber } from '../../utils/formValidate'\r\nconst FormItem = Form.Item; class Module4 extends Component {\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            values.cerebrovascularDuration = values.cerebrovascularDurationYear + '-' + values.cerebrovascularDurationMonth\r\n            values.vascularReconstructionDate = values.vascularReconstructionDateYear + '-' + values.vascularReconstructionDateMonth\r\n            values.atheroscleroticHeartDuration = values.atheroscleroticHeartDurationYear + '-' + values.atheroscleroticHeartDurationMonth\r\n            delete values.atheroscleroticHeartDurationYear;\r\n            delete values.atheroscleroticHeartDurationMonth\r\n            delete values.vascularReconstructionDateYear\r\n            delete values.vascularReconstructionDateMonth\r\n            delete values.cerebrovascularDurationYear\r\n            delete values.cerebrovascularDurationMonth\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n    render() {\r\n        let {\r\n            diabeticComplicationFlag,\r\n            diabeticComplicationExplain,\r\n            diabeticRetinopathyFlag,\r\n            diabeticRetinopathyStage,\r\n            diabeticNephropathyFlag,\r\n            diabeticNephropathyStage,\r\n            diabeticNeuropathyFlag,\r\n            diabeticNeuropathyType,\r\n            diabeticMacroangiopathyFlag,\r\n            atheroscleroticHeartFlag,\r\n            atheroscleroticHeartDuration,\r\n            vascularReconstructionFlag,\r\n            vascularReconstructionDate,\r\n            cerebrovascularFlag,\r\n            cerebrovascularDuration,\r\n            diabeticMacroangiopathyOtherFlag,\r\n            diabeticMacroangiopathyOtherExplain\r\n        } = this.props.formData;\r\n        const { getFieldDecorator, getFieldValue } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">并发症评估</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem label=\"糖尿病慢性微血管并发症\">\r\n                        {\r\n                            getFieldDecorator('diabeticComplicationFlag', {\r\n                                initialValue: diabeticComplicationFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('diabeticComplicationFlag') ?\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('diabeticComplicationExplain', {\r\n                                            initialValue: diabeticComplicationExplain,\r\n                                        })(\r\n                                            <Input addonBefore=\"请注明：\" className=\"cover-middle-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem> : null\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"糖尿病视网膜病变\">\r\n                        {\r\n                            getFieldDecorator('diabeticRetinopathyFlag', {\r\n                                initialValue: diabeticRetinopathyFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('diabeticRetinopathyFlag') ?\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('diabeticRetinopathyStage', {\r\n                                            initialValue: diabeticRetinopathyStage,\r\n                                        })(\r\n                                            <Input addonBefore=\"分期：\" className=\"cover-middle-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem> : null\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"糖尿病肾病\">\r\n                        {\r\n                            getFieldDecorator('diabeticNephropathyFlag', {\r\n                                initialValue: diabeticNephropathyFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('diabeticNephropathyFlag') ?\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('diabeticNephropathyStage', {\r\n                                            initialValue: diabeticNephropathyStage,\r\n                                        })(\r\n                                            <Input addonBefore=\"分期：\" className=\"cover-middle-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem> : null\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"糖尿病神经病变\">\r\n                        {\r\n                            getFieldDecorator('diabeticNeuropathyFlag', {\r\n                                initialValue: diabeticNeuropathyFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('diabeticNeuropathyFlag') ?\r\n                                <FormItem className=\"inline-item\">\r\n                                    如有：\r\n                                        {\r\n                                        getFieldDecorator('diabeticNeuropathyType', {\r\n                                            initialValue: diabeticNeuropathyType,\r\n                                        })(<Radio.Group>\r\n                                            <Radio value=\"周围神经病变\">周围神经病变</Radio>\r\n                                            <Radio value=\"植物神经病变\">植物神经病变</Radio>\r\n                                        </Radio.Group>)\r\n                                    }\r\n                                </FormItem> : null\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"糖尿病大血管病变\">\r\n                        {\r\n                            getFieldDecorator('diabeticMacroangiopathyFlag', {\r\n                                initialValue: diabeticMacroangiopathyFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"冠状动脉粥样硬化性心脏病史\">\r\n                        {\r\n                            getFieldDecorator('atheroscleroticHeartFlag', {\r\n                                initialValue: atheroscleroticHeartFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('atheroscleroticHeartFlag') ? <span>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('atheroscleroticHeartDurationYear', {\r\n                                            initialValue: atheroscleroticHeartDuration ? getFilterProper(atheroscleroticHeartDuration, 0) : '',\r\n                                            rules:[{\r\n                                                validator:validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonBefore=\"如有,已诊断\" addonAfter=\"年\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('atheroscleroticHeartDurationMonth', {\r\n                                            initialValue: atheroscleroticHeartDuration ? getFilterProper(atheroscleroticHeartDuration, 1) : '',\r\n                                            rules:[{\r\n                                                validator:validIntNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonAfter=\"月\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                            </span> : null\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"行PCI或血管重建术\">\r\n                        {\r\n                            getFieldDecorator('vascularReconstructionFlag', {\r\n                                initialValue: vascularReconstructionFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>否</Radio>\r\n                                    <Radio value={true}>是</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('vascularReconstructionFlag') ? <span>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {getFieldDecorator('vascularReconstructionDateYear', {\r\n                                        initialValue: vascularReconstructionDate ? getFilterProper(vascularReconstructionDate, 0) : '',\r\n                                        rules:[{\r\n                                            validator:validIntNumber\r\n                                        }]\r\n                                    })(\r\n                                        <Input addonBefore=\"日期\" addonAfter=\"年\" className=\"cover-input\" />\r\n                                    )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {getFieldDecorator('vascularReconstructionDateMonth', {\r\n                                        initialValue: vascularReconstructionDate ? getFilterProper(vascularReconstructionDate, 1) : '',\r\n                                        rules:[{\r\n                                            validator:validIntNumber\r\n                                        }]\r\n                                    })(\r\n                                        <Input addonAfter=\"月\" className=\"cover-input\" />\r\n                                    )\r\n                                    }\r\n                                </FormItem>\r\n                            </span> : null\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"脑血管意外病史\">\r\n                        {\r\n                            getFieldDecorator('cerebrovascularFlag', {\r\n                                initialValue: cerebrovascularFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('cerebrovascularFlag') ? <span>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {getFieldDecorator('cerebrovascularDurationYear', {\r\n                                        initialValue: cerebrovascularDuration ? getFilterProper(cerebrovascularDuration, 0) : '',\r\n                                        rules:[{\r\n                                            validator:validIntNumber\r\n                                        }]\r\n                                    })(\r\n                                        <Input addonBefore=\"如有,已诊断\" addonAfter=\"年\" className=\"cover-input\" />\r\n                                    )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem className=\"inline-item\">\r\n                                    {getFieldDecorator('cerebrovascularDurationMonth', {\r\n                                        initialValue: cerebrovascularDuration ? getFilterProper(cerebrovascularDuration, 1) : '',\r\n                                        rules:[{\r\n                                            validator:validIntNumber\r\n                                        }]\r\n                                    })(\r\n                                        <Input addonAfter=\"月\" className=\"cover-input\" />\r\n                                    )\r\n                                    }\r\n                                </FormItem>\r\n                            </span> : null\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"其他大血管病变病史\">\r\n                        {\r\n                            getFieldDecorator('diabeticMacroangiopathyOtherFlag', {\r\n                                initialValue: diabeticMacroangiopathyOtherFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>无</Radio>\r\n                                    <Radio value={true}>有</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('diabeticMacroangiopathyOtherFlag') ?\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('diabeticMacroangiopathyOtherExplain', {\r\n                                            initialValue: diabeticMacroangiopathyOtherExplain,\r\n                                        })(\r\n                                            <Input addonBefore=\"如有，请详述\" className=\"cover-middle-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem> : null\r\n                        }\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button type=\"primary\" disabled={this.props.disabled} onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n} \r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module4); \r\n\r\nexport default ThisForm","/**\r\n * 生命指征\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button, Input } from 'antd';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\nconst FormItem = Form.Item;\r\n\r\nclass Module4 extends Component {\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let {\r\n            systolicPressure,\r\n            diastolicPressure,\r\n            heartRate,\r\n            weight,\r\n            height,\r\n            bmi,\r\n            waistline,\r\n            hipline\r\n        } = this.props.formData;\r\n        const { getFieldDecorator } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 3},\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 6 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">生命指征</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem label=\"血压（坐位）\">\r\n                        <FormItem className=\"inline-item\">\r\n                            {\r\n                                getFieldDecorator('systolicPressure', {\r\n                                    initialValue: systolicPressure,\r\n                                    rules:[{\r\n                                        validator:validDoubleNumber\r\n                                    }]\r\n                                })(\r\n                                    <Input className=\"small-input\" />\r\n                                )\r\n                            }\r\n                        </FormItem>\r\n                        <span>/</span>\r\n                        <FormItem className=\"inline-item\">\r\n                            {\r\n                                getFieldDecorator('diastolicPressure', {\r\n                                    initialValue: diastolicPressure,\r\n                                    rules:[{\r\n                                        validator:validDoubleNumber\r\n                                    }]\r\n                                })(\r\n                                    <Input addonAfter=\"mmHg\" className=\"cover-input\"/>\r\n                                )\r\n                            }\r\n                        </FormItem>\r\n                    </FormItem>\r\n                    <FormItem label=\"脉搏（坐位）\">\r\n                        {\r\n                            getFieldDecorator('heartRate', {\r\n                                initialValue: heartRate,\r\n                                rules:[{\r\n                                    validator:validDoubleNumber\r\n                                }]\r\n                            })(\r\n                                <Input addonAfter=\"次/分\" />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"体重\">\r\n                        {\r\n                            getFieldDecorator('weight', {\r\n                                initialValue: weight,\r\n                                rules:[{\r\n                                    validator:validDoubleNumber\r\n                                }]\r\n                            })(\r\n                                <Input addonAfter=\"kg\" />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"身高\">\r\n                        {\r\n                            getFieldDecorator('height', {\r\n                                initialValue: height,\r\n                                rules:[{\r\n                                    validator:validDoubleNumber\r\n                                }]\r\n                            })(\r\n                                <Input addonAfter=\"cm\" />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"BMI\">\r\n                        {\r\n                            getFieldDecorator('bmi', {\r\n                                initialValue: bmi,\r\n                                rules:[{\r\n                                    validator:validDoubleNumber\r\n                                }]\r\n                            })(\r\n                                <Input addonAfter=\"kg/m2\" />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"腰围\">\r\n                        {\r\n                            getFieldDecorator('waistline', {\r\n                                initialValue: waistline,\r\n                                rules:[{\r\n                                    validator:validDoubleNumber\r\n                                }]\r\n                            })(\r\n                                <Input addonAfter=\"cm\" />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"臀围\">\r\n                        {\r\n                            getFieldDecorator('hipline', {\r\n                                initialValue: hipline,\r\n                                rules:[{\r\n                                    validator:validDoubleNumber\r\n                                }]\r\n                            })(\r\n                                <Input addonAfter=\"cm\" />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button type=\"primary\" disabled={this.props.disabled} onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module4);\r\n\r\nexport default ThisForm","/**\r\n * 其他体格检查\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button, Input } from 'antd';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\nconst FormItem = Form.Item;\r\n\r\nclass Module4 extends Component {\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        let {\r\n            physicalOtherFlag,\r\n            physicalOtherExplain,\r\n            pelma10NylonWireLeftFlag,\r\n            pelma10NylonWireLeftNum,\r\n            pelma10NylonWireRightFlag,\r\n            pelma10NylonWireRightNum\r\n        } = this.props.formData;\r\n        const { getFieldDecorator, getFieldValue } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">其他体格检查</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem label=\"其他体格检查\">\r\n                        {\r\n                            getFieldDecorator('physicalOtherFlag', {\r\n                                initialValue: physicalOtherFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>正常</Radio>\r\n                                    <Radio value={true}>异常</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('physicalOtherFlag') ?\r\n                                <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('physicalOtherExplain', {\r\n                                            initialValue: physicalOtherExplain,\r\n                                        })(\r\n                                            <Input addonBefore=\"请简单记录：\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem> : null\r\n                        }\r\n                    </FormItem>\r\n\r\n                    <FormItem label=\"足底10g尼龙丝检查\">\r\n                        <FormItem>\r\n                            <span>右侧：</span>\r\n                            {\r\n                                getFieldDecorator('pelma10NylonWireLeftFlag', {\r\n                                    initialValue: pelma10NylonWireLeftFlag,\r\n                                })(\r\n\r\n                                    <Radio.Group>\r\n                                        <Radio value={false}>阴性</Radio>\r\n                                        <Radio value={true}>阳性</Radio>\r\n                                    </Radio.Group>\r\n                                )\r\n                            }\r\n                            {\r\n                                getFieldValue('pelma10NylonWireLeftFlag') ? <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('pelma10NylonWireLeftNum', {\r\n                                            initialValue: pelma10NylonWireLeftNum,\r\n                                            rules:[{\r\n                                                validator:validDoubleNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonAfter=\"点不能触知\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem> : null\r\n                            }\r\n                        </FormItem>\r\n\r\n                        <FormItem>\r\n                            <span>左侧：</span>\r\n                            {\r\n                                getFieldDecorator('pelma10NylonWireRightFlag', {\r\n                                    initialValue: pelma10NylonWireRightFlag,\r\n                                })(\r\n\r\n                                    <Radio.Group>\r\n                                        <Radio value={false}>阴性</Radio>\r\n                                        <Radio value={true}>阳性</Radio>\r\n                                    </Radio.Group>\r\n\r\n                                )\r\n                            }\r\n\r\n                            {\r\n                                getFieldValue('pelma10NylonWireRightFlag') ? <FormItem className=\"inline-item\">\r\n                                    {\r\n                                        getFieldDecorator('pelma10NylonWireRightNum', {\r\n                                            initialValue: pelma10NylonWireRightNum,\r\n                                            rules:[{\r\n                                                validator:validDoubleNumber\r\n                                            }]\r\n                                        })(\r\n                                            <Input addonAfter=\"点不能触知\" className=\"cover-input\" />\r\n                                        )\r\n                                    }\r\n                                </FormItem> : null\r\n                            }\r\n\r\n                        </FormItem>\r\n\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button type=\"primary\" disabled={this.props.disabled} onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module4);\r\n\r\nexport default ThisForm","/**\r\n * 实验室检查1\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button, Input, Table, Checkbox } from 'antd';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\nconst FormItem = Form.Item;\r\n\r\nclass Module4 extends Component {\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n\r\n            values.urAlbumen = values.urAlbumen_plus[0] == 1 ? values.urAlbumen + '-' : values.urAlbumen + '+';\r\n            values.urKetoneBody = values.urKetoneBody_plus[0] == 1 ? values.urKetoneBody + '-' : values.urKetoneBody + '+';\r\n            values.urRbc = values.urRbc_plus[0] == 1 ? values.urRbc + '-' : values.urRbc + '+';\r\n            values.urSugar = values.urSugar_plus[0] == 1 ? values.urSugar + '-' : values.urSugar + '+';\r\n            values.urWbc = values.urWbc_plus[0] == 1 ? values.urWbc + '-' : values.urWbc + '+';\r\n            delete values.urWbc_plus\r\n            delete values.urSugar_plus\r\n            delete values.urRbc_plus\r\n            delete values.urKetoneBody_plus\r\n            delete values.urAlbumen_plus\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        const renderContent = (value, row, index) => {\r\n            const obj = {\r\n                children: value,\r\n                props: {},\r\n            };\r\n            if (index > 2 && index < 8) {\r\n                obj.children = <div>\r\n                    <FormItem>\r\n                        {\r\n                            getFieldDecorator(value, {\r\n                                initialValue: this.props.formData[value] ? this.props.formData[value].slice(0, -1) : '',\r\n                                rules:[{\r\n                                    validator:validDoubleNumber\r\n                                }]\r\n                            })(\r\n                                <Input className=\"middle-input\" />\r\n                            )\r\n                        }\r\n                        <span>+</span>\r\n                        {\r\n                            getFieldDecorator(value + '_plus', {\r\n                                initialValue: this.props.formData[value] && this.props.formData[value].indexOf('-') >= 0 ? [1] : []\r\n                            })(\r\n                                <Checkbox.Group>\r\n                                    <Checkbox value={1}>-</Checkbox>\r\n                                </Checkbox.Group>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                </div>\r\n            } else {\r\n                obj.children = <FormItem>\r\n                    {\r\n                        getFieldDecorator(value, {\r\n                            initialValue: this.props.formData[value],\r\n                            rules:[{\r\n                                validator:validDoubleNumber\r\n                            }]\r\n                        })(\r\n                            <Input />\r\n                        )\r\n                    }\r\n                </FormItem>\r\n            }\r\n            return obj;\r\n        };\r\n        const columns = [{\r\n            title: '',\r\n            colSpan: 0,\r\n            dataIndex: 'time',\r\n            render: (text, row, index) => {\r\n                let rowSpan = 1;\r\n                // if (index < 4) {\r\n                //     return text;\r\n                // }\r\n                if (index < 100) {\r\n                    rowSpan = 0;\r\n                }\r\n                if (index == 0) {\r\n                    rowSpan = 3;\r\n                }\r\n                if (index == 3) {\r\n                    rowSpan = 5;\r\n                }\r\n                if (index == 8) {\r\n                    rowSpan = 8\r\n                }\r\n                if (index == 16) {\r\n                    rowSpan = 4\r\n                }\r\n                if (index == 20) {\r\n                    rowSpan = 4\r\n                }\r\n                if (index == 24) {\r\n                    rowSpan = 2\r\n                }\r\n\r\n                return {\r\n                    children: text,\r\n                    props: {\r\n                        rowSpan: rowSpan,\r\n                    },\r\n                };\r\n            },\r\n        }, {\r\n            title: '测定项目',\r\n            colSpan: 2,\r\n            dataIndex: 'key1',\r\n        }, {\r\n            title: '检验结果',\r\n            dataIndex: 'key2',\r\n            render: renderContent\r\n        }, {\r\n            title: '单位',\r\n            dataIndex: 'key3',\r\n        }];\r\n        const data = [{\r\n            key: '1',\r\n            time: '血常规',\r\n            key1: 'Hb（血红蛋白）',\r\n            key2: 'brHb',\r\n            key3: 'g/L'\r\n        }, {\r\n            key: '2',\r\n            time: '血常规',\r\n            key1: 'WBC（白细胞）',\r\n            key2: 'brWbc',\r\n            key3: <span>10<sup>9</sup>/L</span>\r\n        }, {\r\n            key: '3',\r\n            time: '血常规',\r\n            key1: 'PLT（血小板）',\r\n            key2: 'brPlt',\r\n            key3: <span>10<sup>9</sup>/L</span>\r\n        }, {\r\n            key: '4',\r\n            time: '尿常规',\r\n            key1: '蛋白',\r\n            key2: 'urAlbumen',\r\n            key3: ''\r\n        }, {\r\n            key: '5',\r\n            time: '尿常规',\r\n            key1: '糖',\r\n            key2: 'urSugar',\r\n            key3: ''\r\n        }, {\r\n            key: '6',\r\n            time: '尿常规',\r\n            key1: '酮体',\r\n            key2: 'urKetoneBody',\r\n            key3: ''\r\n        }, {\r\n            key: '7',\r\n            time: '尿常规',\r\n            key1: '红细胞',\r\n            key2: 'urRbc',\r\n            key3: ''\r\n        }, {\r\n            key: '8',\r\n            time: '尿常规',\r\n            key1: '白细胞',\r\n            key2: 'urWbc',\r\n            key3: ''\r\n        }, {\r\n            key: '9',\r\n            time: '临床化学',\r\n            key1: 'ALT/ GPT（丙氨酸转氨酶）',\r\n            key2: 'ccAlt',\r\n            key3: 'U/L'\r\n        }, {\r\n            key: '10',\r\n            time: '临床化学',\r\n            key1: 'AST / GOT（天冬氨酸转氨酶）',\r\n            key2: 'ccAst',\r\n            key3: 'U/L'\r\n        }, {\r\n            key: '11',\r\n            time: '临床化学',\r\n            key1: 'GGT（γ-谷氨酰氨基转移酶）',\r\n            key2: 'ccGgt',\r\n            key3: 'U/L'\r\n        }, {\r\n            key: '12',\r\n            time: '临床化学',\r\n            key1: 'TB（总胆红素）',\r\n            key2: 'ccTb',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '13',\r\n            time: '临床化学',\r\n            key1: 'ALB（白蛋白）',\r\n            key2: 'ccAlb',\r\n            key3: 'g/L'\r\n        }, {\r\n            key: '14',\r\n            time: '临床化学',\r\n            key1: 'BUN（尿素氮）',\r\n            key2: 'ccBun',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '15',\r\n            time: '临床化学',\r\n            key1: 'Cr（肌酐）',\r\n            key2: 'ccCr',\r\n            key3: 'μmol/L'\r\n        }, {\r\n            key: '16',\r\n            time: '临床化学',\r\n            key1: 'UA（尿酸）',\r\n            key2: 'ccUa',\r\n            key3: 'μmol/L'\r\n        }, {\r\n            key: '17',\r\n            time: '血脂谱',\r\n            key1: 'TG（甘油三酯）',\r\n            key2: 'blpTg',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '18',\r\n            time: '血脂谱',\r\n            key1: 'CHOL（胆固醇）',\r\n            key2: 'blpChol',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '19',\r\n            time: '血脂谱',\r\n            key1: 'LDL-c（低密度脂蛋白）',\r\n            key2: 'blpLdl',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '20',\r\n            time: '血脂谱',\r\n            key1: 'HDL-c（高密度脂蛋白）',\r\n            key2: 'blpHdl',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '21',\r\n            time: '血糖',\r\n            key1: 'FPG（空腹血糖）',\r\n            key2: 'bsFpg',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '22',\r\n            time: '血糖',\r\n            key1: 'PPG（餐后2h血糖）',\r\n            key2: 'bsPpg',\r\n            key3: 'mmol/L'\r\n        }, {\r\n            key: '23',\r\n            time: '血糖',\r\n            key1: 'HbA1c（糖化血红蛋白）',\r\n            key2: 'bsGh',\r\n            key3: '%'\r\n        }, {\r\n            key: '24',\r\n            time: '血糖',\r\n            key1: '糖化白蛋白',\r\n            key2: 'bsGa',\r\n            key3: '%'\r\n        }, {\r\n            key: '25',\r\n            time: '炎症因子',\r\n            key1: 'FFA（游离脂肪酸）',\r\n            key2: 'tnfFfa',\r\n            key3: 'μmol/L'\r\n        }, {\r\n            key: '26',\r\n            time: '炎症因子',\r\n            key1: 'hs-CRP',\r\n            key2: 'tnfCrp',\r\n            key3: 'mmol/L'\r\n        }];\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"title\">实验室检查</div>\r\n                <Form layout=\"inline\" onSubmit={this.handleSubmit.bind(this)}>\r\n                    <Table columns={columns} dataSource={data} bordered pagination={false} />\r\n                    {\r\n                        this.props.canSave ? <div className='btn-wrap'>\r\n                            <FormItem>\r\n                                <Button disabled={this.props.disabled} type=\"primary\" htmlType=\"submit\">保存</Button>\r\n                                <Button onClick={this.props.onCancel}>取消</Button>\r\n                            </FormItem>\r\n                        </div> : null\r\n                    }\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module4);\r\n\r\nexport default ThisForm","/**\r\n * 混合餐耐量试验\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button, Input, Table } from 'antd';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\nconst FormItem = Form.Item;\r\n\r\nclass Module4 extends Component {\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        const renderContent = (value, row, index) => {\r\n            const obj = {\r\n                children: value,\r\n                props: {},\r\n            };\r\n            if (index === 4) {\r\n                obj.props.colSpan = 0;\r\n            } else {\r\n                obj.children = <FormItem>\r\n                    {\r\n                        getFieldDecorator(value, {\r\n                            initialValue:this.props.formData[value],\r\n                            rules:[{\r\n                                validator:validDoubleNumber\r\n                            }]\r\n                        })(\r\n                            <Input className=\"middle-input\" />\r\n                        )\r\n                    }\r\n                </FormItem>\r\n            }\r\n            return obj;\r\n        };\r\n\r\n        const columns = [{\r\n            title: '时间',\r\n            dataIndex: 'time',\r\n            render: (text, row, index) => {\r\n                if (index < 4) {\r\n                    return text;\r\n                }\r\n                text = <div>\r\n                    <FormItem label=\"尿白蛋白排泄率\">\r\n                        {\r\n                            getFieldDecorator('uae1', {\r\n                                initialValue:this.props.formData['uae1'],\r\n                                rules:[{\r\n                                    validator:validDoubleNumber\r\n                                }]\r\n                            })(\r\n                                <Input addonBefore=\"1\" addonAfter=\"μg/min\" className=\"cover-input\" />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <span style={styles.space}></span>\r\n                    <FormItem>\r\n                        {\r\n                            getFieldDecorator('uae2', {\r\n                                initialValue:this.props.formData['uae2'],\r\n                                rules:[{\r\n                                    validator:validDoubleNumber\r\n                                }]\r\n                            })(\r\n                                <Input addonBefore=\"2\" addonAfter=\"μg/min\" className=\"cover-input\" />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                </div>\r\n                return {\r\n                    children: text,\r\n                    props: {\r\n                        colSpan: 4,\r\n                    },\r\n                };\r\n            },\r\n        }, {\r\n            title: '血糖 （mmol/L）',\r\n            dataIndex: 'key1',\r\n            render: renderContent,\r\n        }, {\r\n            title: '胰岛素(μU/ml)',\r\n            dataIndex: 'key2',\r\n            render: renderContent\r\n        }, {\r\n            title: '胰岛素(μU/ml)',\r\n            dataIndex: 'key3',\r\n            render: renderContent,\r\n        }];\r\n\r\n        const data = [{\r\n            key: '1',\r\n            time: '0 min',\r\n            key1: 'bs0',\r\n            key2: 'insulin0',\r\n            key3: 'cp0'\r\n        }, {\r\n            key: '2',\r\n            time: '30min',\r\n            key1: 'bs30',\r\n            key2: 'insulin30',\r\n            key3: 'cp30'\r\n        }, {\r\n            key: '3',\r\n            time: '60min',\r\n            key1: 'bs60',\r\n            key2: 'insulin60',\r\n            key3: 'cp60'\r\n        }, {\r\n            key: '4',\r\n            time: '120min',\r\n            key1: 'bs120',\r\n            key2: 'insulin120',\r\n            key3: 'cp120'\r\n        }, {\r\n            key: '5',\r\n            key1: 'key111'\r\n        }];\r\n        return (\r\n            <div>\r\n                <div className=\"title\">混合餐耐量试验</div>\r\n                <Form layout=\"inline\" onSubmit={this.handleSubmit.bind(this)}>\r\n                    <Table columns={columns} dataSource={data} bordered pagination={false} />\r\n                    {\r\n                        this.props.canSave ? <div className=\"btn-wrap\">\r\n                            <FormItem>\r\n                                <Button disabled={this.props.disabled} type=\"primary\" htmlType=\"submit\">保存</Button>\r\n                                <Button onClick={this.props.onCancel}>取消</Button>\r\n                            </FormItem>\r\n                        </div> : null\r\n                    }\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = {\r\n    space:{\r\n        margin: '0 10px'\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module4);\r\n\r\nexport default ThisForm","/**\r\n * 心电图\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Radio, Button, Input } from 'antd';\r\nconst FormItem = Form.Item;\r\n\r\nclass Module4 extends Component {\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            this.props.onSubmit(values)\r\n        });\r\n    }\r\n    render() {\r\n        let {\r\n            ecgFlag,\r\n            ecgExplain\r\n        } = this.props.formData;\r\n        const { getFieldDecorator, getFieldValue } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 4 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">心电图</div>\r\n                <Form labelAlign=\"left\" {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <FormItem>\r\n                        {\r\n                            getFieldDecorator('ecgFlag', {\r\n                                initialValue: ecgFlag,\r\n                            })(\r\n                                <Radio.Group>\r\n                                    <Radio value={false}>正常</Radio>\r\n                                    <Radio value={true}>异常</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        {\r\n                            getFieldValue('ecgFlag') ? <FormItem className=\"inline-item\">\r\n                                {\r\n                                    getFieldDecorator('ecgExplain', {\r\n                                        initialValue: ecgExplain,\r\n                                    })(\r\n                                        <Input className=\"middle-input\" />\r\n                                    )\r\n                                }\r\n                            </FormItem> : null\r\n                        }\r\n                    </FormItem>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange:(props, changedValues, allValues) => {\r\n        if(!props.canSave){\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module4);\r\n\r\nexport default ThisForm","import React,{Component} from 'react'\r\n\r\nclass Test extends Component{\r\n    render(){\r\n        return(\r\n            <>hello</>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Test","const formItemLayout = {\r\n  labelCol: {\r\n    span: 4\r\n  },\r\n  wrapperCol: {\r\n    span: 14\r\n  },\r\n};\r\n\r\nconst formItemLayoutTitle = {\r\n  labelCol: {\r\n    span: 8\r\n  },\r\n  wrapperCol: {\r\n    span: 14\r\n  },\r\n};\r\n\r\nconst tailFormItemLayoutTitle = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 44,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 16,\r\n      offset: 6,\r\n    },\r\n  },\r\n};\r\n\r\nconst formItemLayoutInline = {\r\n  labelCol: {\r\n    span: 8\r\n  },\r\n  wrapperCol: {\r\n    span: 16\r\n  },\r\n};\r\n\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 44,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 16,\r\n      offset: 4,\r\n    },\r\n  },\r\n};\r\n\r\nconst formItemLayoutComponent = {\r\n  labelCol: {\r\n    span: 2\r\n  },\r\n  wrapperCol: {\r\n    span: 18\r\n  },\r\n};\r\n\r\nconst tailFormItemLayoutComponent = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 44,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 16,\r\n      offset: 6,\r\n    },\r\n  },\r\n};\r\n\r\n\r\n\r\nexport {\r\n  formItemLayout,\r\n  tailFormItemLayout,\r\n  formItemLayoutInline,\r\n  formItemLayoutTitle,\r\n  tailFormItemLayoutTitle,\r\n  formItemLayoutComponent,\r\n  tailFormItemLayoutComponent\r\n}","import React from 'react'\r\n/**\r\n * 设置根元素字体\r\n */\r\nconst setHtmlFonts = () => {\r\n  var deviceWidth = document.documentElement.clientWidth || document.body.clientWidth;\r\n  if (deviceWidth > 640) deviceWidth = 640;\r\n  document.documentElement.style.fontSize = deviceWidth / 7.5 + 'px';\r\n}\r\n\r\n/**\r\n * 展开注册路由\r\n * @param {*} routesArray \r\n * @param {*} parent \r\n * @param {*} routes \r\n */\r\nconst extendRoutes = (routesArray, parent = '', routes = []) => {\r\n  for (let i in routesArray) {\r\n    let parentPath = \"\"\r\n    if (routesArray[i].children) {\r\n      parentPath += routesArray[i].path\r\n      extendRoutes(routesArray[i].children, parentPath, routes)\r\n    }\r\n    routes.push({\r\n      path: parent + routesArray[i].path,\r\n      component: routesArray[i].component\r\n    })\r\n  }\r\n  return routes\r\n}\r\n\r\n/**\r\n * 获取queryString\r\n * @param {*} name \r\n */\r\nconst getQueryString = (name, search) => {\r\n  var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');\r\n  var r = search.substr(1).match(reg);\r\n  if (r != null) return (r[2]);\r\n  return null;\r\n}\r\n\r\n/**\r\n * 获取queryString 对象\r\n * @param {*} objStr //?id=1&name=1 \r\n */\r\nconst getQueryObject = (objStr) => {\r\n  let obj = {};\r\n  if (objStr) {\r\n    objStr.slice(1).split('&').map(item => {\r\n      let arr = item.split('=');\r\n      obj[arr[0]] = arr[1]\r\n    })\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * 组装queryString\r\n * @param {*} queryObj \r\n * @param {*} hash \r\n */\r\nconst makeQueryString = (queryObj, hash = '') => {\r\n  let queryString = ''\r\n  for (let item in queryObj) {\r\n    if (queryObj[item]) {\r\n      queryString += `${item}=${queryObj[item]}&`\r\n    }\r\n  }\r\n  queryString = \"?\" + queryString.replace(/(&*$)/g, \"\") + hash\r\n  return queryString\r\n}\r\n\r\n/**\r\n * 本地储存\r\n * @param {*} key \r\n * @param {*} value \r\n */\r\nconst setLocal = (key, value) => {\r\n  return window.localStorage.setItem(key, value)\r\n}\r\n\r\n/**\r\n * 获取本地储存\r\n * @param {*} key \r\n */\r\nconst getLocal = (key) => {\r\n  return window.localStorage.getItem(key)\r\n}\r\n\r\n/**\r\n * 移除某个本地储存\r\n * @param {*} key \r\n */\r\nconst removeLocal = (key) => {\r\n  return window.localStorage.removeItem(key)\r\n}\r\n\r\n/**\r\n * 设置cookie\r\n * @param {*} name \r\n * @param {*} value \r\n * @param {*} domain \r\n * @param {*} path \r\n */\r\nconst setCookie = (name, value, domain, path) => {\r\n  var expire = new Date();\r\n  var hour = 24;\r\n  if (hour) {\r\n    expire.setTime(expire.getTime() + 3600000 * hour);\r\n  }\r\n  document.cookie = name + \"=\" + value + \"; \" + (hour ? (\"expires=\" + expire.toGMTString() + \"; \") : \"\") + (path ? (\"path=\" + path + \"; \") : \"path=/; \") + (domain ? (\"domain=\" + domain + \";\") : (\"domain=\" + document.location.hostname + \";\"));\r\n  return true;\r\n}\r\n\r\n/**\r\n * 获取cookie\r\n * @param {*} name \r\n */\r\nconst getCookie = (name) => {\r\n  var r = new RegExp(\"(?:^|;+|\\\\s+)\" + name + \"=([^;]*)\"),\r\n    m = document.cookie.match(r);\r\n  return (!m ? \"\" : m[1]);\r\n}\r\n\r\n/**\r\n * 删除cookie\r\n * @param {*} name \r\n * @param {*} domain \r\n * @param {*} path \r\n */\r\nconst delCookie = (name, domain, path) => {\r\n  document.cookie = name + \"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; \" + (path ? (\"path=\" + path + \"; \") : \"path=/; \") + (domain ? (\"domain=\" + domain + \";\") : (\"domain=\" + document.location.hostname + \";\"));\r\n}\r\n\r\n/**\r\n * 格式化节点树\r\n * @param {*} children \r\n * @param {*} options \r\n */\r\nconst formatTree = (children, options = []) => {\r\n  for (let i in children) {\r\n    let child = {}\r\n    if (children[i].children) {\r\n      let innerChildren = []\r\n      formatTree(children[i].children, innerChildren)\r\n      child.children = innerChildren\r\n    }\r\n    child.label = children[i].name\r\n    child.value = children[i].id\r\n    options.push(child)\r\n  }\r\n  return options\r\n}\r\n\r\n/**\r\n * 展开节点keys\r\n * @param {*} children \r\n * @param {*} keys \r\n */\r\nconst extendsNodeKeys = (children, keys = []) => {\r\n  for (let i in children) {\r\n    keys.push(children[i].id)\r\n    if (children[i].children) {\r\n      extendsNodeKeys(children[i].children, keys)\r\n    }\r\n  }\r\n  return keys\r\n}\r\n\r\n/**\r\n * 路由鉴权\r\n * @param {*} accessRouter 服务端返回的可用菜单\r\n * @param {*} localRouter 本地注册的菜单\r\n */\r\nconst filteRouter = (accessRouter, localRouter) => {\r\n  let extendsTree = (treeArray = [], menuKey = []) => {\r\n    treeArray.forEach(item => {\r\n      menuKey.push(item.text)\r\n      if (item.children && item.children.length > 0) {\r\n        extendsTree(item.children, menuKey)\r\n      }\r\n    })\r\n    return menuKey\r\n  }\r\n  let accessKeys = extendsTree(accessRouter)\r\n  let filteTree = (localTree = [], newTree = []) => {\r\n    localTree.forEach(item => {\r\n      if (accessKeys.indexOf(item.key) >= 0) {\r\n        if (item.children && item.children.length > 0) {\r\n          filteTree(item.children)\r\n        }\r\n        newTree.push(item)\r\n      }\r\n    })\r\n    return newTree\r\n  }\r\n  return filteTree(localRouter)\r\n}\r\n\r\n/**\r\n * 检查数组的某一项全为真\r\n * @param {*} array \r\n * @param {*} key \r\n * @param {*} value \r\n */\r\nconst checkValuesAllTrue = (array, key, value) => {\r\n  let result = true\r\n  if (array instanceof Array && array.length > 0) {\r\n    array.forEach(item => {\r\n      if (item[key] !== value) result = false;\r\n    })\r\n  }\r\n  return result\r\n}\r\n\r\nconst parseTime = (time, fmt = 'YYYY-MM-DD HH:mm:ss') => {\r\n  let date = time;\r\n  if (typeof time != \"object\") {\r\n    date = new Date(time)\r\n  }\r\n  var o = {\r\n    'M+': date.getMonth() + 1,\r\n    'D+': date.getDate(),\r\n    'h+': date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,\r\n    'H+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds(),\r\n    'q+': Math.floor((date.getMonth() + 3) / 3),\r\n    'S': date.getMilliseconds()\r\n  }\r\n  var week = {\r\n    '0': '\\u65e5',\r\n    '1': '\\u4e00',\r\n    '2': '\\u4e8c',\r\n    '3': '\\u4e09',\r\n    '4': '\\u56db',\r\n    '5': '\\u4e94',\r\n    '6': '\\u516d'\r\n  }\r\n  if (/(Y+)/.test(fmt)) {\r\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length))\r\n  }\r\n  if (/(E+)/.test(fmt)) {\r\n    fmt = fmt.replace(RegExp.$1, ((RegExp.$1.length > 1) ? (RegExp.$1.length > 2 ? '\\u661f\\u671f' : '\\u5468') : '') + week[date.getDay() + ''])\r\n  }\r\n  for (var k in o) {\r\n    if (new RegExp('(' + k + ')').test(fmt)) {\r\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)))\r\n    }\r\n  }\r\n  return fmt\r\n}\r\n\r\n/**\r\n * 获取路由key\r\n * @param {*} pathname \r\n */\r\nconst getRouterKey = (pathname, routers) => {\r\n  let pathKey = ''\r\n  for (let i in routers) {\r\n    if (routers[i].path === pathname) {\r\n      pathKey = routers[i].key\r\n    }\r\n  }\r\n  return pathKey\r\n}\r\n\r\n/**\r\n * 输入某行数据\r\n * @param {*} array \r\n * @param {*} num \r\n * @param {*} name \r\n * @param {*} value \r\n */\r\nconst setArrayItem = (array, num, name, value) => {\r\n  for (let i in array) {\r\n    if (array[i].num === num) {\r\n      array[i][name] = value\r\n    }\r\n  }\r\n  return array;\r\n}\r\n\r\n//随机字符串（字母/数字/特殊符号）\r\nconst randomWord = (randomFlag = true, min = 6, max = 12) => {\r\n  let str = \"\",\r\n    range = min,\r\n    arr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\r\n      'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l',\r\n      'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',\r\n      'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L',\r\n      'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',\r\n      '-', '.', '~', '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', ':', '<', '>', '?'\r\n    ];\r\n\r\n  if (randomFlag) {\r\n    range = Math.round(Math.random() * (max - min)) + min; // 任意长度\r\n  }\r\n  for (let i = 0; i < range; i++) {\r\n    let pos = Math.round(Math.random() * (arr.length - 1));\r\n    str += arr[pos];\r\n  }\r\n  return str;\r\n}\r\n\r\n/**\r\n * 删除数组某项\r\n * @param {array} table \r\n * @param {string} id \r\n */\r\nconst deleteTableItem = (table, num) => {\r\n  for (let i in table) {\r\n    if (table[i].num === num) {\r\n      table.splice(i, 1)\r\n    }\r\n  }\r\n  for (let i = 0; i < table.length; i++) {\r\n    table[i].num = i + 1\r\n  }\r\n  return table\r\n}\r\n\r\n/**\r\n * 倒计时\r\n * @param {*} time \r\n * @param {*} cb \r\n */\r\nconst countDown = (time, cb) => {\r\n  var timer = null\r\n\r\n  function _countDown() {\r\n    if (time > 0) {\r\n      cb(time--)\r\n    } else {\r\n      clearInterval(timer)\r\n      cb(0)\r\n    }\r\n  }\r\n  timer = setInterval(_countDown, 1000);\r\n}\r\n\r\n/**\r\n * 节流函数\r\n * @param {*} func \r\n * @param {*} wait \r\n * @param {*} options \r\n */\r\nconst throttle = (func, wait, options) => {\r\n  var context, args, result;\r\n  var timeout = null;\r\n  var previous = 0;\r\n  if (!options) options = {};\r\n  var later = function () {\r\n    previous = options.leading === false ? 0 : new Date().getTime();\r\n    timeout = null;\r\n    result = func.apply(context, args);\r\n    if (!timeout) context = args = null;\r\n  };\r\n  return function () {\r\n    var now = new Date().getTime();\r\n    if (!previous && options.leading === false) previous = now;\r\n    var remaining = wait - (now - previous);\r\n    context = this;\r\n    args = arguments;\r\n    if (remaining <= 0 || remaining > wait) {\r\n      if (timeout) {\r\n        clearTimeout(timeout);\r\n        timeout = null;\r\n      }\r\n      previous = now;\r\n      result = func.apply(context, args);\r\n      if (!timeout) context = args = null;\r\n    } else if (!timeout && options.trailing !== false) {\r\n      timeout = setTimeout(later, remaining);\r\n    }\r\n    return result;\r\n  };\r\n};\r\n\r\n\r\n/**\r\n * 页面按钮权限\r\n * @param {*} buttonKeys \r\n * @param {*} key \r\n */\r\nconst buttonAuth = (buttonKeys, key, ele) => {\r\n  let results = null;\r\n  if (buttonKeys.indexOf(key) >= 0) {\r\n    results = ele\r\n  }\r\n  return results\r\n}\r\n\r\nconst filterMenu = (asyncRoutes) => {\r\n  let menus = JSON.parse(getLocal('menus')) || []\r\n  let routes = []\r\n  let menukey = menus.map(item => item.key)\r\n  for (let i in asyncRoutes) {\r\n    if (!asyncRoutes[i].menu) {\r\n      routes.push(asyncRoutes[i])\r\n    } else {\r\n      if (menukey.indexOf(asyncRoutes[i].key) >= 0) {\r\n        routes.push(asyncRoutes[i])\r\n      }\r\n    }\r\n  }\r\n  return routes\r\n}\r\n\r\n\r\nexport {\r\n  setHtmlFonts,\r\n  extendRoutes,\r\n  getQueryString,\r\n  getQueryObject,\r\n  makeQueryString,\r\n  setLocal,\r\n  getLocal,\r\n  removeLocal,\r\n  setCookie,\r\n  getCookie,\r\n  delCookie,\r\n  formatTree,\r\n  extendsNodeKeys,\r\n  filteRouter,\r\n  checkValuesAllTrue,\r\n  parseTime,\r\n  getRouterKey,\r\n  setArrayItem,\r\n  randomWord,\r\n  deleteTableItem,\r\n  countDown,\r\n  throttle,\r\n  buttonAuth,\r\n  filterMenu\r\n}","/**\r\n * 菜单组件\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Menu, Icon } from 'antd';\r\nimport {Link} from 'react-router-dom'\r\nimport routes from '../routes/index';\r\nimport {checkValuesAllTrue,getRouterKey,filterMenu} from '../utils/index'\r\nimport {withRouter} from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nconst SubMenu = Menu.SubMenu;\r\n\r\nclass MyMenu extends Component { \r\n  \r\n  state = {\r\n    selectedKey:getRouterKey(this.props.location.pathname,routes),\r\n    accessRouter:[]\r\n  }\r\n\r\n  componentWillMount(){\r\n    let accessRouter = filterMenu(routes)\r\n    this.setState({accessRouter})\r\n  }\r\n\r\n  componentWillUpdate(){\r\n    if(this.state.selectedKey!==getRouterKey(this.props.menu.key,routes)){\r\n      this.setState({selectedKey:getRouterKey(this.props.menu.key,routes)})\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const {selectedKey,routers,accessRouter} = this.state \r\n    const createMenu = (router,i)=>{\r\n      if(router.menu){\r\n        //检查有需要的的子路由\r\n        if(router.children && !checkValuesAllTrue(router.children,\"menu\",false)){\r\n          return(\r\n            <SubMenu key={router.key} title={<span><Icon type={router.meta.icon || 'folder'} /><span>{router.meta.title}</span></span>} >\r\n              {router.children.map(createMenu)}\r\n            </SubMenu>\r\n          )\r\n        }else{\r\n          return (\r\n            <Menu.Item key={router.key} style={{height:\"53px\",marginTop:0,marginBottom:0,lineHeight:\"53px\"}}>\r\n              <Link to={router.path}>\r\n                <Icon type={router.meta.icon || 'pie-chart'} />\r\n                <span>{router.meta.title}</span>\r\n              </Link>\r\n            </Menu.Item>\r\n          )\r\n        }\r\n      }\r\n    }\r\n    const MyMenuItem = accessRouter.map(createMenu)\r\n    \r\n    return(\r\n      //openKeys={this.state.openKeys} onOpenChange={this.onOpenChange}\r\n      <Menu theme=\"light\" mode=\"inline\" selectedKeys={[selectedKey]}>\r\n          {MyMenuItem} \r\n      </Menu>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(state=>{\r\n  return {\r\n    'menu':state.menu\r\n  }\r\n},null)(MyMenu)) \r\n","const staticHost2ApiHost = () => {\r\n    var mHost = window.location.hostname\r\n    return {\r\n        'localhost':'//sports-qa2.lifesense.com',\r\n        'static-qa2.lifesense.com': '//sports-qa2.lifesense.com',\r\n        'static-qa.lifesense.com': '//sports-qa.lifesense.com',\r\n    }[mHost] || ''\r\n}\r\n\r\nconst config = {\r\n    server: staticHost2ApiHost(),\r\n    appType:1\r\n}\r\n\r\nexport default config","import axios from \"axios\"\r\nimport uuid from 'uuid'\r\nimport configs from '../configs/index'\r\nimport { notification } from 'antd'\r\n\r\n\r\naxios.defaults.withCredentials = true;\r\n// 创建axios实例\r\nconst request = axios.create({\r\n  baseURL: configs.server,\r\n  timeout: 15000,\r\n  params: {\r\n    appType: configs.appType,\r\n    // requestId: `${uuid.v1().replace(/-/g, '')}`\r\n  },\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n\r\n// request拦截器\r\nrequest.interceptors.request.use(\r\n  config => {\r\n    config.params['requestId'] = `${uuid.v1().replace(/-/g,'')}`\r\n    // config.headers['appType'] = configs.appType\r\n    return config\r\n  },\r\n  error => {\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\n// respone拦截器\r\nrequest.interceptors.response.use(\r\n  response => {\r\n    const res = response.data\r\n    if (res.code !== 200) {\r\n      if(res.code!==410){\r\n        notification['error']({\r\n          message: res.msg,\r\n        })\r\n      }\r\n      //登录失败的逻辑\r\n      if (res.code === 401) {\r\n        \r\n      }\r\n      return Promise.reject(res)\r\n    } else {\r\n      return response.data\r\n    }\r\n  },\r\n  error => {\r\n    //message.error(error.message);\r\n    notification['error']({\r\n      message: error.msg\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default request","import request from '../utils/request'\r\nimport config from '../configs/index'\r\nconst SERVICE_NAME = '/rpmaccount_service'\r\n\r\n/**\r\n * 登录\r\n * @param {*} data \r\n */\r\nconst login = (data) => {\r\n  return request({\r\n    url: SERVICE_NAME + '/common/login',\r\n    method: 'post',\r\n    data: {\r\n      appType: config.appType,\r\n      ...data\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * 登出\r\n */\r\nconst logout = () => {\r\n  return request({\r\n    url: SERVICE_NAME + '/common/logout'\r\n  })\r\n}\r\n\r\n/**\r\n * 图形验证码\r\n */\r\nconst getCaptcha = () => {\r\n  return request({\r\n    url: SERVICE_NAME + '/common/getimagecheckcode'\r\n  })\r\n}\r\n\r\n/**\r\n * 获取短信验证码\r\n * @param {*} data \r\n */\r\nconst getMobileCode = (data) => {\r\n  return request({\r\n    url: SERVICE_NAME + '/common/getmobilecode',\r\n    data,\r\n    method: \"post\"\r\n  })\r\n}\r\n\r\n/**\r\n * 校验短信验证码\r\n * @param {*} data \r\n */\r\nconst checkMobileCode = (data) => {\r\n  return request({\r\n    url: SERVICE_NAME + '/common/checkmobilecode',\r\n    data,\r\n    method: \"post\"\r\n  })\r\n}\r\n\r\n/**\r\n * 修改密码\r\n * @param {*} data \r\n */\r\nconst changePassword = (data) => {\r\n  return request({\r\n    url: '/user-service/user_account/change_password',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n * 用户信息\r\n */\r\nconst userInfo = () => {\r\n  return request({\r\n    url: SERVICE_NAME + \"/common/getDoctorUserInfo\",\r\n    method: \"post\"\r\n  })\r\n}\r\n\r\n/**\r\n * 修改用户信息\r\n * @param {*} data \r\n */\r\nconst updateUserInfo = (data) => {\r\n  return request({\r\n    url: SERVICE_NAME + \"/common/updateuserinfo\",\r\n    data,\r\n    method: \"post\"\r\n  })\r\n}\r\n\r\n\r\n/**\r\n * 修改用户帐号\r\n * @param {*} data \r\n */\r\nconst updateUserAccount = (data) => {\r\n  return request({\r\n    url: SERVICE_NAME + \"/common/updateaccount\",\r\n    data,\r\n    method: \"post\"\r\n  })\r\n}\r\n\r\n/**\r\n * 登录后台修改密码\r\n * @param {*} data \r\n */\r\nconst updateUserPassword = (data) => {\r\n  return request({\r\n    url: SERVICE_NAME + '/common/updatepassword',\r\n    data,\r\n    method: \"post\"\r\n  })\r\n}\r\n\r\n/**\r\n * 更新医生基本信息\r\n * @param {*} data \r\n */\r\nconst updateDoctorUserInfo = (data) => {\r\n  return request({\r\n    url: SERVICE_NAME + \"/common/updateDoctorUserInfo\",\r\n    data,\r\n    method: \"post\"\r\n  })\r\n}\r\n\r\n/**\r\n * 更新患者信息\r\n * @param {*} data \r\n */\r\nconst updatePatientInfo = (data) => {\r\n  return request({\r\n    url: SERVICE_NAME + '/common/updatePatientUserInfo',\r\n    data,\r\n    method: \"post\"\r\n  })\r\n}\r\n\r\n/**\r\n * 修改帐号\r\n * @param {*} data \r\n */\r\nconst updateAccount = (data) => {\r\n  return request({\r\n    url: SERVICE_NAME + '/common/updateAccount',\r\n    data,\r\n    method: \"post\"\r\n  })\r\n}\r\n\r\n/**\r\n * 找回密码\r\n * @param {*} data \r\n */\r\nconst findPassword = (data) => {\r\n  return request({\r\n    url: SERVICE_NAME + '/common/findPassword',\r\n    data,\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n/**\r\n * 获取菜单权限\r\n */\r\nconst getMenu = () => {\r\n  return request({\r\n    url: SERVICE_NAME + \"/power/getMenuList\",\r\n    method: \"post\"\r\n  })\r\n}\r\n\r\n/**\r\n * 根据页面pageId获取页面按钮权限\r\n * @param {*} data \r\n */\r\nconst getButton = (data) => {\r\n  return request({\r\n    url: SERVICE_NAME + '/power/getPageButton',\r\n    method: \"post\",\r\n    data\r\n  })\r\n}\r\n\r\n\r\nexport {\r\n  login,\r\n  logout,\r\n  changePassword,\r\n  getCaptcha,\r\n  userInfo,\r\n  getMobileCode,\r\n  updateUserInfo,\r\n  updateUserAccount,\r\n  checkMobileCode,\r\n  updateUserPassword,\r\n  updateDoctorUserInfo,\r\n  updatePatientInfo,\r\n  updateAccount,\r\n  findPassword,\r\n  getMenu,\r\n  getButton\r\n}","import request from '../utils/request'\r\nconst SERVICE_NAME = '/rpmrelation_service'\r\n\r\n/**\r\n * 绑定患者\r\n * @param {*} data \r\n */\r\nconst bindPatient = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + \"/bindPatient\",\r\n        data,\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 查询医生分组\r\n */\r\nconst findGroup = () => {\r\n    return request({\r\n        url: SERVICE_NAME + '/doctorGroupSelect',\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 查询自建分组\r\n */\r\nconst findGroupSelf = () => {\r\n    return request({\r\n        url: SERVICE_NAME + \"/findGroups\",\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 创建医生分组\r\n * @param {*} data \r\n */\r\nconst createGroup = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/createGroup',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n/**\r\n *修改分组\r\n */\r\nconst updateGroup = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/updateGroup',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n/**\r\n * 删除分组\r\n * @param {*} data \r\n */\r\nconst deleteGroup = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/deleteGroup',\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n/**\r\n * 患者列表查询\r\n * @param {*} data \r\n */\r\nconst findPatientList = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/findPatientCards',\r\n        data,\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 正聊记录\r\n * @param {*} data \r\n */\r\nconst findMedicalRecord = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/findTreatmentRecord',\r\n        data,\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 患者信息\r\n * @param {*} data \r\n */\r\nconst findPatient = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/getDoctorPatient',\r\n        data,\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 添加患者分组\r\n */\r\nconst groupSelectInfo = () => {\r\n    return request({\r\n        url: SERVICE_NAME + '/groupSelectInfo',\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\nexport {\r\n    bindPatient,\r\n    findGroup,\r\n    createGroup,\r\n    updateGroup,\r\n    deleteGroup,\r\n    findPatientList,\r\n    findMedicalRecord,\r\n    findPatient,\r\n    findGroupSelf,\r\n    groupSelectInfo\r\n}","/**\r\n * 验证手机号码\r\n * @param {*} phone \r\n */\r\nconst isPhoneNumber = (phone) => {\r\n  let result = false\r\n  let reg = new RegExp(/^([1][2,3,4,5,6,7,8,9])\\d{9}$/);\r\n  let r = phone.match(reg)\r\n  r ? result = true : result = false\r\n  return result\r\n}\r\n\r\n/**\r\n * 校验用户名\r\n * @param {*} name \r\n */\r\nconst isPersonName = (name) => {\r\n  let result = false\r\n  if (name && name.length < 20) {\r\n    result = true\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * 校验密码\r\n * @param {*} password \r\n */\r\nconst isPassword = (password) => {\r\n  let result = false\r\n  if (password.length >= 6 && password.length < 16) {\r\n    result = true\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * 是否包含全部的测量类型\r\n * \r\n */\r\nconst isMeasureTypeFull = (tableData) => {\r\n  let results = true\r\n  let type = null;\r\n  let typeArray = []\r\n  for (let i in tableData) {\r\n    if (tableData[i].type !== type) {\r\n      typeArray.push(tableData[i].type)\r\n    }\r\n  }\r\n  if (typeArray.length < 3) {\r\n    return false\r\n  }\r\n  return results\r\n}\r\n\r\nconst isTwoNumber = (number) => {\r\n  let results = false\r\n  if (!isNaN(number) && number.length <= 2) {\r\n    results = true\r\n  }\r\n  return results\r\n}\r\n\r\nexport {\r\n  isPhoneNumber,\r\n  isPersonName,\r\n  isPassword,\r\n  isMeasureTypeFull,\r\n  isTwoNumber\r\n}","import React, { Component } from 'react';\r\nimport { Layout, Form, Breadcrumb, Icon, Modal, Input, Radio, Button, Alert, message, Row, Col } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { formItemLayout, tailFormItemLayout } from '../../utils/formItemLayout';\r\nimport MyMenu from '../../components/MyMenu.jsx';\r\nimport { getLocal } from '../../utils/index';\r\nimport { logout } from '../../apis/user';\r\nimport { bindPatient } from '../../apis/relation';\r\nimport { delCookie ,buttonAuth} from '../../utils/index';\r\nimport { isPhoneNumber, isPersonName } from '../../utils/validate';\r\nimport './styles/layout.css';\r\nimport defaultUser from '../../assets/images/default-user.jpg';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {findGroup,createGroup ,groupSelectInfo} from '../../apis/relation';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\nconst FormItem = Form.Item;\r\nconst RadioGroup = Radio.Group;\r\nconst RadioButton = Radio.Button; \r\nconst { TextArea } = Input; \r\n\r\n\r\nclass MyLayoutForm extends Component {\r\n  state = {\r\n    collapsed: true,\r\n    visible: false,\r\n    addPatientVisible: false,\r\n    groupId: 0,\r\n    subGroupId: 1,\r\n    submitDisabled: false,\r\n    errorMessage: null,\r\n    name: \"\",\r\n    addModalState: 0,\r\n    wxAddWords: \"【我在使用 xxxx 】长按复制全部内容打开到XXXX ，即可联系我。   δYU1EJJK5671δ   应用下载链接：http://lifesense.cn/h.3341sm=0187\",\r\n    userItem: false,\r\n    userCenterVisible: false,\r\n    updatePhoneVisible: false,\r\n    changePasswordVisible: false,\r\n    addSubmitLoading: false,\r\n    customizeGroup:[],\r\n    classesGroup:[],\r\n    showCustomize:false,\r\n    addState:false,\r\n    newGroupName:\"\",\r\n    addBtnState:true,\r\n    customizeAdd:false\r\n  };\r\n\r\n  componentWillMount() {\r\n    let user = JSON.parse(getLocal(\"user\"))\r\n    this.setState({user})\r\n  }\r\n\r\n  onCollapse = (collapsed) => {\r\n    this.setState({\r\n      collapsed\r\n    });\r\n  }\r\n\r\n  onClose = () => {\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 退出登录\r\n   */\r\n  handleLogout = () => {\r\n    logout().then(res => {\r\n      delCookie(\"accessToken\")\r\n      delCookie(\"session\")\r\n      window.location.href = '/rpm/#/login'\r\n    })\r\n  }\r\n\r\n  handleAddPatientVisible() {\r\n    //获取分组\r\n    this.actionFindGroup()\r\n    this.setState({ addPatientVisible: true })\r\n  }\r\n\r\n  handleAddPatientHide() {\r\n    let self = this\r\n    this.setState({ addPatientVisible: false })\r\n    setTimeout(() => {\r\n      self.setState({\r\n        addModalState: 0,\r\n        realName: \"\",\r\n        mobile: \"\",\r\n        treatmentRemark:\"\",\r\n        errorMessage:null\r\n      })\r\n    })\r\n  }\r\n\r\n  handleSelectGroup(e) {\r\n    if(e.target.value === 0){\r\n      this.setState({ \r\n        showCustomize:true\r\n      })\r\n    }else{\r\n      let groupId = e.target.value.split('-')[0]\r\n      let topicId = e.target.value.split('-')[1]\r\n      this.setState({ \r\n        groupId,\r\n        topicId,\r\n        showCustomize:false\r\n      });\r\n    }\r\n  }\r\n\r\n  //选择自定义分组\r\n  handleSelectGroup2(e){\r\n    this.setState({ \r\n      groupId: +e.target.value ,\r\n      topicId:0\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 输入框方法\r\n   */\r\n  handleInput(key, e) {\r\n    this.setState({ [key]: e.target.value })\r\n  }\r\n\r\n  /**\r\n   * 获取焦点时清除错误信息\r\n   */\r\n  handleFocusInput() {\r\n    this.setState({ errorMessage: null })\r\n  }\r\n\r\n  /**\r\n   * 失去焦点是检查数据\r\n   */\r\n  handleBlurInput(key, e) {\r\n    switch (key) {\r\n      case \"mobile\":\r\n        if (!isPhoneNumber(e.target.value)) this.setState({ errorMessage: '请输入正确的手机号码' })\r\n        break;\r\n      case \"realName\":\r\n        if (!isPersonName(e.target.value)) this.setState({ errorMessage: '输入的患者姓名有误' })\r\n        break;\r\n      default:\r\n        return\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 切换modal显示状态：0-单个添加，1-批量添加\r\n   * @param {*} state \r\n   */\r\n  handleChangeAddState(state) {\r\n    this.setState({ addModalState: state })\r\n  }\r\n\r\n  /**\r\n   * 提交患者信息\r\n   */\r\n  handleSubmit() {\r\n    const { realName, mobile, groupId, topicId, treatmentRemark } = this.state\r\n    this.actionBindPatient({ realName, mobile, groupId, topicId, treatmentRemark })\r\n  }\r\n\r\n  handleShowUserCenter() {\r\n    this.setState({ userItem: true })\r\n  }\r\n\r\n  handleHideUserCenter() {\r\n    this.setState({ userItem: false })\r\n  }\r\n\r\n  handleUserCenterHide() {\r\n    this.setState({ userCenterVisible: false })\r\n  }\r\n\r\n  handleUserCenterVisible() {\r\n    //this.setState({userCenterVisible:true})\r\n    this.props.history.push('/user')\r\n    //this.setState({userCenterVisible:true})\r\n  }\r\n\r\n  handleUpdatePhone() {\r\n    this.setState({ updatePhoneVisible: true })\r\n  }\r\n\r\n  handleUpdatePhoneHide() {\r\n    this.setState({ updatePhoneVisible: false })\r\n  }\r\n\r\n  handleChangePasswordHide() {\r\n    this.setState({ changePasswordVisible: false })\r\n  }\r\n\r\n  handleChangePassword() {\r\n    this.setState({ changePasswordVisible: true })\r\n  }\r\n\r\n  /**\r\n   * 获取验证码\r\n   */\r\n  handleGetCode() {\r\n\r\n  }\r\n\r\n  //显示添加分组输入框\r\n  handleShowAddBox(){\r\n    this.setState({addState:true,addBtnState:false})\r\n  }\r\n\r\n\r\n  handleNewGroupName(e){\r\n    this.setState({newGroupName:e.target.value})\r\n  }\r\n\r\n  //添加分组\r\n  handleAddGroup(){\r\n    let {newGroupName} = this.state;\r\n    this.actionCreateGroup({ groupName: newGroupName })\r\n  }\r\n\r\n  handleCancelAddGroup(){\r\n    this.setState({addState:false,addBtnState:true})\r\n  }\r\n\r\n\r\n  /**\r\n   * 创建分组\r\n   * @param {*} data \r\n   */\r\n  async actionCreateGroup(data) {\r\n    let group = await createGroup(data)\r\n    if (group && group.code === 200) {\r\n      message.success('添加分组成功')\r\n      this.actionFindGroup();\r\n      this.setState({addState:false})\r\n    }\r\n  }\r\n  /**\r\n   * 绑定患者\r\n   * @param {*} data \r\n   */\r\n  async actionBindPatient(data) {\r\n    this.setState({ addSubmitLoading: true })\r\n    let patient = await bindPatient(data).catch(err => {\r\n      this.setState({ errorMessage: err.msg, addSubmitLoading: false })\r\n    })\r\n    if (patient && patient.code === 200) {\r\n      this.setState({\r\n        addSubmitLoading: false,\r\n        addModalState: 2\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取全部分组\r\n   */\r\n  async actionFindGroup(){\r\n    let group = await groupSelectInfo()\r\n    if(group && group.code === 200){\r\n      let groups = group.data.nodes\r\n      let showSelf = group.data.showSelf || false\r\n      let classesGroup = []\r\n      let customizeGroup=[]\r\n      //是否显示自定义按钮\r\n      this.setState({customizeAdd:showSelf})\r\n      for(let i in groups){\r\n        if(groups[i].topicId === 0){\r\n          //非课题医生\r\n          customizeGroup.push(groups[i])\r\n        }else{\r\n          classesGroup.push(groups[i])\r\n        }\r\n      }\r\n      this.setState({customizeGroup,classesGroup})\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      addPatientVisible,submitDisabled, errorMessage, realName, mobile,\r\n      addModalState, wxAddWords, userItem, userCenterVisible, changePasswordVisible,\r\n      updatePhoneVisible, user, addSubmitLoading,customizeGroup,classesGroup,showCustomize,addState,\r\n      addBtnState,customizeAdd\r\n    } = this.state\r\n    let moreBtn = true\r\n    const showErrorMessage = () => (\r\n      errorMessage ? <Alert message={errorMessage} type=\"error\" /> : null\r\n    )\r\n\r\n    const classesItem = classesGroup.map((item,index)=><Radio key={index} value={item.id+\"-\"+item.topicId}>{item.value}</Radio>)\r\n    const customizeItem = customizeGroup.map((item,index)=><RadioButton key={index} value={item.id}>{item.value}</RadioButton>)\r\n    if(classesItem.length + customizeItem.length >= 6){\r\n      moreBtn=false\r\n    }\r\n    //点个添加\r\n    const sigleAdd = () => (\r\n      <div >\r\n        <FormItem  {...formItemLayout} label=\"患者姓名\">\r\n          <Input\r\n            placeholder=\"请输入患者姓名\"\r\n            onChange={this.handleInput.bind(this, 'realName')}\r\n            onBlur={this.handleBlurInput.bind(this, 'realName')}\r\n            onFocus={this.handleFocusInput.bind(this)}\r\n            value={realName}\r\n          />\r\n        </FormItem>\r\n        <FormItem  {...formItemLayout} label=\"手机号码\">\r\n          <Input\r\n            placeholder=\"请输入患者的手机号码\"\r\n            onChange={this.handleInput.bind(this, 'mobile')}\r\n            onBlur={this.handleBlurInput.bind(this, 'mobile')}\r\n            onFocus={this.handleFocusInput.bind(this)}\r\n            value={mobile}\r\n          />\r\n        </FormItem>\r\n        <FormItem  {...formItemLayout} label=\"患者分类\">\r\n          <RadioGroup onChange={this.handleSelectGroup.bind(this)}>\r\n            {classesItem}\r\n            {customizeAdd?<Radio value={0}>自定义</Radio>:null}\r\n          </RadioGroup>\r\n        </FormItem>\r\n        {/* 自定义分组 */}\r\n        {showCustomize?(\r\n          <FormItem  {...formItemLayout} label=\"自定义分组\">\r\n            <RadioGroup onChange={this.handleSelectGroup2.bind(this)} style={{marginRight:\"20px\"}}>\r\n              {customizeItem}\r\n            </RadioGroup>\r\n            {moreBtn && addBtnState?<Button type=\"primary\" onClick={this.handleShowAddBox.bind(this)}><Icon type=\"plus-circle\"/>新增</Button>:null}\r\n            \r\n            {/* <Icon type=\"plus-circle\"  style={{marginLeft:\"20px\",color:\"#1890ff\",fontSize:\"20px\"}}/> */}\r\n          </FormItem>\r\n        ):null}\r\n\r\n        {addState?(\r\n          <FormItem  {...tailFormItemLayout}>\r\n            <Input onChange={this.handleNewGroupName.bind(this)} style={{width:\"300px\"}} addonAfter={\r\n              <>\r\n                <span style={{cursor:\"pointer\",marginRight:\"20px\",fontSize:\"20px\"}} onClick={this.handleAddGroup.bind(this)}><Icon style={{color:\"#1890ff\"}} type=\"check-circle\" theme=\"filled\" /></span>\r\n                <span style={{cursor:\"pointer\",fontSize:\"20px\"}} onClick={this.handleCancelAddGroup.bind(this)}><Icon style={{color:\"#f00\"}}type=\"close-circle\" theme=\"filled\" /></span>\r\n              </>\r\n            }/>\r\n          </FormItem>\r\n        ):null}\r\n        \r\n        <FormItem  {...formItemLayout} label=\"诊疗备注\">\r\n          <TextArea autosize={{ minRows: 3 }} onChange={this.handleInput.bind(this, 'treatmentRemark')} />\r\n        </FormItem>\r\n        <FormItem  {...tailFormItemLayout}>\r\n          {showErrorMessage()}\r\n        </FormItem>\r\n        <FormItem {...tailFormItemLayout}>\r\n          <Button\r\n            className=\"modal-btn\"\r\n            type=\"primary\"\r\n            onClick={this.handleSubmit.bind(this)}\r\n            disabled={submitDisabled}\r\n            loading={addSubmitLoading}\r\n          >提交</Button>\r\n          <Button className=\"modal-btn\" onClick={this.handleAddPatientHide.bind(this)}>取消</Button>\r\n          {/* <Button className=\"modal-btn\" onClick={this.handleChangeAddState.bind(this,1)}>微信患者批量添加</Button> */}\r\n        </FormItem>\r\n      </div>\r\n    )\r\n    //微信患者批量添加\r\n    const batchAdd = () => (\r\n      <div>\r\n        <div className=\"wx-words-refresh\"><Icon type=\"sync\" />&nbsp;刷新后邀请口令即失效</div>\r\n        <Alert\r\n          description={wxAddWords}\r\n          type=\"info\"\r\n        />\r\n        <div className=\"tips\">*为保证医护人员隐私，邀请码将于3月8日过期</div>\r\n        <div className='wx-add-btn'>\r\n          <Button type=\"primary\" className='wx-close-btn' onClick={this.handleAddPatientHide.bind(this)}>去微信粘贴并发送给患者</Button>\r\n          <Button className='wx-close-btn' onClick={this.handleChangeAddState.bind(this, 0)}>返回</Button>\r\n        </div>\r\n        <div className=\"teaching-link\"><a href=\"#/\" className=\"use-teaching\">患者使用教学</a></div>\r\n      </div>\r\n    )\r\n    //提交完成\r\n    const addSuccess = () => (\r\n      <div>\r\n        <div className=\"invite-success-icon\"><Icon type=\"check-circle\" /></div>\r\n        <div className=\"invite-success-wrods\">已向“{mobile}”患者发送使用邀请</div>\r\n        <div className=\"return-to-input\"><span onClick={this.handleChangeAddState.bind(this,0)} className=\"return-link\">重新输入手机号码</span></div>\r\n        <div className='wx-add-btn padding-bottom'>\r\n          <Button type=\"primary\" onClick={this.handleAddPatientHide.bind(this)}>没问题！患者已收到</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n    //可切换的页面集合\r\n    const addModalArray = [sigleAdd(), batchAdd(), addSuccess()]\r\n\r\n    //用户中心菜单\r\n    const showUserItem = () => (\r\n      <div className=\"user-item-wrap\">\r\n        <div className='user-item' onClick={this.handleUserCenterVisible.bind(this)}>个人中心</div>\r\n        {/* <div className='user-item' onClick={this.handleUpdatePhone.bind(this)}>修改帐号</div>\r\n        <div className='user-item' onClick={this.handleChangePassword.bind(this)}>修改密码</div> */}\r\n        <div className='user-item' onClick={this.handleLogout.bind(this)}>登出</div>\r\n      </div>\r\n    )\r\n\r\n    const breadcrumbNameMap = {\r\n      '/patient': '患者管理',\r\n      '/patient/archives': '患者档案',\r\n      '/plan': '方案管理',\r\n      '/plan/measurement':\"添加测量方案\",\r\n      '/plan/followup':\"添加随访方案\",\r\n      '/plan/edit': '添加计划',\r\n      '/plan/followup-edit': '随访方案',\r\n      '/chat': '医患沟通',\r\n      '/crf': 'CRF录入',\r\n      '/crf/patient': '患者CRF',\r\n      '/crf/patient/edit': '节点详情',\r\n      '/user': '个人中心'\r\n    };\r\n\r\n    const { location } = this.props;\r\n\r\n    const pathSnippets = location.pathname.split('/').filter(i => i);\r\n    const extraBreadcrumbItems = pathSnippets.map((_, index) => {\r\n      const url = `/${pathSnippets.slice(0, index + 1).join('/')}`;\r\n      return (\r\n        <Breadcrumb.Item key={url}>\r\n          <Link to={url}>\r\n            {breadcrumbNameMap[url]}\r\n          </Link>\r\n        </Breadcrumb.Item>\r\n      );\r\n    });\r\n    const breadcrumbItems = [(\r\n      <Breadcrumb.Item key=\"home\">\r\n        {/* <Link to=\"/patient\">首页</Link> */}\r\n      </Breadcrumb.Item>\r\n    )].concat(extraBreadcrumbItems);\r\n\r\n    const bindPatientBtn = (\r\n      <div className='add-patient' onClick={this.handleAddPatientVisible.bind(this)}>\r\n        <Icon className='icon' type=\"usergroup-add\" title='添加病例' />\r\n      </div>\r\n    )\r\n    return (\r\n      <Layout style={{ minHeight: '100vh' }}>\r\n        <Header style={{ padding: \"0 20px\" }}>\r\n          <div className='header'>\r\n            <div className='logo'>国家2型糖尿病智能化管理平台</div>\r\n            <div className='user'>\r\n              {buttonAuth(getLocal('buttons') || [],'bindPatient',bindPatientBtn)}\r\n              <div\r\n                onClick={this.handleUserCenterVisible.bind(this)}\r\n                className='user-info'\r\n                //onMouseEnter={this.handleShowUserCenter.bind(this)}\r\n                //onMouseLeave={this.handleHideUserCenter.bind(this)}\r\n              >\r\n                <img src={user.headUrl || defaultUser} alt='' />\r\n                {userItem ? showUserItem() : null}\r\n              </div>\r\n              <div className='logout' onClick={this.handleLogout.bind(this)}>\r\n                <Icon className='icon' type=\"logout\" title='退出登录'/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Header>\r\n        <Layout>\r\n          <Sider\r\n            width={200}\r\n            theme=\"light\"\r\n            //collapsible\r\n            collapsed={this.state.collapsed}\r\n            onCollapse={this.onCollapse}\r\n          >\r\n            <MyMenu />\r\n          </Sider>\r\n          <Layout id=\"my-layout\" style={{ padding: '0 24px 24px' }}>\r\n            <div id=\"my-breadcrumb\">\r\n              <Breadcrumb style={{ margin: '16px 0' }} separator=\">\">\r\n                  {breadcrumbItems}\r\n              </Breadcrumb>\r\n            </div>\r\n            <Content style={{ background: '#fff', padding: 24, margin: 0, minHeight: 300 }}>\r\n              {this.props.content()}\r\n            </Content>\r\n          </Layout>\r\n        </Layout>\r\n\r\n        {/**添加病例弹窗 */}\r\n        <Modal\r\n          visible={addPatientVisible}\r\n          title=\"添加病例\"\r\n          onCancel={this.handleAddPatientHide.bind(this)}\r\n          footer={null}\r\n          width={700}\r\n        >\r\n          {addModalArray[addModalState]}\r\n        </Modal>\r\n\r\n        {/** 用户中心 */}\r\n        <Modal\r\n          title=\"个人中心\"\r\n          visible={userCenterVisible}\r\n          onCancel={this.handleUserCenterHide.bind(this)}\r\n          footer={null}\r\n          width={700}\r\n        >\r\n          <div className=\"user-center\">\r\n            <Row>\r\n              <Col span={10} offset={2}>\r\n                <div className=\"user-center-item\">\r\n                  <span>姓名：</span>\r\n                  <span>李时珍</span>\r\n                </div>\r\n              </Col>\r\n              <Col span={10} offset={2}>\r\n                <div className=\"user-center-item\">\r\n                  <span>职称：</span>\r\n                  <input value=\"主任医师\" disabled />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={10} offset={2}>\r\n                <div className=\"user-center-item\">\r\n                  <span>医院：</span>\r\n                  <input value=\"南山医院\" disabled />\r\n                </div>\r\n              </Col>\r\n              <Col span={10} offset={2}>\r\n                <div className=\"user-center-item\">\r\n                  <span>科室：</span>\r\n                  <input value=\"外科\" disabled />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={22} offset={2}>\r\n                <div className=\"user-center-item\">\r\n                  <span>地址：</span>\r\n                  <input className=\"user-address\" value=\"深圳市南山区高新南一道\" disabled />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={22} offset={2}>\r\n                <div className=\"user-center-item\">\r\n                  <span>联系方式：13800138000</span>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={22} offset={2}>\r\n                <div className=\"user-center-item\">\r\n                  <span>所属课题：</span>\r\n                  <span className=\"class-item\">课题一</span>\r\n                  <span className=\"class-item\">课题二</span>\r\n                  <span className=\"class-item\">课题三</span>\r\n                  <span className=\"class-item\">课题四</span>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={22} offset={2}>\r\n                <div className=\"user-center-item\">\r\n                  <span>证书：</span>\r\n                  <span className=\"user-image-wrap\">\r\n                    <div className=\"image-box\"></div>\r\n                    <div className=\"image-box\"></div>\r\n                  </span>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={22} offset={2}>\r\n                <div className=\"user-center-item\">\r\n                  <Button type=\"primary\">编辑</Button>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        </Modal>\r\n\r\n        {/** 修改帐号 */}\r\n        <Modal\r\n          visible={updatePhoneVisible}\r\n          title=\"修改帐号\"\r\n          onCancel={this.handleUpdatePhoneHide.bind(this)}\r\n          footer={null}\r\n          width={700}\r\n        >\r\n          <Form>\r\n            <FormItem {...formItemLayout} label=\"帐号\">\r\n              <Input placeholder=\"请输入新手机号码\" />\r\n            </FormItem>\r\n            <FormItem {...formItemLayout} label=\"验证码\">\r\n              <Input\r\n                placeholder='请输入验证码'\r\n                addonAfter={<span onClick={this.handleGetCode.bind(this)} style={{ cursor: 'pointer' }}>获取验证码</span>}\r\n              />\r\n            </FormItem>\r\n            <FormItem {...formItemLayout} label=\"登录密码\">\r\n              <Input placeholder=\"请输入登录密码\" />\r\n            </FormItem>\r\n            <FormItem {...tailFormItemLayout}>\r\n              <Button type=\"primary\">提交</Button>\r\n            </FormItem>\r\n          </Form>\r\n        </Modal>\r\n\r\n        {/** 修改密码 */}\r\n        <Modal\r\n          visible={changePasswordVisible}\r\n          title=\"修改密码\"\r\n          onCancel={this.handleChangePasswordHide.bind(this)}\r\n          footer={null}\r\n          width={700}\r\n        >\r\n          <Form>\r\n            <FormItem {...formItemLayout} label=\"帐号\">\r\n              <span>13800138000</span>\r\n            </FormItem>\r\n            <FormItem {...formItemLayout} label=\"原密码\">\r\n              <Input\r\n                placeholder='请输入原密码'\r\n                type=\"password\"\r\n              />\r\n            </FormItem>\r\n            <FormItem {...formItemLayout} label=\"新密码\">\r\n              <Input\r\n                placeholder=\"请输入新密码\"\r\n                type=\"password\"\r\n              />\r\n            </FormItem>\r\n            <FormItem {...formItemLayout} label=\"确认新密码\">\r\n              <Input\r\n                placeholder=\"请再次输入新密码\"\r\n                type=\"password\"\r\n              />\r\n            </FormItem>\r\n            <FormItem {...tailFormItemLayout}>\r\n              <Button type=\"primary\">提交</Button>\r\n            </FormItem>\r\n          </Form>\r\n        </Modal>\r\n\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst MyLayout = Form.create()(MyLayoutForm);\r\n\r\nexport default withRouter(MyLayout) \r\n","import React, { Component } from 'react';\r\nimport MyLayout from './common/layout.js'\r\nimport routes from '../routes/index'\r\nimport lockImg from '../assets/images/cc-lock.png'\r\nimport {filterMenu} from '../utils/index'\r\nclass Index extends Component {\r\n  state = {\r\n    accessRouter:[]\r\n  }\r\n  componentWillMount(){\r\n    let accessRouter = filterMenu(routes)\r\n    this.setState({accessRouter})\r\n  }\r\n  render() {\r\n    let {accessRouter} = this.state\r\n    let pathname,Content;\r\n    let matchRoutes = function(routes){\r\n      for(let i in routes){\r\n        if(routes[i].children){\r\n          matchRoutes(routes[i].children)\r\n        }\r\n        if(routes[i].path === pathname){\r\n          Content = routes[i].component\r\n        }\r\n      }\r\n    }\r\n    if(!this.props.location){\r\n      window.location.href='/rpm/#/login'\r\n      return\r\n    }\r\n    pathname = this.props.location.pathname\r\n    matchRoutes(accessRouter);\r\n    if(!Content) Content = ()=>{\r\n      return(\r\n        <div style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"400px\"}}>\r\n          <img style={{display:\"inline-block\",width:\"40px\",height:\"40px\"}} src={lockImg } alt=''/>\r\n          <span style={{fontSize:\"16px\",marginLeft:\"10px\"}}>暂无访问权限</span>\r\n        </div>\r\n      )\r\n    };\r\n    \r\n    return (\r\n      <MyLayout content={()=>(<Content />)} />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Index\r\n","import request from '../utils/request'\r\nimport { getLocal } from '../utils'\r\nconst IM_URL = '/rpmim_service'\r\n\r\n//登陆\r\nexport function login() {\r\n    let user = getLocal('user')\r\n    let userId = ''\r\n    if (user) {\r\n        userId = JSON.parse(user).userId\r\n    }\r\n    return request({\r\n        url: `${IM_URL}/im/tx_im_token`,\r\n        method: \"post\",\r\n        data: {\r\n            userId\r\n        }\r\n    })\r\n    // return new Promise((resolve, reject) => {\r\n    //     setTimeout(() => {\r\n    //         resolve({\r\n    //             data: {\r\n    //                 identifier: 'f4614ff88ff14663bbd94c6436608fac',\r\n    //                 token: 'eJxFkF1PgzAYhf8L18a19AMw8QK10elwE7cRuSFAW1JwrEKHkMX-LhIWb8-znrznnLO1Xb1fp1ornqQmQQ23bixgXU2y6LVqRJJKI5pRhoQQG4AL7UTTqmM9AhtAAm0EwD9UXNRGSTUZJaYQS*m6UkJMKcoy7uGcYkQpcGWaz55WFeNxwHb3S0Y2W5KzODxEfeGX6**geCxfqm4NPoLXUDLnyfmKn9-iTQR9xfyTIK2u2qh37zJv0YXDg5afsV*HfDmsCGOLXVMWTqT2fXV7ecarZKr9VwyPwSGiDp2hUQcxFcbQI2RMOetpnh9PtUnMoMW0088vaWZe9g__',\r\n    //             }\r\n    //         })\r\n    //     }, 1000)\r\n    // })\r\n}\r\n\r\n//更新用户消息未读数\r\nexport function updateReadTime(readIdentifier,sendIdentifier) {\r\n    return request({\r\n        url: `${IM_URL}/im/update_read_time`,\r\n        method: 'post',\r\n        data:{\r\n            readIdentifier,\r\n            sendIdentifier\r\n        }\r\n    })\r\n}\r\n\r\n//获取用户好友列表\r\nexport function getFrendList() {\r\n    let user = getLocal('user')\r\n    let userId = ''\r\n    if (user) {\r\n        userId = JSON.parse(user).userId\r\n    }\r\n    return request({\r\n        url: `/rpmrelation_service/findPatients`,\r\n        method: 'post',\r\n        data:{\r\n            doctorId:userId\r\n        }\r\n    })\r\n}\r\n\r\n//获取私聊记录\r\nexport function getC2CHistoryMsg({ identifier, endTime, count }) {\r\n    let user = getLocal('user')\r\n    let userId = ''\r\n    if (user) {\r\n        userId = JSON.parse(user).userId\r\n    }\r\n    return request({\r\n        url: `${IM_URL}/im/msg_history`,\r\n        method: 'post',\r\n        data: {\r\n            identifier,\r\n            endTime,\r\n            count,\r\n            userId\r\n        }\r\n    })\r\n}\r\n\r\n//获取最近会话记录\r\nexport function getRecentSess(identifiers) {\r\n    let user = getLocal('user')\r\n    let userId = ''\r\n    if (user) {\r\n        userId = JSON.parse(user).userId\r\n    }\r\n    return request({\r\n        url: `${IM_URL}/im/last_msg_list`,\r\n        method: 'post',\r\n        data: {\r\n            identifiers,\r\n            userId\r\n        },\r\n    })\r\n}\r\n\r\n//获取图片地址\r\nexport function getPrivateImage(token) {\r\n    return request({\r\n        url: `/rpmhealthrecord_service/file/to_protect_url`,\r\n        method: 'post',\r\n        data: {\r\n            token\r\n        },\r\n    })\r\n    // return new Promise((reslove,reject) => {\r\n    //     setTimeout(() => {\r\n    //         reslove({\r\n    //             code:200,\r\n    //             url:'http://c.hiphotos.baidu.com/image/pic/item/a5c27d1ed21b0ef4b9e8896ad3c451da81cb3e85.jpg'\r\n    //         })\r\n    //     },200)\r\n    // })\r\n}\r\n","const configs = {\r\n  'static-qa2.lifesense.com': {\r\n    imLoginInfo: {\r\n      sdkAppID: '1400013676',\r\n      appIDAt3rd: 'lxqa',\r\n      accountType: '6992',\r\n    },\r\n    imOpts: {\r\n      isAccessFormalEnv: true, // 是否访问正式环境下的后台接口，True-访问正式，False-访问测试环境默认访问正式环境接口，选填\r\n      isLogOn: false // 是否开启控制台打印日志,True-开启;False-关闭，默认开启，选填\r\n    },\r\n    socket: '//websocket-qa2.lifesense.com/websocket/connect', // socket地址\r\n    debug: (...msg) => console.log(...msg)\r\n  },\r\n  'static-qa.lifesense.com': {\r\n    imLoginInfo: {\r\n      sdkAppID: '1400013676',\r\n      appIDAt3rd: 'lxqa',\r\n      accountType: '6992',\r\n    },\r\n    imOpts: {\r\n      isAccessFormalEnv: true, // 是否访问正式环境下的后台接口，True-访问正式，False-访问测试环境默认访问正式环境接口，选填\r\n      isLogOn: false // 是否开启控制台打印日志,True-开启;False-关闭，默认开启，选填\r\n    },\r\n    socket: '//websocket-qa.lifesense.com/websocket/connect', // socket地址\r\n    debug: (...msg) => console.log(...msg)\r\n  },\r\n  'health-qa.lifesense.com': {\r\n    imLoginInfo: {\r\n      sdkAppID: '1400013676',\r\n      appIDAt3rd: 'lxqa',\r\n      accountType: '6992',\r\n    },\r\n    imOpts: {\r\n      isAccessFormalEnv: true, // 是否访问正式环境下的后台接口，True-访问正式，False-访问测试环境默认访问正式环境接口，选填\r\n      isLogOn: false // 是否开启控制台打印日志,True-开启;False-关闭，默认开启，选填\r\n    },\r\n    socket: '//websocket-qa.lifesense.com/websocket/connect', // socket地址\r\n    debug: (...msg) => console.log(...msg)\r\n  },\r\n  'health-qa2.lifesense.com': {\r\n    imLoginInfo: {\r\n      sdkAppID: '1400013676',\r\n      appIDAt3rd: 'lxqa',\r\n      accountType: '6992',\r\n    },\r\n    imOpts: {\r\n      isAccessFormalEnv: true, // 是否访问正式环境下的后台接口，True-访问正式，False-访问测试环境默认访问正式环境接口，选填\r\n      isLogOn: false // 是否开启控制台打印日志,True-开启;False-关闭，默认开启，选填\r\n    },\r\n    socket: '//websocket-qa2.lifesense.com/websocket/connect', // socket地址\r\n    debug: (...msg) => console.log(...msg)\r\n  },\r\n  'ehealth.lifesense.com': {\r\n    imLoginInfo: {\r\n      sdkAppID: '1400014768',\r\n      appIDAt3rd: 'lifesense',\r\n      accountType: '7487',\r\n    },\r\n    imOpts: {\r\n      isAccessFormalEnv: true, // 是否访问正式环境下的后台接口，True-访问正式，False-访问测试环境默认访问正式环境接口，选填\r\n      isLogOn: false // 是否开启控制台打印日志,True-开启;False-关闭，默认开启，选填\r\n    },\r\n    socket: '//websocket.lifesense.com/websocket/connect', // socket地址\r\n    debug: () => {\r\n    }\r\n  },\r\n  'cdn.lifesense.com': {\r\n    imLoginInfo: {\r\n      sdkAppID: '1400014768',\r\n      appIDAt3rd: 'lifesense',\r\n      accountType: '7487',\r\n    },\r\n    imOpts: {\r\n      isAccessFormalEnv: true, // 是否访问正式环境下的后台接口，True-访问正式，False-访问测试环境默认访问正式环境接口，选填\r\n      isLogOn: false // 是否开启控制台打印日志,True-开启;False-关闭，默认开启，选填\r\n    },\r\n    socket: '//websocket.lifesense.com/websocket/connect', // socket地址\r\n    debug: () => {\r\n    }\r\n  },\r\n  'edoctor.lifesense.com': {\r\n    imLoginInfo: {\r\n      sdkAppID: '1400014768',\r\n      appIDAt3rd: 'lifesense',\r\n      accountType: '7487',\r\n    },\r\n    imOpts: {\r\n      isAccessFormalEnv: true, // 是否访问正式环境下的后台接口，True-访问正式，False-访问测试环境默认访问正式环境接口，选填\r\n      isLogOn: false // 是否开启控制台打印日志,True-开启;False-关闭，默认开启，选填\r\n    },\r\n    socket: '//websocket.lifesense.com/websocket/connect', // socket地址\r\n    debug: () => {\r\n    }\r\n  },\r\n  def: {\r\n    // imLoginInfo: {\r\n    //   sdkAppID: '1400013334',\r\n    //   appIDAt3rd: 'lxdev',\r\n    //   accountType: '6871',\r\n    // },\r\n    // imOpts: {\r\n    //   isAccessFormalEnv: true, // 是否访问正式环境下的后台接口，True-访问正式，False-访问测试环境默认访问正式环境接口，选填\r\n    //   isLogOn: false // 是否开启控制台打印日志,True-开启;False-关闭，默认开启，选填\r\n    // },\r\n    imLoginInfo: {\r\n      sdkAppID: '1400014768',\r\n      appIDAt3rd: 'lifesense',\r\n      accountType: '7487',\r\n    },\r\n    imOpts: {\r\n      isAccessFormalEnv: true, // 是否访问正式环境下的后台接口，True-访问正式，False-访问测试环境默认访问正式环境接口，选填\r\n      isLogOn: false // 是否开启控制台打印日志,True-开启;False-关闭，默认开启，选填\r\n    },\r\n    socket: '//sports-dev.lifesense.com/websocket/connect', // socket地址\r\n    debug: (...msg) => console.log(...msg)\r\n  }\r\n}\r\n\r\nexport default configs[window.location.hostname] || configs.def\r\n","export default {\r\n    user: null,\r\n    imInfo: {\r\n        config: {\r\n        },//im相关配置信息以及用户信息\r\n        selType:window.webim.SESSION_TYPE.C2C,//类型 私聊/群聊\r\n        selToId: '',//当前会话的用户\r\n        friendList: {},//好友列表 {id:{}}\r\n        recentSess: [],//最近会话列表\r\n        historyMsg: null//历史纪录 {id:{}}\r\n    }\r\n}","import { combineReducers } from 'redux'\r\nimport imInfo from './im'\r\nimport user from './user'\r\nimport menu from './menu'\r\n\r\nexport default combineReducers({\r\n  imInfo,\r\n  menu,\r\n  user\r\n})","\r\nimport myState from '../state'\r\nexport default function imInfo(state = {}, action) {\r\n    switch (action.type) {\r\n        case 'RESET':\r\n            return myState.imInfo\r\n        case 'LOGIN':\r\n            return Object.assign({}, state, { config: action.payload.imConfig })\r\n        case 'RECENTSESS':\r\n            return Object.assign({}, state, { recentSess: action.payload.data })\r\n        case 'UPDATE_RECENTSESS':\r\n            let recentSess = state.recentSess\r\n            recentSess.splice(action.payload.index, 1, action.payload.data)\r\n            return Object.assign({}, state, { recentSess })\r\n        case 'SELTOID':\r\n            return Object.assign({}, state, { selToId: action.payload.selToId })\r\n        case 'HISTORY_MSG':\r\n            return Object.assign({}, state, { historyMsg: action.payload.data })\r\n        case 'FRIENDLIST':\r\n            return Object.assign({}, state, { friendList: action.payload.data })\r\n        case 'NEWMSG':\r\n            // let friendList = action.payload.friendList || state.friendList\r\n            // let historyMsg = action.payload.historyMsg || state.historyMsg\r\n            // let recentSess = action.payload.recentSess || state.recentSess\r\n            return Object.assign({}, state, { ...action.payload })\r\n        case 'LOADMESS':\r\n            let friendList = action.payload.friendList || state.friendList\r\n            let historyMsg = action.payload.historyMsg || state.historyMsg\r\n            // let recentSess = action.payload.recentSess || state.recentSess\r\n            return Object.assign({}, state, { historyMsg, friendList })\r\n        case 'SETIMSTATE':\r\n            if (action.payload.type == 1) {\r\n                return { ...state }\r\n            } else {\r\n                return { ...state, ...action.payload.data }\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n","export default function menu(state={},action){\r\n    switch(action.type){\r\n        case \"CHANGE_MENU\":\r\n            state.key = action.payload.pathname\r\n            return state\r\n        default:\r\n            return state\r\n    }\r\n}","export default function text(state = '', action) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            return action.payload.data\r\n        default:\r\n            return state\r\n    }\r\n}","import { createStore, applyMiddleware } from 'redux'\r\nimport state from './state'\r\nimport reducer from './reducer'\r\nimport thunk from 'redux-thunk';\r\n\r\nconst store = createStore(reducer, state, applyMiddleware(thunk))\r\n\r\nexport default store","import { login, getFrendList, getRecentSess, getC2CHistoryMsg, getPrivateImage,updateReadTime } from '../../apis/im'\r\nimport config from '../../configs/im'\r\nimport { getLocal, randomWord } from '../../utils/index'\r\nimport store from '../store';\r\nlet timer = null;\r\nlet updateUnReadTimer = null;\r\n/**\r\n* im登陆\r\n* @param imConfig {im登陆所需信息}\r\n*/\r\nconst webImLogin = (imConfig) => {\r\n\r\n}\r\n//建立链接\r\nconst onConnNotify = (resp) => {\r\n    let info;\r\n    switch (resp.ErrorCode) {\r\n        case window.webim.CONNECTION_STATUS.ON:\r\n            window.webim.Log.warn('建立连接成功: ' + resp.ErrorInfo);\r\n            break;\r\n        case window.CONNECTION_STATUS.OFF:\r\n            info = '连接已断开，无法收到新消息，请检查下您的网络是否正常: ' + resp.ErrorInfo;\r\n            window.webim.Log.warn(info);\r\n            break;\r\n        case window.webim.CONNECTION_STATUS.RECONNECT:\r\n            info = '连接状态恢复正常: ' + resp.ErrorInfo;\r\n            window.webim.Log.warn(info);\r\n            break;\r\n        default:\r\n            window.webim.Log.error('未知连接状态: =' + resp.ErrorInfo);\r\n            break;\r\n    }\r\n};\r\n//设置 jsonp 返回的\r\nconst jsonpCallback = (rspData) => {\r\n    window.webim.setJsonpLastRspData(rspData);\r\n}\r\n\r\n/**\r\n* 监听新消息事件\r\n* @param {为新消息数组，结构为[Msg]} newMsgList \r\n*/\r\nconst onMsgNotify = (dispatch, newMsgList) => {\r\n    let {\r\n        selToId,\r\n        recentSess,\r\n        historyMsg,\r\n        config,\r\n        friendList\r\n    } = store.getState().imInfo\r\n    for (let j in newMsgList) { //遍历新消息\r\n        let newMsg = newMsgList[j];\r\n        console.log(newMsg);\r\n        let { time, seq, random, elems, fromAccount, fromAccountHeadurl, fromAccountNick } = newMsg;\r\n        let imState = {};\r\n        if (!friendList[fromAccount]) {\r\n            friendList[fromAccount] = {\r\n                name: fromAccountNick,\r\n                headUrl: fromAccountHeadurl,\r\n            }\r\n        }\r\n\r\n        if (!findIdFromSess(recentSess, fromAccount)) { //会话列表中无此人\r\n            recentSess = [{\r\n                identifier: fromAccount,\r\n                unReadCount: 1,\r\n                msgDetail: {\r\n                    CreateTime: time * 1000,\r\n                    callbackCommand: \"C2C.CallbackBeforeSendMsg\",\r\n                    msgId: random,\r\n                    fromAccount,\r\n                    toAccount: config.imLoginInfo.identifier,\r\n                    MsgBody: [\r\n                        {\r\n                            MsgType: elems[0].type,\r\n                            MsgContent: convertMsgConten(elems[0])\r\n                        }\r\n                    ]\r\n                }\r\n            }].concat(recentSess)\r\n\r\n            imState.recentSess = recentSess\r\n\r\n            friendList[fromAccount].unReadCount = friendList[fromAccount].unReadCount ? (friendList[fromAccount].unReadCount + 1) : 1\r\n\r\n        } else {//会话列表中有此人\r\n            \r\n            //更新会话列表\r\n            imState.recentSess = upDateRecentSess(fromAccount, newMsg)\r\n\r\n            //添加历史数据\r\n            if (historyMsg && historyMsg[fromAccount]) {//已经加载过历史纪录\r\n                imState.historyMsg = addMsg(newMsg);\r\n            } else {\r\n                friendList[fromAccount].unReadCount = friendList[fromAccount].unReadCount ? (friendList[fromAccount].unReadCount + 1) : 1\r\n            }\r\n\r\n            if (fromAccount == selToId) {\r\n                // let selSess = newMsg.getSession();\r\n                //消息已读上报，并将当前会话的消息设置成自动已读\r\n                // window.webim.setAutoRead(selSess, true, true);\r\n                clearTimeout(updateUnReadTimer)\r\n                updateUnReadTimer = setTimeout(() => {\r\n                    updateReadTime(config.imLoginInfo.identifier, selToId)\r\n                },1000)\r\n                \r\n            }\r\n        }\r\n\r\n        imState.friendList = friendList\r\n\r\n        dispatch({\r\n            type: 'SETIMSTATE',\r\n            payload: {\r\n                data: imState\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n/**\r\n* 更新会话列表\r\n* @param msgElem identifier(发送者ID),newMsg（新消息实体）\r\n*/\r\nconst upDateRecentSess = (identifier, newMsg) => {\r\n    let {\r\n        selToId\r\n    } = store.getState().imInfo\r\n    let { time, random, elems } = newMsg;\r\n    let { recentSess } = store.getState().imInfo\r\n    if (!findMsgFromHistory(identifier, random)) {\r\n        let topIndex = 0;\r\n        recentSess.map((item, index) => {\r\n            if (item.identifier == identifier) {\r\n                topIndex = index;\r\n                if (identifier != selToId) {\r\n                    //如果非当前的聊天好友 则未读消息+1 \r\n                    item.unReadCount += 1;\r\n                }\r\n                item.msgDetail = Object.assign({}, item.msgDetail, {\r\n                    CreateTime: time * 1000,\r\n                    // msgId: seq,\r\n                    msgId: random,\r\n                    MsgBody: [\r\n                        {\r\n                            MsgType: elems[0].type,\r\n                            MsgContent: convertMsgConten(elems[0])\r\n                        }\r\n                    ]\r\n                })\r\n            }\r\n            return item;\r\n        })\r\n        if (topIndex) {\r\n            let topItem = recentSess.splice(topIndex, 1);\r\n            recentSess = topItem.concat(recentSess);\r\n        }\r\n    }\r\n    return recentSess\r\n}\r\n\r\nconst turnImage = (token, msg) => {\r\n    getPrivateImage(token).then(res => {\r\n        let url = msg.url;\r\n    })\r\n}\r\n\r\nconst getMsgType = (elem) => {\r\n    if (elem.type == window.webim.MSG_ELEMENT_TYPE.CUSTOM) {\r\n        if (elem.content.data) {\r\n            let data = JSON.parse(elem.content.data);\r\n            if (data.type == 4 || data.type == 5) {\r\n                return window.webim.MSG_ELEMENT_TYPE.IMAGE\r\n            }\r\n        }\r\n    }\r\n    return elem.type;\r\n}\r\n\r\n/**\r\n* 监听到消息后 增加一条新消息\r\n* @param msgElem msg新消息实体\r\n*/\r\nconst addMsg = (msg) => {\r\n    let { time, random, elems, fromAccount } = msg;\r\n    let {\r\n        historyMsg,\r\n        config,\r\n        selToId\r\n    } = store.getState().imInfo;\r\n    if (!findMsgFromHistory(fromAccount, random)) {\r\n        let new_msg = [{\r\n            CreateTime: time * 1000,\r\n            CallbackCommand: \"C2C.CallbackAfterSendMsg\",\r\n            msgId: random,\r\n            // msgUniqueId: random,\r\n            From_Account: fromAccount,\r\n            To_Account: config.imLoginInfo.identifier,\r\n            MsgBody: [\r\n                {\r\n                    MsgType: getMsgType(elems[0]),\r\n                    MsgContent: convertMsgConten(elems[0])\r\n                }\r\n            ]\r\n        }]\r\n\r\n        let latestTime = historyMsg[fromAccount][historyMsg[fromAccount].length - 1].CreateTime;\r\n        let diffTime = time * 1000 - latestTime;\r\n        if (diffTime > 60000) {\r\n            new_msg[0].showTime = true;\r\n        }\r\n        historyMsg[fromAccount] = historyMsg[fromAccount].concat(new_msg)\r\n\r\n        if (selToId == fromAccount) {\r\n            clearTimeout(timer)\r\n            timer = setTimeout(() => {\r\n                let message_list_el = document.getElementById('message');\r\n                if (message_list_el) {\r\n                    message_list_el.scrollTop = message_list_el.scrollHeight - message_list_el.clientHeight;\r\n                }\r\n            }, 100)\r\n        }\r\n\r\n    }\r\n    return historyMsg\r\n}\r\n\r\n/**\r\n* 发送文本/表情消息\r\n* @param data 消息内容\r\n*/\r\nconst sendCommonMsg = (data) => {\r\n    let { value } = data;\r\n    let text = value;\r\n    let {\r\n        selType,\r\n        selToId,\r\n        config,\r\n    } = store.getState().imInfo;\r\n    let user = JSON.parse(getLocal('user'))\r\n    let {\r\n        headUrl,\r\n        name\r\n    } = store.getState().imInfo.friendList[store.getState().imInfo.selToId]\r\n    let selSess = new window.webim.Session(selType, selToId, name, headUrl, Math.round(new Date().getTime() / 1000));\r\n    let isSend = true; //是否为自己发送\r\n    let seq = -1; //消息序列，-1表示sdk自动生成，用于去重\r\n    let random = Math.round(Math.random() * 4294967296); //消息随机数，用于去重\r\n    let msgTime = Math.round(new Date().getTime() / 1000); //消息时间戳\r\n    let subType = window.webim.C2C_MSG_SUB_TYPE.COMMON; //消息子类型\r\n    if (selType == window.webim.SESSION_TYPE.C2C) {\r\n        subType = window.webim.C2C_MSG_SUB_TYPE.COMMON;\r\n    } else {\r\n        subType = window.webim.GROUP_MSG_SUB_TYPE.COMMON;\r\n    }\r\n    let msg = new window.webim.Msg(selSess, isSend, seq, random, msgTime, config.imLoginInfo.identifier, subType, user.realName);\r\n    let text_obj, face_obj, tmsg, emotionIndex, emotion, restMsgIndex;\r\n    //解析文本和表情\r\n    let expr = /\\[[^[\\]]{1,3}\\]/mg;\r\n    let emotions = text.match(expr);\r\n    if (!emotions || emotions.length < 1) {\r\n        text_obj = new window.webim.Msg.Elem.Text(text);\r\n        msg.addText(text_obj);\r\n    } else {\r\n        for (let i = 0; i < emotions.length; i++) {\r\n            tmsg = text.substring(0, text.indexOf(emotions[i]));\r\n            if (tmsg) {\r\n                text_obj = new window.webim.Msg.Elem.Text(tmsg);\r\n                msg.addText(text_obj);\r\n            }\r\n            emotionIndex = window.webim.EmotionDataIndexs[emotions[i]];\r\n            emotion = window.webim.Emotions[emotionIndex];\r\n\r\n            if (emotion) {\r\n                face_obj = new window.webim.Msg.Elem.Face(emotionIndex, emotions[i]);\r\n                msg.addFace(face_obj);\r\n            } else {\r\n                text_obj = new window.webim.Msg.Elem.Text(emotions[i]);\r\n                msg.addText(text_obj);\r\n            }\r\n            restMsgIndex = text.indexOf(emotions[i]) + emotions[i].length;\r\n            text = text.substring(restMsgIndex);\r\n        }\r\n        if (text) {\r\n            text_obj = new window.webim.Msg.Elem.Text(text);\r\n            msg.addText(text_obj);\r\n        }\r\n    }\r\n\r\n    msg.PushInfo = {\r\n        \"PushFlag\": 0,\r\n        \"Desc\": '', //离线推送内容\r\n        \"Ext\": '', //离线推送透传内容\r\n        \"AndroidInfo\": {\r\n            \"Sound\": \"\" //离线推送声音文件路径。\r\n        },\r\n        \"ApnsInfo\": {\r\n            \"Sound\": \"\", //离线推送声音文件路径。\r\n            \"BadgeMode\": 1\r\n        }\r\n    };\r\n\r\n    msg.PushInfoBoolean = true; //是否开启离线推送push同步\r\n    msg.sending = 1;\r\n    msg.originContent = text;\r\n\r\n    sendMsg(msg, 1, data)\r\n}\r\n/**\r\n* 发送自定义消息\r\n* @param data 消息内容\r\n*/\r\nconst sendCustomMsg = (data, desc = '', ext = '') => {\r\n    let {\r\n        selType,\r\n        selToId,\r\n        config,\r\n    } = store.getState().imInfo;\r\n    let user = JSON.parse(getLocal('user'))\r\n    let {\r\n        headUrl,\r\n        name\r\n    } = store.getState().imInfo.friendList[store.getState().imInfo.selToId]\r\n\r\n    let selSess = new window.webim.Session(selType, selToId, name, headUrl, Math.round(new Date().getTime() / 1000));\r\n    var msg = new window.webim.Msg(selSess, true, -1, -1, -1, config.imLoginInfo.identifier, 0, user.realName);\r\n    var custom_obj = new window.webim.Msg.Elem.Custom(data.value, desc, ext);\r\n    msg.addCustom(custom_obj);\r\n    //调用发送消息接口\r\n    msg.sending = 1;\r\n    sendMsg(msg, 3, data)\r\n\r\n}\r\n\r\n/**\r\n* 发送消息\r\n* @param\r\n*/\r\nconst sendMsg = (msg, type, data) => {\r\n    let { random } = msg\r\n    let { value, reSend, msgId } = data;\r\n    let {\r\n        selToId,\r\n        config,\r\n        historyMsg,\r\n        friendList,\r\n        recentSess\r\n    } = store.getState().imInfo;\r\n    let new_historyMsg = historyMsg;\r\n    let newMess = {\r\n        CreateTime: msg.time * 1000,\r\n        CallbackCommand: \"C2C.CallbackBeforeSendMsg\",\r\n        msgId: random,\r\n        From_Account: config.imLoginInfo.identifier,\r\n        To_Account: selToId,\r\n        MsgBody: [\r\n            {\r\n                MsgContent: convertMsgConten(msg.elems[0]),\r\n                MsgType: filterMsgType(type)\r\n            }\r\n        ]\r\n    }\r\n    let resendItemIndex = 0;\r\n\r\n    let latestTime = historyMsg[selToId].length > 0 ? historyMsg[selToId][historyMsg[selToId].length - 1].CreateTime : 0;\r\n    let diffTime = newMess.CreateTime - latestTime;\r\n    if (diffTime > 60000) {\r\n        newMess.showTime = true;\r\n    }\r\n\r\n    if (reSend) {\r\n        historyMsg[selToId].map((item, index) => {\r\n            if (item.msgId == msgId) {\r\n                resendItemIndex = index;\r\n            }\r\n            return item;\r\n        })\r\n        historyMsg[selToId].splice(resendItemIndex, 1)\r\n    }\r\n\r\n    historyMsg[selToId] = historyMsg[selToId].concat([newMess])\r\n    // friendList[selToId].msgIdMap[random] = true;\r\n    friendList[selToId].scrollTop = undefined\r\n    let topIndex = 0;\r\n    recentSess.map((item, index) => {\r\n        if (item.identifier == selToId) {\r\n            topIndex = index;\r\n            item.msgDetail = newMess\r\n        }\r\n        return item;\r\n    })\r\n\r\n    if (topIndex) {\r\n        let topItem = recentSess.splice(topIndex, 1);\r\n        recentSess = topItem.concat(recentSess);\r\n    }\r\n\r\n    store.dispatch({\r\n        type: 'SETIMSTATE',\r\n        payload: {\r\n            data:{\r\n                historyMsg,\r\n                recentSess,\r\n                friendList\r\n            }\r\n        }\r\n    })\r\n\r\n    window.webim.sendMsg(msg, function (resp) {\r\n    }, function (err) {\r\n        newMess.reSend = true\r\n        //更新历史消息\r\n        store.dispatch({\r\n            type: 'HISTORY_MSG',\r\n            payload: {\r\n                data: new_historyMsg\r\n            }\r\n        })\r\n    });\r\n}\r\n\r\n/**\r\n* 转换消息类型\r\n* @param type 消息类型\r\n*/\r\nconst filterMsgType = (type) => {\r\n    switch (type) {\r\n        case 1:\r\n            return \"TIMTextElem\"\r\n        case 2:\r\n            return \"TIMImageElem\"\r\n        case 3:\r\n            return \"TIMCustomElem\"\r\n    }\r\n}\r\n\r\n/**\r\n* 查找会话列表中是否有某个好友\r\n* @param recentSess(会话列表)  id(发送者id)\r\n*/\r\nconst findIdFromSess = (recentSess, id) => {\r\n    let flag = false;\r\n    recentSess.map(item => {\r\n        if (item.identifier == id) {\r\n            flag = true;\r\n        }\r\n    })\r\n    return flag\r\n}\r\n\r\nconst findMsgFromHistory = (identifier, msgId) => {\r\n    let flag = false;\r\n    let index = -1;\r\n    let { historyMsg } = store.getState().imInfo;\r\n    if (historyMsg && historyMsg[identifier]) {\r\n        index = historyMsg[identifier].findIndex(item => item.msgId == msgId)\r\n    }\r\n\r\n    if (index >= 0) {\r\n        flag = true;\r\n    }\r\n    return flag;\r\n}\r\n\r\n/**\r\n* 过滤消息\r\n* @param msgElem 消息实体\r\n*/\r\nconst convertMsgConten = (msgElem) => {\r\n    switch (msgElem.type) {\r\n        case window.webim.MSG_ELEMENT_TYPE.TEXT:\r\n            return {\r\n                Text: msgElem.content.text\r\n            }\r\n            break;\r\n        case window.webim.MSG_ELEMENT_TYPE.IMAGE:\r\n            return {\r\n                UUID: msgElem.content.UUID,\r\n                ImageFormat: 255,\r\n                ImageInfoArray: msgElem.content.ImageInfoArray\r\n            }\r\n            break;\r\n        case window.webim.MSG_ELEMENT_TYPE.CUSTOM:\r\n            let data = {};\r\n            if (msgElem.content.data) {\r\n                data = JSON.parse(msgElem.content.data);\r\n            }\r\n            if (data.type == 4 || data.type == 5) {\r\n                let imageUrl = data.data.imageUrl;\r\n                if (imageUrl.lastIndexOf('http') != 0) {\r\n                    imageUrl = ''\r\n                }\r\n                return {\r\n                    UUID: randomWord(),\r\n                    ImageFormat: 255,\r\n                    ImageInfoArray: [{ Type: 1, URL: imageUrl }, { Type: 2, URL: imageUrl }, { Type: 3, URL: imageUrl }]\r\n                }\r\n            } else {\r\n                let Desc = '';\r\n                if (data.type == 1) {\r\n                    Desc = '[随访计划]'\r\n                } else if (data.type == 2) {\r\n                    Desc = '[患教内容]'\r\n                } else if (data.type == 3) {\r\n                    Desc = '[测量计划]'\r\n                }\r\n                return {\r\n                    Data: msgElem.content.data,\r\n                    Desc\r\n                }\r\n            }\r\n            break;\r\n        default:\r\n            return {}\r\n    }\r\n}\r\n\r\nexport default {\r\n    //im 登陆\r\n    imLogin(callback) {\r\n        return dispatch => {\r\n            let imConfig = {\r\n                imLoginInfo: config.imLoginInfo,\r\n                imOpts: config.imOpts,\r\n            }\r\n            // let imUserInfo = getLocal('imUserInfo');\r\n\r\n            // if (imUserInfo) {\r\n            //     imConfig.imLoginInfo = {\r\n            //         ...imConfig.imLoginInfo,\r\n            //         ...JSON.parse(imUserInfo)\r\n            //     }\r\n            //     return webImLogin(imConfig)\r\n            // } else {\r\n            return login().then(res => {\r\n                imConfig.imLoginInfo = {\r\n                    ...imConfig.imLoginInfo,\r\n                    identifier: res.data.identifier,\r\n                    userSig: res.data.token\r\n                }\r\n\r\n\r\n                // setLocal('imUserInfo', JSON.stringify(imUserInfo))\r\n                //im 登录\r\n\r\n                window.webim.login(imConfig.imLoginInfo,\r\n                    {\r\n                        onConnNotify,\r\n                        jsonpCallback,\r\n                        onMsgNotify: (newMsgList) => {\r\n                            onMsgNotify(dispatch, newMsgList)\r\n                        }\r\n                    },\r\n                    imConfig.imOpts,\r\n                    res => {//登录成回调\r\n                        imConfig.imLoginInfo.headurl = res.headUrl;\r\n                        imConfig.imLoginInfo.identifierNick = res.identifierNick;\r\n                        dispatch({\r\n                            type: 'LOGIN',\r\n                            payload: {\r\n                                imConfig\r\n                            }\r\n                        })\r\n                        callback && callback(imConfig)\r\n                    },\r\n                    err => {\r\n                    }//登录失败回调\r\n                )\r\n\r\n            })\r\n            // }\r\n\r\n        }\r\n    },\r\n    setFriendList(data) {\r\n        return {\r\n            type: 'FRIENDLIST',\r\n            payload: {\r\n                data\r\n            }\r\n        }\r\n    },\r\n    initRecentContactList(selToId) {\r\n        return (dispatch,getState) => {\r\n            return getFrendList().then(res => {\r\n                let userList = res.data.patients || [];\r\n                const identifiers = [];\r\n                let friendList = getState().imInfo.friendList;\r\n                userList.map(item => {\r\n                    if (item) {\r\n                        if(!friendList[item.id]){\r\n                            friendList[item.id] = {}\r\n                        }\r\n                        friendList[item.id] = Object.assign({},friendList[item.id],{\r\n                            name: item.nickName || item.realName || item.userName,\r\n                            headUrl: item.headImg,\r\n                            unReadCount: 0,\r\n                        })\r\n                        identifiers.push(item.id)\r\n                    }\r\n                })\r\n\r\n                getRecentSess(identifiers).then(res => {\r\n                    let topIndex = 0;\r\n                    let recentSess = res.data && res.data.msgList ? res.data.msgList : [];\r\n                    let new_recentSess = recentSess.map((item, index) => {\r\n                        friendList[item.identifier].unReadCount = item.unReadCount\r\n                        if (item.identifier == selToId) {\r\n                            item.unReadCount = 0;\r\n                            topIndex = index;\r\n                        }\r\n                        if (item.msgDetail && item.msgDetail.MsgBody[0].MsgType == 'TIMCustomElem') {\r\n                            if (item.msgDetail.MsgBody[0].MsgContent.Data) {\r\n                                let custom_data = JSON.parse(item.msgDetail.MsgBody[0].MsgContent.Data);\r\n                                if (custom_data.type == 1) {\r\n                                    item.msgDetail.MsgBody[0].MsgContent.Desc = '[随访计划]'\r\n                                } else if (custom_data.type == 2) {\r\n                                    item.msgDetail.MsgBody[0].MsgContent.Desc = '[患教内容]'\r\n                                } else if (custom_data.type == 3) {\r\n                                    item.msgDetail.MsgBody[0].MsgContent.Desc = '[测量计划]'\r\n                                }\r\n                            }\r\n                        }\r\n                        return item;\r\n                    })\r\n\r\n                    new_recentSess = new_recentSess.sort((a, b) => {\r\n                        let aCreateTime = a.msgDetail ? a.msgDetail.CreateTime : 0\r\n                        let bCreateTime = b.msgDetail ? b.msgDetail.CreateTime : 0\r\n                        return bCreateTime - aCreateTime\r\n                    })\r\n\r\n                    if (selToId && topIndex != 0) {\r\n                        let topItem = recentSess.splice(topIndex, 1);\r\n                        recentSess = topItem.concat(recentSess);\r\n                    }\r\n\r\n                    dispatch({\r\n                        type: 'SETIMSTATE',\r\n                        payload: {\r\n                            data: {\r\n                                friendList,\r\n                                recentSess: new_recentSess\r\n                            }\r\n                        }\r\n                    })\r\n\r\n                })\r\n            })\r\n        }\r\n    },\r\n    setRecentSess(recentSess) {\r\n        return {\r\n            type: 'RECENTSESS',\r\n            payload: {\r\n                data: recentSess\r\n            }\r\n        }\r\n    },\r\n    setSelToId(selToId) {\r\n        return {\r\n            type: 'SELTOID',\r\n            payload: {\r\n                selToId\r\n            }\r\n        }\r\n    },\r\n    loadMess({ identifier, endTime = '', count = 10, type, unReadCount }, callback) {\r\n        return (dispatch, getState) => {\r\n            if((unReadCount-10)>10){\r\n                count = unReadCount-10\r\n            }\r\n            getC2CHistoryMsg({\r\n                identifier,\r\n                endTime,\r\n                count\r\n            }).then(res => {\r\n                let data = res.data.msgList || [];\r\n                let { historyMsg, friendList, recentSess } = getState().imInfo;\r\n                if (!historyMsg) {\r\n                    historyMsg = {}\r\n                }\r\n                if (!historyMsg[identifier]) {\r\n                    historyMsg[identifier] = [];\r\n                }\r\n                if (!friendList[identifier]) {\r\n                    friendList[identifier] = {}\r\n                }\r\n\r\n                if (data.length != 0 && !data.endFlag) {\r\n                    friendList[identifier].hasMoreHistory = true\r\n                } else {\r\n                    friendList[identifier].hasMoreHistory = false\r\n                }\r\n\r\n                if (type == 1) {\r\n                    friendList[identifier].unReadCount = 0;\r\n                }\r\n\r\n                let obj = {}\r\n                data = data.filter(item => {\r\n                    if (obj[item.msgId]) {\r\n                        return false;\r\n                    }\r\n                    obj[item.msgId] = true;\r\n                    return true\r\n                })\r\n\r\n                let imageArr = [];\r\n                data.map((item, index) => {\r\n                    let content = item.MsgBody[0];\r\n                    if (content.MsgType == 'TIMCustomElem') {\r\n                        if (content.MsgContent.Data) {\r\n                            let custom_data = JSON.parse(content.MsgContent.Data)\r\n                            if (custom_data.type == 4 || custom_data.type == 5) {\r\n                                let UUID = randomWord()\r\n                                let imageUrl = custom_data.data.imageUrl;\r\n                                if (imageUrl.lastIndexOf('http') != 0) {\r\n                                    imageUrl = ''\r\n                                }\r\n                                item.MsgBody = [\r\n                                    {\r\n                                        MsgType: 'TIMImageElem',\r\n                                        MsgContent: {\r\n                                            UUID,\r\n                                            ImageFormat: 255,\r\n                                            ImageInfoArray: [{ Type: 1, URL: imageUrl }, { Type: 2, URL: imageUrl }, { Type: 3, URL: imageUrl }]\r\n                                        }\r\n                                    }\r\n                                ]\r\n                                // if (custom_data.type == 5) {\r\n                                //     let promise = new Promise((resolve, reject) => {\r\n                                //         let token = custom_data.data.imageToken || custom_data.data.imageUrl;\r\n                                //         // if(token){\r\n                                //             getPrivateImage(token).then(res => {\r\n                                //                 res.data.msgId = item.msgId\r\n                                //                 resolve(res)\r\n                                //             }).catch(e => {\r\n                                //                 reject(e)\r\n                                //             })\r\n                                //         // }\r\n                                //     })\r\n\r\n                                //     imageArr.push(promise)\r\n                                // }\r\n                            }\r\n                        }\r\n                    } else if (content.MsgType == 'TIMImageElem') {\r\n                        // let obj_img_token = {};\r\n                        // let UUID = content.MsgContent.UUID;\r\n                        // content.MsgContent.ImageInfoArray.map((_item, index) => {\r\n                        //     let url = _item.URL || _item.url;\r\n                        //     if (url.indexOf('http') != 0 && !obj_img_token[url]) {\r\n                        //         obj_img_token[url] = true;\r\n                        //         // if(index!=1){\r\n                        //         // getPrivateImage(url).then(res => {\r\n                        //         // document.getElementById(UUID).src = res.data.url\r\n                        //         // resetHistoryImage(identifier, item.msgId, index, res.data.url)\r\n                        //         // })\r\n                        //         // }\r\n                        //     }\r\n                        // })\r\n                    }\r\n                    return item\r\n                })\r\n\r\n\r\n                if (type == 1 && data.length > 0) {\r\n                    let index = 0;\r\n                    if((unReadCount-10)<=10){\r\n                        index = 10 - (unReadCount-10)\r\n                    }\r\n                    data[index].unReadCountLoadDone = true;//标识以下为新消息\r\n                }\r\n\r\n                historyMsg[identifier] = data.concat(historyMsg[identifier])\r\n\r\n                let msgId = '';\r\n                let msgDetail = {};\r\n                let flag = false;\r\n\r\n                recentSess.map(item => {\r\n                    if (item.identifier == identifier && item.msgDetail) {\r\n                        msgId = item.msgDetail.msgId;\r\n                        msgDetail = item.msgDetail;\r\n                        msgDetail.From_Account = item.msgDetail.fromAccount\r\n                        msgDetail.To_Account = item.msgDetail.toAccount\r\n                    }\r\n                })\r\n\r\n                historyMsg[identifier].map(item => {\r\n                    if (item.msgId == msgId) {\r\n                        flag = true;\r\n                    }\r\n                })\r\n\r\n                if (!flag && msgDetail.From_Account) {\r\n                    historyMsg[identifier] = historyMsg[identifier].concat([msgDetail])\r\n                }\r\n\r\n                Promise.all(imageArr).then(res => {\r\n                    res.map(data => {\r\n                        let item = data.data;\r\n                        historyMsg[identifier].map(_item => {\r\n                            if (item.msgId == _item.msgId) {\r\n                                _item.MsgBody[0].MsgContent.ImageInfoArray.map(imgItem => {\r\n                                    imgItem.URL = item.url;\r\n                                    return imgItem\r\n                                })\r\n                            }\r\n                            return _item;\r\n                        })\r\n                    })\r\n                    typeof callback == 'function' && callback({ historyMsg, friendList })\r\n                })\r\n\r\n            })\r\n        }\r\n    },\r\n    sendMsg(msgType, data) {\r\n        return (dispatch, getState) => {\r\n            if (msgType == 1) {\r\n                sendCommonMsg(data)\r\n            } else if (msgType == 2) {\r\n\r\n            } else if (msgType == 3) {\r\n                sendCustomMsg(data)\r\n            }\r\n        }\r\n    },\r\n    setImState(data) {\r\n        return dispatch => {\r\n            dispatch({\r\n                type: 'SETIMSTATE',\r\n                payload: {\r\n                    data\r\n                }\r\n            })\r\n        }\r\n    },\r\n    resetImData() {\r\n        return {\r\n            type: 'RESET'\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n","import imAction from './im'\r\nimport userAction from './user'\r\nimport menuAction from './menu'\r\n\r\nexport default {\r\n    ...imAction,\r\n    ...userAction,\r\n    ...menuAction\r\n}","export default {\r\n    setUser(data) {\r\n        return {\r\n            type: 'SET_USER',\r\n            payload:{\r\n                data\r\n            }\r\n        }\r\n    }\r\n}","export default {\r\n    changeMenu(pathname) {\r\n        return {\r\n            type: \"CHANGE_MENU\",\r\n            payload: {\r\n                pathname\r\n            }\r\n        }\r\n    }\r\n}","import request from '../utils/request'\r\nconst SERVER_NAME = 'rpmsms_service'\r\n\r\n/**\r\n * 图形验证码\r\n * @param {*} mobile \r\n */\r\nconst getValidateCode = (mobile) => {\r\n    return request({\r\n        url: SERVER_NAME + \"/verify/getValidateCode?mobile=\" + mobile\r\n    })\r\n}\r\n\r\n\r\n/**\r\n * 短信验证码\r\n * @param {*} data \r\n */\r\nconst sendCode = (data) => {\r\n    return request({\r\n        url: SERVER_NAME + '/verify/send_code',\r\n        data,\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\nexport {\r\n    getValidateCode,\r\n    sendCode\r\n}","import React, { Component } from 'react';\r\nimport { Form, Icon, Input, Button, message} from 'antd';\r\nimport {login,findPassword} from '../../apis/user'\r\nimport md5 from 'md5'\r\nimport './styles/login.css'\r\nimport {setLocal, getLocal,removeLocal,countDown} from '../../utils/index'\r\nimport {isPhoneNumber} from '../../utils/validate'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport actions from '../../redux/actions'\r\nimport configs from '../../configs/index';\r\nimport uuid from 'uuid'\r\nimport {sendCode} from '../../apis/sms'\r\nimport {getMenu} from '../../apis/user'\r\nconst validateCodePath = '/rpmsms_service/verify/getValidateCode'\r\n\r\n\r\nconst FormItem = Form.Item;\r\n\r\nclass FormWrap extends Component {\r\n\r\n  state = {\r\n    loginName:'',\r\n    password:'',\r\n    passwordType:true,\r\n    errorMessage:'',\r\n    pageStep:0,\r\n    showCaptcha:false,\r\n    submitLoading:false,\r\n    mobileCodeWords:\"获取验证码\",\r\n    mobileCodeInterval:60,\r\n    sendCode:false,\r\n    codeUrl:\"\",\r\n    checkCode:\"\",\r\n    newPassword:\"\",\r\n    mobile:\"\"\r\n  }\r\n   \r\n  handleSubmit(){\r\n    let self = this;\r\n    let {loginName,password,checkCode} = this.state\r\n    if(loginName &&  password){\r\n      self.setState({submitLoading:true})\r\n      login({loginName,password:md5(password),checkCode}).then(res => {\r\n        self.setState({submitLoading:false});\r\n        self.loginSuccessHanlder(res.data)\r\n      }).catch(err => {\r\n        self.setState({errorMessage:err.msg,submitLoading:false})\r\n        if(err.code === 401){\r\n          setLocal('loginCaptcha',true)\r\n          //三次以上错误，显示图形验证码\r\n          self.handleMakeUrl()\r\n          self.setState({showCaptcha:true})\r\n        }\r\n      })\r\n    }else{\r\n      this.setState({errorMessage:'请输入帐号和密码'})\r\n    }\r\n  }\r\n\r\n  //输入框监听\r\n  handleInput(keyName,e){\r\n    this.setState({\r\n      [keyName]:e.target.value\r\n    })\r\n    if(isPhoneNumber(e.target.value)){\r\n      this.handleMakeUrl(e.target.value)\r\n    }\r\n  }\r\n\r\n  //清空输入框\r\n  handleEmpty(){\r\n    this.setState({loginName:null})\r\n  }\r\n\r\n  //显示密码\r\n  handleShowPassword(){\r\n    let {passwordType} = this.state\r\n    this.setState({passwordType:!passwordType})\r\n  }\r\n\r\n  //密码框获取焦点是校验手机号码\r\n  handleFocus(){\r\n    let {loginName} = this.state;\r\n    if(loginName && !isPhoneNumber(loginName)){\r\n      this.setState({errorMessage:'输入的手机号有误'})\r\n    }else{\r\n      this.setState({errorMessage:null})\r\n    }\r\n  }\r\n\r\n  //获取焦点，隐藏errorMessage\r\n  handleInputFocus(){\r\n    this.setState({errorMessage:null})\r\n  }\r\n\r\n  //获取短信验证码\r\n  handleGetCode(){\r\n    let {mobile,errorMessage,sendCode,code} = this.state\r\n    if(mobile && !errorMessage && !sendCode && code){\r\n      this.actionGetMobileCode({mobile,type:0,appType:1,code})\r\n    }else{\r\n      this.setState({errorMessage:\"请输入正确的手机号码和图形验证码\"})\r\n    }\r\n  }\r\n\r\n  //输入框切换\r\n  handleChangePage(pageStep){\r\n    this.setState({pageStep})\r\n  }\r\n\r\n  //修改密码提交\r\n  handleChangePassword(){\r\n    let {mobile,checkCode,newPassword} = this.state\r\n    this.actionFindPassword({mobile,checkCode,newPassword:md5(newPassword)})\r\n  }\r\n\r\n  loginSuccessHanlder = (loginData) => {\r\n    //im登陆\r\n    // setCookie('access_token',loginData.rpmAccessToken);\r\n    setLocal('user',JSON.stringify(loginData));\r\n    removeLocal('loginCaptcha');\r\n    this.props.resetImData();\r\n    this.actionGetMenu()\r\n  }\r\n\r\n  //校验手机号\r\n  handleCheckMobile(){\r\n    let {mobile} = this.state;\r\n    if(mobile && !isPhoneNumber(mobile)){\r\n      this.setState({errorMessage:'输入的手机号有误'})\r\n    }else{\r\n      this.setState({errorMessage:null})\r\n    }\r\n  }\r\n\r\n  //图像验证码\r\n  handleMakeUrl(mobile){\r\n    let baseUrl = configs.server + validateCodePath\r\n    let requestId = `${uuid.v1().replace(/-/g,'')}`\r\n    let appType = configs.appType\r\n    let codeUrl =  baseUrl + \"?mobile=\"+mobile+\"&requestId=\"+requestId+\"&appType=\"+appType\r\n    this.setState({codeUrl})\r\n  }\r\n\r\n  //更新图形验证码\r\n  handleChangeCode(name){\r\n    let {mobile,loginName} = this.state\r\n    if(name==='loginName'){\r\n      this.handleMakeUrl(loginName)\r\n    }else{\r\n      this.handleMakeUrl(mobile)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取菜单\r\n   */\r\n  async actionGetMenu(){\r\n    let getmenu = await getMenu()\r\n    let menus = getmenu.data.menus || []\r\n    let buttons = getmenu.data.buttons || []\r\n    let layoutButton = buttons.map(item=>item.buttonKey)\r\n    setLocal(\"menus\",JSON.stringify(menus))\r\n    setLocal(\"buttons\",JSON.stringify(layoutButton))\r\n    window.location.href='/rpm/#/patient'\r\n  }\r\n \r\n  /**\r\n   * 短信验证码\r\n   * @param {*} data \r\n   */\r\n  async actionGetMobileCode(data){\r\n    let self = this\r\n    let mobileCode = await sendCode(data).catch(err => message.error(err.msg))\r\n    if(mobileCode && mobileCode.code === 200){\r\n      countDown(30,(res)=>{\r\n        if(res === 0){\r\n          self.setState({\r\n            mobileCodeWords:\"获取验证码\",\r\n            sendCode:false\r\n          })\r\n          return\r\n        }\r\n        self.setState({\r\n          mobileCodeWords:res+\"s\",\r\n          sendCode:true\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 着火验证码\r\n   * @param {*} data \r\n   */\r\n  async actionFindPassword(data){\r\n    let self = this\r\n    let password = await findPassword(data).catch(err => this.setState({errorMessage:err.msg}))\r\n    if(password && password.code === 200){\r\n      self.setState({pageStep:2})\r\n      setTimeout(()=>{\r\n        self.setState({pageStep:0})\r\n      },750)\r\n    }\r\n  }\r\n    \r\n  render(){\r\n    const {loginName,password,passwordType,errorMessage,pageStep,showCaptcha,submitLoading,mobile,mobileCodeWords,codeUrl,checkCode,newPassword} = this.state;\r\n    const suffix = loginName ? <Icon type='close-circle' onClick={this.handleEmpty.bind(this)} /> : null;\r\n    const passwordSuffix = passwordType ? <Icon type='eye' onClick={this.handleShowPassword.bind(this)} /> : <Icon type='eye-invisible' onClick={this.handleShowPassword.bind(this)}/>\r\n    const showErrorMsg = errorMessage ? errorMessage : null\r\n    const captcha = () => {\r\n      if((showCaptcha || getLocal('loginCaptcha')) && codeUrl){\r\n        return(\r\n          <FormItem>\r\n            <Input \r\n              prefix={<Icon type='picture' style={{ color: 'rgba(0,0,0,.25)' }} />} \r\n              addonAfter={<img onClick={this.handleChangeCode.bind(this,'loginName')} style={{display:\"block\",height:\"30px\",borderRadius:\"5px\"}} src={codeUrl} alt=\"\"/>}\r\n              placeholder='请输入验证码' \r\n              onChange={this.handleInput.bind(this,'checkCode')}\r\n              onFocus={this.handleFocus.bind(this)}\r\n              value={checkCode}\r\n            />\r\n          </FormItem>\r\n        )\r\n      }\r\n      \r\n    }\r\n\r\n    const pageStepOne = ()=>{\r\n      return(\r\n        <div>\r\n          <div className='login-title'>国家2型糖尿病智能化管理平台</div>\r\n          <Form className='login-form'>\r\n            <FormItem>\r\n              <Input \r\n                prefix={<Icon type='user' style={{ color: 'rgba(0,0,0,.25)' }} />} \r\n                placeholder='请输入帐号' \r\n                suffix={suffix}\r\n                onChange={this.handleInput.bind(this,'loginName')}\r\n                onFocus={this.handleInputFocus.bind(this)}\r\n                value={loginName}\r\n              />\r\n            </FormItem>\r\n            <FormItem>\r\n              <Input \r\n                prefix={<Icon type='lock' style={{ color: 'rgba(0,0,0,.25)' }} />} \r\n                suffix={passwordSuffix}\r\n                type={passwordType?'password':'text'} \r\n                placeholder='请输入密码' \r\n                onChange={this.handleInput.bind(this,'password')}\r\n                onFocus={this.handleFocus.bind(this)}\r\n                value={password}\r\n              />\r\n            </FormItem>\r\n            {captcha()}\r\n            <p className='err-msg'>{showErrorMsg}</p>\r\n            <FormItem>\r\n              <Button \r\n                type='primary' \r\n                className='login-form-button'\r\n                onClick={this.handleSubmit.bind(this)}\r\n                loading={submitLoading}\r\n              >登录</Button>\r\n            </FormItem>\r\n            <div className='bottom-btn'>\r\n              <span onClick={this.handleChangePage.bind(this,1)}>忘记密码</span>\r\n              {/* <span onClick={this.handleChangePage.bind(this,1)}>注册用户</span> */}\r\n            </div>\r\n          </Form> \r\n        </div>\r\n      )\r\n    }\r\n    const pageStepTwo = () => {\r\n      return(\r\n        <div>\r\n          <div className='login-title'>忘记密码</div>\r\n          <Form className='login-form'>\r\n            <FormItem>\r\n              <Input \r\n                prefix={<Icon type='user' style={{ color: 'rgba(0,0,0,.25)' }} />} \r\n                placeholder='请输入手机号码' \r\n                suffix={suffix}\r\n                onChange={this.handleInput.bind(this,'mobile')}\r\n                onFocus={this.handleInputFocus.bind(this)}\r\n                onBlur={this.handleCheckMobile.bind(this)}\r\n                value={mobile}\r\n              />\r\n            </FormItem>\r\n\r\n            {codeUrl?(\r\n              <FormItem>\r\n                  <Input \r\n                    prefix={<Icon type='picture' style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                    placeholder='请输入图形验证码'\r\n                    onChange={this.handleInput.bind(this,'code')}\r\n                    onFocus={this.handleInputFocus.bind(this)}\r\n                    addonAfter={<img onClick={this.handleChangeCode.bind(this,'mobile')} style={{display:\"block\",height:\"30px\",borderRadius:\"5px\"}} src={codeUrl} alt=\"\"/>}\r\n                  />\r\n              </FormItem>\r\n            ):null}\r\n\r\n            <FormItem>\r\n              <Input \r\n                prefix={<Icon type='key' style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                placeholder='请输入验证码' \r\n                onChange={this.handleInput.bind(this,'checkCode')}\r\n                onFocus={this.handleFocus.bind(this)}\r\n                addonAfter={<span onClick={this.handleGetCode.bind(this)} style={{cursor:'pointer'}}>{mobileCodeWords}</span>}\r\n              />\r\n            </FormItem>\r\n            <FormItem>\r\n              <Input \r\n                prefix={<Icon type='lock' style={{ color: 'rgba(0,0,0,.25)' }} />} \r\n                suffix={passwordSuffix}\r\n                type={passwordType?'password':'text'} \r\n                placeholder='请输入新密码，6-16位数字或字母' \r\n                onChange={this.handleInput.bind(this,'newPassword')}\r\n                onFocus={this.handleFocus.bind(this)}\r\n                value={newPassword}\r\n              />\r\n            </FormItem>\r\n            <p className='err-msg'>{showErrorMsg}</p>\r\n            <FormItem>\r\n              <Button \r\n                type='primary' \r\n                className='login-form-button'\r\n                onClick={this.handleChangePassword.bind(this)}\r\n              >提交</Button>\r\n            </FormItem>\r\n            <div className='forget-password' onClick={this.handleChangePage.bind(this,0)}>返回登录</div>\r\n          </Form>\r\n        </div>\r\n      )\r\n    }\r\n    const pageStepThree = () => {\r\n      return(\r\n        <div className='change-pass-success'>\r\n          <div className='success-icon'><Icon type='check-circle' /></div>\r\n          <div className='success-words'>修改密码成功</div>\r\n        </div>\r\n      )\r\n    }\r\n    const pageArray = [pageStepOne(),pageStepTwo(),pageStepThree()]\r\n    return(\r\n      <div className='login-wrap'>\r\n        <div className='login-center'>\r\n          {pageArray[pageStep]}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst Login = Form.create()(FormWrap);\r\nexport default withRouter(connect(null,{\r\n  resetImData:actions.resetImData\r\n})(Login))\r\n","import React, { Component } from 'react';\r\n\r\nclass NotFound extends Component {\r\n  render(){\r\n    return(\r\n      <div>404</div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NotFound","import React, { Component } from 'react';\r\n\r\nclass Plan extends Component {\r\n  render() {\r\n    return (\r\n      <div>用户注册</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Plan","import React, { Component } from 'react';\r\nimport { Icon } from 'antd'\r\n\r\nclass PageHeader extends Component {\r\n    render() {\r\n        const backIcon = () => {\r\n            if (this.props.onBack) {\r\n                return (<Icon\r\n                    style={{ fontSize: \"14px\", verticalAlign: \"middle\", marginRight: \"10px\", paddingRight: \"10px\", borderRight: \"1px solid #ccc\", cursor: \"point\" }}\r\n                    type=\"arrow-left\"\r\n                    onClick={this.props.onBack}\r\n                />)\r\n            } else {\r\n                return null\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div style={{ marginBottom: \"20px\", fontSize: \"20px\", borderBottom: \"1px solid #eee\", paddingBottom: \"20px\" }}>\r\n                <div style={{ float: 'left' }}>{backIcon()}</div>\r\n                <span style={{ verticalAlign: \"middle\" }}>{this.props.title}</span>\r\n                <div>\r\n                    {this.props.content}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PageHeader","import React, { Component } from 'react';\r\nimport { Icon, Input, Modal, Button, Table, Select, Tabs, message, Empty } from 'antd'\r\nimport './styles/patient.css'\r\nimport { withRouter } from 'react-router-dom';\r\nimport PageHeader from '../../components/PageHeader';\r\nimport { createGroup, findGroup, findGroupSelf, updateGroup, deleteGroup, findPatientList } from '../../apis/relation';\r\nimport { throttle,buttonAuth } from '../../utils/index'\r\nimport {getButton} from '../../apis/user'\r\nconst Option = Select.Option;\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass Patient extends Component {\r\n\r\n  state = {\r\n    group: [{\r\n      id: 0,\r\n      value: \"全部\",\r\n      topicId: 0\r\n    }],\r\n    currentGroup: \"0-0\",\r\n    actionGroup: [{\r\n      key: 'newGroup',\r\n      name: \"新入组\"\r\n    },{\r\n      key: 'followUp',\r\n      name: \"随访\"\r\n    }, {\r\n      key: 'warning',\r\n      name: \"报警\"\r\n    }, {\r\n      key: 'all',\r\n      name: \"全部\"\r\n    }],\r\n    currentAction: 'newGroup',\r\n    groupEditVisible: false,\r\n    waitToAddData: [{\r\n      id: \"1\",\r\n      name: \"李时珍\",\r\n      mobile: \"138000000000\",\r\n      remark: \"你好，我是李时珍\"\r\n    }],\r\n    waitToAddVisible: false,\r\n    showAddBtn: true,\r\n    patientList: [],\r\n    searchList: [],\r\n    groupData: [],\r\n    emptyWords:\"暂无随访患者\",\r\n    buttonKey:[]\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.actionGetGroup()\r\n    this.actionFindGroupSelf()\r\n    //按钮权限\r\n    this.actionGetButton()\r\n  }\r\n\r\n  /**\r\n   * 切换分组\r\n   */\r\n  handleChangeGroup(key) {\r\n    this.setState({ currentGroup: key })\r\n  }\r\n\r\n  /**\r\n   * 切换事件\r\n   */\r\n  handleChangeAction(key) {\r\n    let { currentGroup } = this.state;\r\n    let groupId = +currentGroup.split('-')[0]\r\n    let topicId = +currentGroup.split('-')[1]\r\n    if(key===\"followUp\"){this.setState({emptyWords:\"暂无随访患者\"})}\r\n    if(key===\"warning\"){this.setState({emptyWords:\"暂无报警患者\"})}\r\n    if(key===\"newGroup\"){this.setState({emptyWords:\"暂无新入组患者\"})}\r\n    if(key===\"all\"){this.setState({emptyWords:\"暂无患者\"})}\r\n\r\n    this.actionGetPatientList({ groupId, topicId, warningType: key })\r\n    this.setState({ currentAction: key })\r\n  }\r\n\r\n  //tab切换\r\n  handleTabsCallback(key) {\r\n    let groupId = parseInt(key.split('-')[0]);\r\n    let topicId = parseInt(key.split('-')[1])\r\n    let warningType = this.state.currentAction\r\n    this.actionGetPatientList({ groupId, topicId, warningType })\r\n    this.setState({ currentGroup: key })\r\n  }\r\n\r\n  handleGroupEditVisible() {\r\n    this.actionFindGroupSelf()\r\n    this.setState({ groupEditVisible: true })\r\n  }\r\n\r\n  handleGroupEditHide() {\r\n    this.actionFindGroupSelf()\r\n    this.setState({ groupEditVisible: false })\r\n  }\r\n\r\n  handleWaitToAddVisible() {\r\n    this.setState({ waitToAddVisible: true })\r\n  }\r\n\r\n  handleWaitToAddHide() {\r\n    this.setState({ waitToAddVisible: false })\r\n  }\r\n\r\n  //跳转到患者档案\r\n  handleGoToArchives(id,tab=1) {\r\n    this.props.history.push('/patient/archives?id=' + id +\"&tab=\"+tab)\r\n  }\r\n\r\n  //搜索\r\n  handleSearch(value) {\r\n    let keywords = value\r\n    this.actionSerchPatient({ keywords })\r\n  }\r\n\r\n  //新增分组\r\n  handleAddGroup() {\r\n    //分组要小于六个\r\n    let { groupData } = this.state;\r\n    let groupLen = groupData.length;\r\n    let lastGroupId = 1\r\n    if (groupLen > 0) {\r\n      lastGroupId = groupData[groupLen - 1].groupId + 1\r\n    }\r\n    if (groupLen < 6) {\r\n      let groupItem = { groupName: \"\", editable: true, groupId: lastGroupId, newAdd: true }\r\n      groupData.push(groupItem)\r\n      this.setState({ groupData, showAddBtn: false })\r\n    }\r\n  }\r\n\r\n  //输入框\r\n  handleInput(groupId, e) {\r\n    let groupName = e.target.value\r\n    this.setState({ editGroupName: groupName, editGroupId: groupId || null })\r\n  }\r\n\r\n  //添加分组\r\n  handleAddGroupItem(groupId) {\r\n    const { editGroupName, editGroupId, groupData } = this.state;\r\n    if(editGroupName.trim().length > 20){\r\n      message.error('分组名称过长')\r\n      return\r\n    }\r\n    if (editGroupName.trim()) {\r\n      for (let i in groupData) {\r\n        if (groupData[i].groupId === editGroupId) {\r\n          if (groupData[i].newAdd) {\r\n            this.actionCreateGroup({ groupName: editGroupName })\r\n          } else {\r\n            this.actionUpdateGroup({ groupName: editGroupName, groupId: editGroupId })\r\n          }\r\n        }\r\n      }\r\n      this.setState({ groupData, showAddBtn: true })\r\n    } else {\r\n      message.error('请输入分组名')\r\n    }\r\n  }\r\n\r\n  //页面可编辑\r\n  handleEditable(groupId) {\r\n    let { groupData } = this.state\r\n    let editGroupName = ''\r\n    let editGroupId = ''\r\n    for (let i in groupData) {\r\n      if (groupData[i].groupId === groupId) {\r\n        groupData[i].editable = true;\r\n        editGroupName = groupData[i].groupName\r\n        editGroupId = groupData[i].groupId\r\n      }\r\n    }\r\n    this.setState({ groupData, showAddBtn: false, editGroupName, editGroupId })\r\n  }\r\n\r\n  //删除分组\r\n  handleDeleteGroup(groupId) {\r\n    this.actionDeleteGroup({ groupId })\r\n  }\r\n\r\n  //选中搜索项\r\n  handleSearchChange(value) {\r\n    this.props.history.push('/patient/archives?id=' + value)\r\n  }\r\n\r\n  //跳转到聊天\r\n  handleJumpToChat(patientId){\r\n    this.props.history.push('/chat?id='+patientId)\r\n  }\r\n\r\n  /**\r\n   * 创建分组\r\n   * @param {*} data \r\n   */\r\n  async actionCreateGroup(data) {\r\n    let group = await createGroup(data)\r\n    if (group && group.code === 200) {\r\n      this.actionGetGroup()\r\n      message.success('添加分组成功')\r\n      this.actionFindGroupSelf()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取分组\r\n   */\r\n  async actionGetGroup() {\r\n    let allGroup = [{\r\n      id: 0,\r\n      value: \"全部\",\r\n      topicId: 0\r\n    }]\r\n    let group = await findGroup()\r\n    let list = group.data.groups || []\r\n    let groupDataLen = list.length\r\n    if (groupDataLen > 0) {\r\n      this.actionGetPatientList({ groupId: list[0].id, topicId: list[0].topicId, warningType: \"newGroup\" })\r\n      this.setState({\r\n        group: list.concat(allGroup),\r\n        currentGroup: list.concat(allGroup)[0].id + \"-\" + list.concat(allGroup)[0].topicId,//tabs组件传参智能传一个，需要拼接groupId和topicId\r\n      })\r\n    }else{\r\n      this.actionGetPatientList({ groupId: 0, topicId: 0, warningType: \"newGroup\" })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 修改分组\r\n   * @param {*} data \r\n   */\r\n  async actionUpdateGroup(data) {\r\n    let group = await updateGroup(data).catch(err => this.actionFindGroupSelf())\r\n    if (group && group.code === 200) {\r\n      this.actionGetGroup()\r\n      this.actionFindGroupSelf()\r\n      message.success('更新分组成功')\r\n    }\r\n  }\r\n\r\n  async actionDeleteGroup(data) {\r\n    let group = await deleteGroup(data)\r\n    if (group && group.code === 200) {\r\n      this.actionGetGroup()\r\n      this.actionFindGroupSelf()\r\n      message.success('删除分组成功')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 患者列表\r\n   */\r\n  async actionGetPatientList(data) {\r\n    let list = await findPatientList(data)\r\n    this.setState({ patientList: list.data.patientCards })\r\n  }\r\n\r\n  /**\r\n   * 搜索患者\r\n   * @param {*} data \r\n   */\r\n  async actionSerchPatient(data) {\r\n    let list = await findPatientList(data)\r\n    this.setState({ searchList: list.data.patientCards })\r\n  }\r\n\r\n  /**\r\n   * 自建分组\r\n   */\r\n  async actionFindGroupSelf() {\r\n    let selfGroup = await findGroupSelf()\r\n\r\n    let showAddBtn = true\r\n    //全部不可编辑状态\r\n    let list = selfGroup.data.groups || []\r\n    for (let i in list) {\r\n      list[i].editable = false\r\n    }\r\n    let groupDataLen = list.length\r\n    if (groupDataLen >= 6) {\r\n      showAddBtn = false\r\n    }\r\n    this.setState({\r\n      groupData: list,\r\n      showAddBtn\r\n    })\r\n  }\r\n\r\n  //页面按钮权限\r\n  async actionGetButton(){\r\n    let buttons = await getButton({pageId:2})\r\n    let buttonList = buttons.data.buttons\r\n    let buttonKey = buttonList.map(item => item.buttonKey)\r\n    this.setState({buttonKey})\r\n  }\r\n\r\n  render() {\r\n    const { group, currentGroup, actionGroup, currentAction, groupEditVisible, showAddBtn, patientList, searchList, groupData ,emptyWords,buttonKey} = this.state;\r\n    const editGroupColumns = [{\r\n      title: '序号',\r\n      width: 80,\r\n      align: 'center',\r\n      render:(row,record,index)=>index+1\r\n    }, {\r\n      title: '分组名称',\r\n      key: 'groupName',\r\n      render: row => {\r\n        return (\r\n          <Input\r\n            defaultValue={row.groupName}\r\n            onChange={this.handleInput.bind(this, row.groupId)}\r\n            disabled={!row.editable}\r\n          />\r\n        )\r\n      }\r\n    }, {\r\n      title: '组内人数',\r\n      dataIndex: 'groupPatientQty',\r\n      key: 'groupPatientQty',\r\n      align: 'center'\r\n    }, {\r\n      title: '操作',\r\n      align: 'center',\r\n      render: row => {\r\n        if (row.editable) {\r\n          if (row.deleteFlag) {\r\n            return (\r\n              <span>\r\n                <span className=\"edit-btn\" onClick={this.handleAddGroupItem.bind(this, row.groupId)}>保存</span>\r\n                {buttonAuth(buttonKey,'deleteGroup',<span className=\"delete-btn\" onClick={this.handleDeleteGroup.bind(this, row.groupId)}>删除</span>)}\r\n              </span>\r\n            )\r\n          }\r\n          return (<span className=\"edit-btn\" onClick={this.handleAddGroupItem.bind(this, row.groupId)}>保存</span>)\r\n        } else {\r\n          if (row.deleteFlag) {\r\n            return (\r\n              <span>\r\n                {buttonAuth(buttonKey,'updateGroup',<span className=\"edit-btn\" onClick={this.handleEditable.bind(this, row.groupId)}>编辑</span>)}\r\n                {buttonAuth(buttonKey,'deleteGroup',<span className=\"delete-btn\" onClick={this.handleDeleteGroup.bind(this, row.groupId)}>删除</span>)}\r\n              </span>\r\n            )\r\n          }\r\n          return buttonAuth(buttonKey,'updateGroup',<span className=\"edit-btn\" onClick={this.handleEditable.bind(this, row.groupId)}>编辑</span>)\r\n        }\r\n      }\r\n    }];\r\n\r\n    //分组中分类\r\n    const actionItem = actionGroup.map((item, index) => {\r\n      return (\r\n        <span\r\n          className={currentAction === item.key ? \"action-item current-action\" : \"action-item\"}\r\n          key={index}\r\n          onClick={this.handleChangeAction.bind(this, item.key)}\r\n        >\r\n          {item.name}\r\n        </span>\r\n      )\r\n    })\r\n    //分组\r\n    const groupItem = group.map((item) => <TabPane tab={item.value} key={item.id + \"-\" + item.topicId} >{actionItem}</TabPane>)\r\n\r\n\r\n    const waitToAddColumns = [{\r\n      title: \"序号\",\r\n      dataIndex: \"num\",\r\n      key: \"num\",\r\n    }, {\r\n      title: \"姓名\",\r\n      dataIndex: \"name\",\r\n      key: \"name\"\r\n    }, {\r\n      title: \"联系方式\",\r\n      dataIndex: \"mobile\",\r\n      key: \"mobile\"\r\n    }, {\r\n      title: \"备注\",\r\n      dataIndex: \"remark\",\r\n      key: \"remark\"\r\n    }, {\r\n      title: \"操作\",\r\n      render: row => (\r\n        <span>\r\n          <span className=\"edit-btn\">通过</span>\r\n          <span className='delete-btn'>拒绝</span>\r\n        </span>\r\n      )\r\n    }]\r\n\r\n    const options = searchList.map(d => <Option key={d.patientId} value={d.patientId}>{d.name}</Option>);\r\n\r\n    //患者卡片\r\n    const patientItem = patientList.map((item, index) => (\r\n      <div key={index} className='patient'>\r\n        <div className='patient-top' onClick={this.handleGoToArchives.bind(this, item.patientId || '')}>\r\n          <div className=\"name\">{item.realName || '未知用户名'}</div>\r\n        </div>\r\n        <div className=\"sub-info\" onClick={this.handleGoToArchives.bind(this, item.patientId || '')}>\r\n          <span>{item.age || 0}岁</span>\r\n          {item.sex !== '' && item.sex === \"男\" ? <Icon type=\"man\" /> : <Icon type=\"woman\" />}\r\n        </div>\r\n        <div className='patient-bottom'>\r\n          {item.warningFlag?<span title=\"报警\" onClick={this.handleGoToArchives.bind(this, item.patientId,2)}>警</span>:null}\r\n          <Icon type=\"message\" onClick={this.handleJumpToChat.bind(this, item.patientId || '')}/>\r\n        </div>\r\n      </div>\r\n    ))\r\n\r\n    const button = (\r\n      <span\r\n        className=\"edit-group-icon\"\r\n        onClick={this.handleGroupEditVisible.bind(this)}\r\n      >\r\n        <Icon type=\"form\" />&nbsp;编辑分组\r\n      </span>\r\n    )\r\n\r\n    const search = (\r\n      <Select\r\n        style={{ width: 200 }}\r\n        showSearch\r\n        value={this.state.value}\r\n        placeholder=\"搜索\"\r\n        defaultActiveFirstOption={false}\r\n        showArrow={false}\r\n        filterOption={false}\r\n        onSearch={throttle(this.handleSearch.bind(this), 1000)}\r\n        onChange={this.handleSearchChange.bind(this)}\r\n      >\r\n        {options}\r\n      </Select>\r\n    )\r\n\r\n    const tabBarExtra = () => (\r\n      <div className='patient-group-right'>\r\n        {buttonAuth(buttonKey,'findGroups', button)}\r\n        {buttonAuth(buttonKey,'findGroups', search)}\r\n      </div>\r\n    )\r\n\r\n    //增加按钮\r\n    const addButton = (\r\n      <div className=\"add-group-icon\">\r\n        {showAddBtn ? (<Button icon=\"plus\" type=\"primary\" onClick={this.handleAddGroup.bind(this)}>新增分组</Button>) : null}\r\n      </div>\r\n    )\r\n\r\n    return (\r\n      <div className=\"patient-content\">\r\n        <PageHeader title=\"患者管理\" />\r\n        <Tabs\r\n          type=\"card\"\r\n          activeKey={currentGroup}\r\n          tabBarExtraContent={tabBarExtra()}\r\n          onChange={this.handleTabsCallback.bind(this)}\r\n        >\r\n          {groupItem}\r\n        </Tabs>\r\n\r\n        {/* 列表内容 */}\r\n        {buttonAuth(buttonKey,'findPatientCards',<>{patientList.length === 0 ? <Empty description={emptyWords} style={{ marginTop: \"100px\" }} /> : <div className=\"patient-list-wrap\">{patientItem}</div>}</>)}\r\n      \r\n        {/** 编辑分组*/}\r\n        <Modal\r\n          visible={groupEditVisible}\r\n          title=\"编辑分组\"\r\n          onCancel={this.handleGroupEditHide.bind(this)}\r\n          footer={null}\r\n          width={700}\r\n        >\r\n          <Table\r\n            columns={editGroupColumns}\r\n            dataSource={groupData}\r\n            pagination={false}\r\n            rowKey={record => record.groupId}\r\n          />\r\n          {buttonAuth(buttonKey,'createGroup',addButton)}\r\n        </Modal>\r\n\r\n        {/** 待添加列表 */}\r\n        {/* <Modal\r\n          visible={waitToAddVisible}\r\n          title=\"待添加列表\"\r\n          onCancel={this.handleWaitToAddHide.bind(this)}\r\n          footer={null}\r\n          width={700}\r\n        >\r\n          <Table \r\n            columns={waitToAddColumns} \r\n            dataSource={waitToAddData} \r\n            pagination={false}\r\n            rowKey={record => record.id}\r\n          />\r\n        </Modal> */}\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Patient)","import request from '../utils/request'\r\nconst SERVICE_NAME = '/rpmhealthdata_service'\r\n\r\n/**\r\n * 患者测量数据按时间范围查询\r\n * @param {*} data \r\n */\r\nconst getPatientData = (data) => {\r\n    return request({\r\n        url:SERVICE_NAME + '/alldata/getAllDataByDate',\r\n        data,\r\n        method:\"post\"\r\n    })\r\n}\r\n\r\n\r\n/**\r\n * 查询患者数据明细，按时间倒叙查询条数；\r\n * @param {*} data \r\n */\r\nconst getPatientDataByDateAndCount = (data) => {\r\n    return request({\r\n        url:SERVICE_NAME + '/alldata/getOneDataByDateAndCount',\r\n        data,\r\n        method:\"post\"\r\n    })\r\n}\r\n\r\nexport {\r\n    getPatientData,\r\n    getPatientDataByDateAndCount\r\n}","import Group from \"antd/lib/input/Group\";\r\n\r\n/**\r\n * 格式化睡眠数据\r\n * @param {*} array  原始睡眠数据\r\n * @param {*} heartRateList  原始心率数据\r\n * @param {*} dayArray 时间范围\r\n */\r\nconst formatSleepData = (array, heartRateList, dayArray) => {\r\n    let dayArrayFormat = dayArray.map(item => item.replace('/', '-'))\r\n    let formatArray = []\r\n    for (let i in dayArrayFormat) {\r\n        let totalSleep = 0\r\n        for (let j in array) {\r\n            if (array[j].awakeningTime.indexOf(dayArrayFormat[i]) >= 0) {\r\n                totalSleep += array[j].totalSleepTime\r\n            }\r\n        }\r\n        formatArray.push({\r\n            day: dayArrayFormat[i],\r\n            totalSleep: totalSleep\r\n        })\r\n    }\r\n    //混入心率数据\r\n    for (let i in formatArray) {\r\n        for (let j in heartRateList) {\r\n            if (heartRateList[j].measurementDate.indexOf(formatArray[i].day) >= 0) {\r\n                formatArray[i].heartRate = heartRateList[j].silentHeartRate\r\n            }\r\n        }\r\n    }\r\n\r\n    //图表显示不连续的线，把0替换成Null\r\n    let checkZero = formatArray.map(item => {\r\n        if (item.totalSleep === 0) {\r\n            item.totalSleep = null\r\n        } else {\r\n            item.totalSleep = +(item.totalSleep / 60).toFixed(1)\r\n        }\r\n        if (!item.heartRate) {\r\n            item.heartRate = null\r\n        }\r\n        return item\r\n    })\r\n    return checkZero\r\n}\r\n\r\n\r\n/**\r\n * 格式化体重数据\r\n * @param {*} weightData \r\n * @param {*} dayArray \r\n */\r\nconst formatWeightData = (weightData, dayArray) => {\r\n    let dayArrayFormat = dayArray.map(item => item.replace('/', '-'))\r\n    let formatArray = []\r\n    for (let i in dayArrayFormat) {\r\n        let totalWeight = 0\r\n        let totalBmi = 0\r\n        let times = 0\r\n        for (let j in weightData) {\r\n            if (weightData[j].measurementDate.indexOf(dayArrayFormat[i]) >= 0) {\r\n                totalWeight += weightData[j].weight\r\n                totalBmi += weightData[j].bmi\r\n                times++\r\n            }\r\n        }\r\n\r\n        formatArray.push({\r\n            day: dayArrayFormat[i],\r\n            weight: +(totalWeight / times).toFixed(1) || null,\r\n            bmi: +(totalBmi / times).toFixed(1) || null\r\n        })\r\n    }\r\n    return formatArray\r\n}\r\n\r\n\r\n/**\r\n * 格式化血压数据\r\n * @param {*} bloodPressureData \r\n * @param {*} dayArray \r\n */\r\nconst formatBloodPressureData = (bloodPressureData, dayArray) => {\r\n    let dayArrayFormat = dayArray.map(item => item.replace('/', '-'))\r\n    let formatArray = []\r\n    for (let i in dayArrayFormat) {\r\n        let totalDiastolicPressure = 0\r\n        let totalSystolicPressure = 0\r\n        let times = 0\r\n        for (let j in bloodPressureData) {\r\n            if (bloodPressureData[j].measurementDate.indexOf(dayArrayFormat[i]) >= 0) {\r\n                totalDiastolicPressure += bloodPressureData[j].diastolicPressure\r\n                totalSystolicPressure += bloodPressureData[j].systolicPressure\r\n                times++\r\n            }\r\n        }\r\n        formatArray.push({\r\n            day: dayArray[i],\r\n            pressure: +(totalDiastolicPressure / times).toFixed(1) || null,\r\n            type: \"舒张压\"\r\n        }, {\r\n            day: dayArray[i],\r\n            pressure: +(totalSystolicPressure / times).toFixed(1) || null,\r\n            type: \"收缩压\"\r\n        })\r\n    }\r\n    return formatArray\r\n}\r\n\r\n\r\n/**\r\n * 格式化血糖\r\n * @param {*} bloodSugarData \r\n * @param {*} dayArray \r\n */\r\nconst formatBloodSugarData = (bloodSugarData, dayArray) => {\r\n    let dayArrayFormat = dayArray.map(item => item.replace('/', '-'))\r\n    let formatArray = []\r\n    for (let i in dayArrayFormat) {\r\n        let beforeMeal = 0;\r\n        let afterMeal = 0;\r\n        let beforeTimes = 0;\r\n        let afterTimes = 0\r\n        for (let j in bloodSugarData) {\r\n            if (bloodSugarData[j].measurementDate.indexOf(dayArrayFormat[i]) >= 0) {\r\n                if (+bloodSugarData[j].mealPeroid === 12) {\r\n                    //餐前血糖\r\n                    beforeMeal += bloodSugarData[j].glucoseConcentration;\r\n                    beforeTimes++\r\n                }\r\n                if (+bloodSugarData[j].mealPeroid === 13) {\r\n                    //餐后血糖\r\n                    afterMeal += bloodSugarData[j].glucoseConcentration;\r\n                    afterTimes++\r\n                }\r\n            }\r\n        }\r\n        formatArray.push({\r\n            day: dayArrayFormat[i],\r\n            glucoseConcentration: +(beforeMeal / beforeTimes).toFixed(1) || null,\r\n            mealPeroid: '餐前血糖'\r\n        }, {\r\n            day: dayArrayFormat[i],\r\n            glucoseConcentration: +(afterMeal / afterTimes).toFixed(1) || null,\r\n            mealPeroid: '餐后血糖'\r\n        })\r\n    }\r\n    return formatArray\r\n}\r\n\r\n/**\r\n * 有氧能力、步数格式化\r\n * @param {*} pedometerData \r\n * @param {*} dayArray \r\n */\r\nconst formatPedometerData = (pedometerData, dayArray) => {\r\n    let dayArrayFormat = dayArray.map(item => item.replace('/', '-'))\r\n    let formatArray = []\r\n    for (let i in dayArrayFormat) {\r\n        let steps = 0\r\n        let pedometer = 0\r\n        for (let j in pedometerData) {\r\n            if (pedometerData[j].measurementTime.indexOf(dayArrayFormat[i]) >= 0) {\r\n                steps = pedometerData[j].step;\r\n                let aerList = pedometerData[j].aerobicsTimeList || []\r\n                if (aerList && aerList.length > 0) {\r\n                    for (let x in aerList) {\r\n                        pedometer += +(aerList[x].exetimeIf + aerList[x].exetimeCpm * 2) //中等强度时长+高等强度时长*2\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        formatArray.push({\r\n            day: dayArrayFormat[i],\r\n            steps: steps,\r\n            pedometer: pedometer\r\n        })\r\n    }\r\n\r\n    let checkZero = formatArray.map(item => {\r\n        if (item.steps === 0) item.steps = null;\r\n        if (item.pedometer === 0) item.pedometer = null;\r\n        return item\r\n    })\r\n\r\n    return checkZero\r\n}\r\n\r\n\r\n/**\r\n * 格式化睡眠表格数据\r\n * @param {*} dataList \r\n */\r\nconst formatTable = (dataList = [], timeKey) => {\r\n    let dayArray = []\r\n    let day = null\r\n    //根据table区分时间key\r\n    for (let i in dataList) {\r\n        let awakeningTime = dataList[i][timeKey].split(\" \")[0]\r\n        if (awakeningTime !== day) {\r\n            dayArray.push(awakeningTime)\r\n            day = awakeningTime\r\n        }\r\n    }\r\n    let formatData = []\r\n    for (let i in dayArray) {\r\n        let day = []\r\n        for (let j in dataList) {\r\n            if (dataList[j][timeKey].split(\" \")[0].indexOf(dayArray[i]) >= 0) {\r\n                day.push(dataList[j])\r\n            }\r\n        }\r\n        formatData.push({\r\n            date: dayArray[i],\r\n            day: day\r\n        })\r\n    }\r\n    let year = null\r\n    let yearArray = []\r\n    for (let i in formatData) {\r\n        let _year = formatData[i].date.split('-')[0]\r\n        if (_year !== year) {\r\n            yearArray.push(_year)\r\n            year = _year\r\n        }\r\n    }\r\n\r\n    let resultData = []\r\n    for (let i in yearArray) {\r\n        let dataList = []\r\n        for (let j in formatData) {\r\n            let _year = formatData[j].date.split('-')[0]\r\n            let _day = formatData[j].date.split('-')[1] + '-' + formatData[j].date.split('-')[2]\r\n            if (_year === yearArray[i]) {\r\n                dataList.push({\r\n                    day: _day,\r\n                    data: formatData[j].day\r\n                })\r\n            }\r\n        }\r\n        resultData.push({\r\n            year: yearArray[i],\r\n            list: dataList\r\n        })\r\n    }\r\n    return resultData\r\n}\r\n\r\n\r\nexport {\r\n    formatSleepData,\r\n    formatWeightData,\r\n    formatBloodPressureData,\r\n    formatBloodSugarData,\r\n    formatPedometerData,\r\n    formatTable\r\n}","const enumObj = {\r\n    //随访计划时间类别\r\n    timeCategory: [{\r\n            key: 1,\r\n            value: \"首诊\"\r\n        },\r\n        {\r\n            key: 2,\r\n            value: \"就诊\"\r\n        },\r\n        {\r\n            key: 3,\r\n            value: \"出院\"\r\n        },\r\n        {\r\n            key: 4,\r\n            value: \"结束治疗\"\r\n        },\r\n    ],\r\n    //随访计划时间类型\r\n    timeType: [{\r\n        key: 1,\r\n        value: \"天\"\r\n    }, {\r\n        key: 2,\r\n        value: \"周\"\r\n    }, {\r\n        key: 3,\r\n        value: \"月\"\r\n    }],\r\n    site: [{\r\n        key: 1,\r\n        value: \"医院\"\r\n    }, {\r\n        key: 2,\r\n        value: \"社康\"\r\n    }],\r\n\r\n    //测量类型\r\n    measurementType: [{\r\n        key: 1,\r\n        value: \"血糖\"\r\n    }, {\r\n        key: 2,\r\n        value: \"血压\"\r\n    }, {\r\n        key: 3,\r\n        value: \"体重\"\r\n    }],\r\n\r\n    //测量时间周期\r\n    periodicTime: [{\r\n        key: 1,\r\n        value: \"3个月\"\r\n    }, {\r\n        key: 2,\r\n        value: \"6个月\"\r\n    }, {\r\n        key: 3,\r\n        value: \"9个月\"\r\n    }, {\r\n        key: 4,\r\n        value: \"12个月\"\r\n    }],\r\n    //测量频次\r\n    frequency: [{\r\n        key: 1,\r\n        value: \"一天一次\"\r\n    }, {\r\n        key: 2,\r\n        value: \"一天两次\"\r\n    }, {\r\n        key: 3,\r\n        value: \"一天三次\"\r\n    }, {\r\n        key: 4,\r\n        value: \"一次四次\"\r\n    }, {\r\n        key: 5,\r\n        value: \"一天五次\"\r\n    }, {\r\n        key: 6,\r\n        value: \"两天一次\"\r\n    }],\r\n\r\n    measureListType: [{\r\n        key: 1,\r\n        value: \"sleepList\"\r\n    }, {\r\n        key: 2,\r\n        value: \"weightList\"\r\n    }, {\r\n        key: 3,\r\n        value: \"pedometerList\"\r\n    }, {\r\n        key: 4,\r\n        value: \"bloodPressureList\"\r\n    }, {\r\n        key: 5,\r\n        value: \"bloodSugarList\"\r\n    }, {\r\n        key: 6,\r\n        value: \"heartRateList\"\r\n    }, {\r\n        key: 7,\r\n        value: 'aerobicsTimeList'\r\n    }]\r\n}\r\n\r\nconst switchEnum = (id, arrayName) => {\r\n    for (let i in enumObj[arrayName]) {\r\n        if (parseInt(id) === enumObj[arrayName][i].key) {\r\n            return enumObj[arrayName][i].value\r\n        }\r\n    }\r\n}\r\n\r\nexport {\r\n    enumObj,\r\n    switchEnum\r\n}","import React ,{Component}from 'react';\r\nimport {Radio,Empty } from 'antd';\r\nimport {getPatientDataByDateAndCount} from '../../../apis/healthdata';\r\nimport {formatTable} from '../../../utils/format'\r\nimport {switchEnum} from '../../../utils/enum'\r\nconst RadioButton = Radio.Button;\r\nconst RadioGroup = Radio.Group;\r\n\r\n\r\nclass DataTable extends Component{\r\n  state = {\r\n    currentType:5,\r\n    beginDate:new Date().getTime(),\r\n    tableData:[],\r\n    measureType:\"bloodSugarList\"\r\n  } \r\n\r\n  componentWillMount(){\r\n    let {currentType,beginDate} = this.state\r\n    let tableType = switchEnum(currentType,'measureListType')\r\n    this.setState({measureType:tableType})\r\n    //this.props.patientId\r\n    this.actionGetPatientDataByDateAndCount({beginDate,patientId:this.props.patientId,count:100,dataType:currentType},tableType)\r\n  }\r\n\r\n\r\n  handleChangeDataType(e){\r\n    let value = e.target.value\r\n    let beginDate = new Date().getTime()\r\n    let tableType = switchEnum(value,'measureListType')\r\n    this.setState({measureType:tableType})\r\n    this.actionGetPatientDataByDateAndCount({beginDate,patientId:this.props.patientId,count:100,dataType:value},tableType)\r\n    this.setState({currentType:value})\r\n  }\r\n\r\n  handleMakeTimeKey(tableType){\r\n    let timeKey = ''\r\n    switch (tableType) {\r\n      case \"sleepList\":\r\n          timeKey = \"awakeningTime\";\r\n          break;\r\n      case \"weightList\":\r\n          timeKey = \"measurementDate\";\r\n          break;\r\n      case \"pedometerList\":\r\n          timeKey = \"measurementTime\";\r\n          break;\r\n      default:\r\n          timeKey = \"measurementDate\";\r\n          break;\r\n    }\r\n    return timeKey\r\n  }\r\n\r\n  /**\r\n   * 患者数据\r\n   * @param {*} data \r\n   */\r\n  async actionGetPatientDataByDateAndCount(data,tableType){\r\n    let patientData = await getPatientDataByDateAndCount(data)\r\n    let timeKey = this.handleMakeTimeKey(tableType)\r\n    if(patientData.data && patientData.code === 200){\r\n      let list = patientData.data[tableType] || []\r\n      let len = list.length\r\n      if(len > 0){\r\n        let beginDate = Date.parse(list[len-1][timeKey]) + 1\r\n        let data = formatTable(list,timeKey)\r\n        this.setState({list,beginDate,tableData:data})\r\n      }else{\r\n        this.setState({tableData:[]})\r\n      }\r\n    } \r\n  }  \r\n\r\n  render(){\r\n    const {tableData, measureType} = this.state\r\n    const typeTemplate = {\r\n      sleepList:{\r\n        wording:['浅睡时长','深睡时长','清醒时长','睡眠时长'],\r\n        key:['shallowSleep','deepSleep','awakening','totalSleepTime'],\r\n        unit:\"分钟\"\r\n      },\r\n      weightList:{\r\n        wording:[\"BMI\",\"体重\",\"身高\"],\r\n        key:[\"bmi\",'weight','height'],\r\n        unit:\"千克/厘米\"\r\n      },\r\n      pedometerList:{\r\n        wording:[\"步数\"],\r\n        key:['step'],\r\n        unit:\"步\"\r\n      },\r\n      bloodPressureList:{\r\n        wording:[\"收缩压\",\"舒张压\"],\r\n        key:[\"systolicPressure\",\"diastolicPressure\"],\r\n        unit:\"mmHg\"\r\n      },\r\n      bloodSugarList:{\r\n        wording:[\"血糖浓度\",\"用餐状态\"],\r\n        key:[\"glucoseConcentration\",\"mealPeroidName\"],\r\n        unit:\"mmol/L\"\r\n      },\r\n      heartRateList:{\r\n        wording:[\"心率\"],\r\n        key:[\"silentHeartRate\"],\r\n        unit:\"次\"\r\n      },\r\n      aerobicsTimeList:{\r\n        wording:[\"中等强度\",\"较大强度\"],\r\n        key:[\"exetimeIf\",\"exetimeCpm\"],\r\n        unit:\"\"\r\n      }\r\n    }\r\n\r\n    const dataItem = (data) => {\r\n      return data.map((item,index)=>{\r\n        return(\r\n          <div className=\"data\" key={index}>\r\n            {typeTemplate[measureType].key.map((key,index)=>(<span key={index}>{item[key]}</span>))}\r\n            <span>{typeTemplate[measureType].unit}</span>\r\n          </div>\r\n        )\r\n      })\r\n    }\r\n    const listItem = (list) =>{\r\n      return list.map((item,index)=> {\r\n        return(\r\n          <div className=\"list-item\" key={index}>\r\n            <div className=\"day-box\">\r\n              <div className=\"day\">{item.day}</div>\r\n              <div className=\"data-box\">\r\n                {dataItem(item.data)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      })\r\n    }\r\n\r\n    const yearItem = tableData.map((item,index)=>{\r\n      return(\r\n        <div>\r\n          <div className=\"header\">\r\n            <span>年份</span>\r\n            <span>日期</span>\r\n            {typeTemplate[measureType].wording.map((item,index)=>(<span key={index}>{item}</span>))}\r\n            <span>单位</span>\r\n          </div>\r\n          <div className=\"year-box\" key={index}>\r\n            <div className='year'>{item.year}</div>\r\n            <div className=\"list-box\">{listItem(item.list)}</div>\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n\r\n    return(\r\n      <div>\r\n        <RadioGroup onChange={this.handleChangeDataType.bind(this)} defaultValue={5}>\r\n          <RadioButton value={5}>血糖</RadioButton>\r\n          <RadioButton value={4}>血压</RadioButton>\r\n          <RadioButton value={6}>心率</RadioButton>\r\n          <RadioButton value={3}>步数</RadioButton>\r\n          <RadioButton value={2}>体重</RadioButton>\r\n          <RadioButton value={7}>有氧时长</RadioButton>\r\n          <RadioButton value={1}>睡眠</RadioButton>\r\n        </RadioGroup>\r\n        <div className=\"data-table\">\r\n          {yearItem.length>0 ? yearItem : <Empty/>}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DataTable","import React, {Component} from 'react';\r\nimport {Checkbox,Icon} from 'antd'\r\nimport G2 from '@antv/g2';\r\nimport {getPatientData} from '../../../apis/healthdata'\r\nimport moment from 'moment'\r\nimport {formatSleepData,formatWeightData,formatBloodPressureData,formatPedometerData, formatBloodSugarData} from '../../../utils/format'\r\nconst CheckGroup = Checkbox.Group;\r\n\r\nclass DataTable extends Component {\r\n    state = {\r\n        allTypes: [{\r\n            key: \"sleepList\",\r\n            name: \"睡眠/晨脉\"\r\n        }, {\r\n            key: \"weightList\",\r\n            name: \"体重/BMI\"\r\n        }, {\r\n            key: \"pedometerList\",\r\n            name: \"有氧时长/步数\"\r\n        }, {\r\n            key: \"bloodPressureList\",\r\n            name: \"血压\"\r\n        }, {\r\n            key: \"bloodSugarList\",\r\n            name: \"血糖\"\r\n        }],\r\n        currentDatePage: 0, //当前时间分页\r\n        dayArray: [], //要显示的日期\r\n        sleepListData: [],\r\n        weightListData: [],\r\n        bloodPressureListData: [],\r\n        pedometerListData:[],\r\n        bloodSugarListData:[],\r\n        currentChart:[\"sleepList\",\"weightList\",\"pedometerList\",\"bloodPressureList\",\"bloodSugarList\"],//默认全部选中\r\n    }\r\n\r\n    componentWillMount() {\r\n        //计算最近的七个日期\r\n        let {\r\n            currentDatePage\r\n        } = this.state\r\n        this.handleLastSenverDays(currentDatePage)\r\n        this.setState({\r\n            currentDatePage: currentDatePage + 1\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.sleepListChart = new G2.Chart({\r\n            container: 'sleepList',\r\n            height: 400,\r\n            width: 900,\r\n            padding: [20, 50, 20, 50]\r\n        });\r\n\r\n        this.weightListChart = new G2.Chart({\r\n            container: 'weightList',\r\n            height: 400,\r\n            width: 900,\r\n            padding: [20, 50, 20, 50]\r\n        });\r\n\r\n        this.pedometerListChart = new G2.Chart({\r\n            container: 'pedometerList',\r\n            height: 400,\r\n            width: 900,\r\n            padding: [20, 50, 20, 50]\r\n        });\r\n\r\n        this.bloodPressureListChart = new G2.Chart({\r\n            container: 'bloodPressureList',\r\n            height: 400,\r\n            width: 900,\r\n            padding: [20, 50, 20, 50]\r\n        });\r\n\r\n        this.bloodSugarListChart = new G2.Chart({\r\n            container: 'bloodSugarList',\r\n            height: 400,\r\n            width: 900,\r\n            padding: [20, 50, 20, 50]\r\n        });\r\n\r\n    }\r\n\r\n    //近七天的日期\r\n    handleLastSenverDays(currentDatePage) {\r\n        let dayArray = []\r\n        let beginDate = moment().subtract((currentDatePage + 1) * 7, 'day').format('YYYY-MM-DD 00:00:00')\r\n        let endDate = moment().subtract(currentDatePage * 7, 'day').format(\"YYYY-MM-DD 23:59:59\")\r\n        for (let i = 0; i < 7; i++) {\r\n            let num = i\r\n            dayArray.unshift(moment().subtract(num + currentDatePage * 7, 'day').format(\"MM/DD\"))\r\n        }\r\n        //this.props.patientId\r\n        this.actionGetPatientData(beginDate, endDate, this.props.patientId, dayArray)\r\n        this.setState({\r\n            dayArray\r\n        })\r\n    }\r\n\r\n    handlePrePage() {\r\n        let {\r\n            currentDatePage\r\n        } = this.state\r\n        this.handleLastSenverDays(currentDatePage)\r\n        currentDatePage++\r\n        this.setState({\r\n            currentDatePage: currentDatePage\r\n        })\r\n    }\r\n\r\n    handleNextPage() {\r\n        let {\r\n            currentDatePage\r\n        } = this.state\r\n        currentDatePage--\r\n        if (currentDatePage >= 0) {\r\n            this.handleLastSenverDays(currentDatePage)\r\n            this.setState({\r\n                currentDatePage\r\n            })\r\n        }\r\n    }\r\n\r\n    //显示和隐藏chart\r\n    handleShowChartChange(value){\r\n        this.setState({currentChart:value})\r\n    }\r\n\r\n    //纵坐标不同的两条折线\r\n    makeChart(data, chart, line1 = {}, line2 = {}) {\r\n        chart.source(data, {\r\n            day: {\r\n                range: [0, 1]\r\n            }\r\n        });\r\n        chart.scale('day', {\r\n            range: [1 / 8, 1 - 1 / 8]\r\n        });\r\n        chart.scale(line1.key, {\r\n            alias: line1.name\r\n        });\r\n        chart.tooltip({\r\n            crosshairs: {\r\n                type: 'line'\r\n            }\r\n        });\r\n        chart.legend(false)\r\n        chart.scale(line2.key, {\r\n            alias: line2.name\r\n        });\r\n        chart.axis('day', {\r\n            title: null,\r\n            label: null,\r\n            tickLine: null,\r\n            grid: {\r\n                lineStyle: {\r\n                    stroke: '#d9d9d9',\r\n                    lineWidth: 1,\r\n                    lineDash: [2, 2]\r\n                }\r\n            }\r\n        });\r\n        chart.axis(line2.key, { //第二条线不要横网格\r\n            grid: false\r\n        });\r\n        chart.line().position(`day*${line1.key}`);\r\n        chart.line().position(`day*${line2.key}`).color('#9AD681').size(2);\r\n        chart.point().position(`day*${line2.key}`).color('#9AD681').size(4).shape('circle').style({\r\n            stroke: '#fff',\r\n            lineWidth: 1\r\n        });\r\n        chart.point().position(`day*${line1.key}`).size(4).shape('circle').style({\r\n            stroke: '#fff',\r\n            lineWidth: 1\r\n        });\r\n        chart.render();\r\n    }\r\n\r\n    //纵坐标相同的两条折现\r\n    makeDoubleLineChart(data,chart,key,diff){\r\n        chart.source(data, {\r\n            day: {\r\n              range: [0, 1]\r\n            }\r\n        });\r\n        chart.scale('day', {\r\n            range: [1 / 8, 1 - 1 / 8]\r\n        });\r\n        chart.legend(false)\r\n        chart.tooltip({\r\n            crosshairs: {\r\n              type: 'line'\r\n            }\r\n        });\r\n        chart.axis('day', {\r\n            title: null,\r\n            label: null,\r\n            tickLine: null,\r\n            grid: {\r\n                lineStyle: {\r\n                    stroke: '#d9d9d9',\r\n                    lineWidth: 1,\r\n                    lineDash: [2, 2]\r\n                }\r\n            }\r\n        });\r\n        chart.axis(key);\r\n        chart.line().position(`day*${key}`).color(diff);\r\n        chart.point().position(`day*${key}`).color(diff).size(4).shape('circle').style({\r\n            stroke: '#fff',\r\n            lineWidth: 1\r\n        });\r\n        chart.render();\r\n    }\r\n\r\n    /**\r\n     * 获取患者测量数据\r\n     * @param {*} param0 \r\n     */\r\n    async actionGetPatientData(beginDate, endDate, patientId, dayArray) {\r\n        let self = this\r\n        let patientData = await getPatientData({\r\n            beginDate,\r\n            endDate,\r\n            patientId\r\n        })\r\n        let data = patientData.data;\r\n        for (let i in data) {\r\n            self.setState({\r\n                [i]: data[i]\r\n            })\r\n            if (i === 'sleepList') {\r\n                let formatData = formatSleepData(data[i], data.heartRateList, dayArray)\r\n                self.setState({\r\n                    sleepListData: formatData\r\n                })\r\n                self.makeChart(formatData, self.sleepListChart, {\r\n                    key: \"totalSleep\",\r\n                    name: \"睡眠\"\r\n                }, {\r\n                    key: \"heartRate\",\r\n                    name: \"晨脉\"\r\n                })\r\n            }\r\n            if (i === 'weightList') {\r\n                let formatData = formatWeightData(data[i], dayArray)\r\n                self.setState({\r\n                    weightListData: formatData\r\n                })\r\n                self.makeChart(formatData, self.weightListChart, {\r\n                    key: \"weight\",\r\n                    name: \"体重\"\r\n                }, {\r\n                    key: \"bmi\",\r\n                    name: \"BMI\"\r\n                })\r\n            }\r\n            if (i === 'bloodPressureList') {\r\n                let formatData = formatBloodPressureData(data[i], dayArray)\r\n                self.setState({\r\n                    bloodPressureListData: formatData\r\n                })\r\n                self.makeDoubleLineChart(formatData, self.bloodPressureListChart, 'pressure','type')\r\n            }\r\n            if(i === 'bloodSugarList'){\r\n                let formatData = formatBloodSugarData(data[i],dayArray)\r\n                self.setState({bloodSugarListData:formatData})\r\n                self.makeDoubleLineChart(formatData,self.bloodSugarListChart,'glucoseConcentration','mealPeroid')\r\n            }\r\n            if(i === 'pedometerList'){\r\n                let formatData = formatPedometerData(data[i],dayArray)\r\n                self.setState({pedometerListData:formatData})\r\n                self.makeChart(formatData, self.pedometerListChart, {\r\n                    key: \"pedometer\",\r\n                    name: \"有氧时长\"\r\n                }, {\r\n                    key: \"steps\",\r\n                    name: \"步数\"\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {allTypes,dayArray,sleepListData,weightListData,bloodPressureListData,pedometerListData,bloodSugarListData,currentChart} = this.state\r\n    \r\n        const checkboxItem = allTypes.map((item,index)=>(<Checkbox key={index} value={item.key} className=\"check-box\" style={{width:\"160px\",textAlign:\"center\"}}>{item.name}</Checkbox>))\r\n    \r\n        const makeTable = (dataArray,key1,key2,string1,string2) => {\r\n            let line1 = dataArray.map((item,index)=>{\r\n                if(item[key1]){\r\n                    return <td>{item[key1]}</td>\r\n                }\r\n                return <td className='red'>--</td>\r\n            })\r\n    \r\n            let line2 = dataArray.map((item,index)=>{\r\n                if(item[key2]){\r\n                    return <td>{item[key2]}</td>\r\n                }\r\n                return <td className='red'>--</td>\r\n            })\r\n          \r\n            return(\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>{string1}</td>\r\n                            {line1}\r\n                            <td></td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>{string2}</td>\r\n                            {line2}\r\n                            <td></td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            )\r\n        }\r\n    \r\n        const makeDoubleLineTable = (dataArray,diffKey,diff1,diff2,key) => {\r\n            let line1Array = []\r\n            let line2Array = []\r\n            for(let i in dataArray){\r\n                if(dataArray[i][diffKey] === diff1){\r\n                    line1Array.push(dataArray[i])\r\n                }\r\n                if(dataArray[i][diffKey] === diff2){\r\n                    line2Array.push(dataArray[i])\r\n                }\r\n            }\r\n            let line1 = line1Array.map((item,index)=>{\r\n                if(item[key]){\r\n                    return <td>{item[key]}</td>\r\n                }\r\n                return <td>--</td>\r\n            })\r\n    \r\n            let line2 = line2Array.map((item,index)=>{\r\n                if(item[key]){\r\n                    return <td>{item[key]}</td>\r\n                }\r\n                return <td>--</td>\r\n            })\r\n            return(\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>{diff1}</td>\r\n                            {line1}\r\n                            <td></td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>{diff2}</td>\r\n                            {line2}\r\n                            <td></td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            )\r\n        }\r\n\r\n        const chartItem = allTypes.map((item,index)=>{\r\n            const dataTable = ()=>{\r\n                switch(item.key){\r\n                case 'sleepList':\r\n                    return makeTable(sleepListData,'totalSleep','heartRate','睡眠','晨脉')\r\n                case 'weightList':\r\n                    return makeTable(weightListData,'weight','bmi','体重','BMI')\r\n                case 'pedometerList':\r\n                    return makeTable(pedometerListData,'pedometer','steps','有氧时长','步数')\r\n                case 'bloodPressureList':\r\n                    return makeDoubleLineTable(bloodPressureListData,'type','收缩压','舒张压','pressure')\r\n                case 'bloodSugarList':\r\n                    return makeDoubleLineTable(bloodSugarListData,'mealPeroid','餐前血糖','餐后血糖','glucoseConcentration')\r\n                default:\r\n                    return;\r\n                }\r\n            }\r\n            return(\r\n                <div style={currentChart.indexOf(item.key)>=0 ? {display:\"block\"}:{display:\"none\"}}>\r\n                    <div id={item.key} key={index} className=\"chart\" ></div>\r\n                    <div className=\"chart-table\">\r\n                        {dataTable()}\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n    \r\n        const tdItem = dayArray.map((item,index)=>(<td key={index}>{item}</td>))\r\n    \r\n        return(\r\n            <div className=\"chart-wrap\">\r\n                <CheckGroup defaultValue={currentChart} style={{width:\"900px\",margin:\"0 auto\",paddingLeft:'100px'}} onChange={this.handleShowChartChange.bind(this)}>\r\n                    {checkboxItem}\r\n                </CheckGroup>\r\n                <div className=\"day-data\">\r\n\r\n                </div>\r\n                <div className=\"date-wrap\">\r\n                    <table>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td onClick={this.handlePrePage.bind(this)}><Icon type=\"arrow-left\"/>上一页</td>\r\n                                {tdItem}\r\n                                <td onClick={this.handleNextPage.bind(this)}>下一页<Icon type=\"arrow-right\" /></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                {/* 根据alltypes生成所有表格 */}\r\n                {chartItem}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DataTable","import request from '../utils/request'\r\nimport config from '../configs/index'\r\nconst SERVICE_NAME = '/rpmprogram_service'\r\n\r\n/**\r\n * 新增随访方案\r\n * @param {*} data \r\n */\r\nconst createFollowUpPlan = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + \"/program/doctor/add_visit\",\r\n        data,\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 编辑随访方案\r\n * @param {*} data \r\n */\r\nconst updateFollowUpPlan = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/program/doctor/update_visit',\r\n        data,\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 新增测量方案\r\n * @param {*} data \r\n */\r\nconst createMeasurementPlan = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + \"/program/doctor/add_measurement\",\r\n        data,\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 编辑测量方案\r\n * @param {*} data \r\n */\r\nconst updateMeasurementPlan = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/program/doctor/update_measurement',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\n/**\r\n * 方案列表\r\n * @param {*} data \r\n */\r\nconst planList = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/program/doctor/list',\r\n        data,\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 方案明细\r\n * @param {*} programId \r\n */\r\nconst planDetail = (programId) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/program/doctor/program_info?programId=' + programId\r\n    })\r\n}\r\n\r\n/**\r\n * 获取患者随访方案\r\n * @param {*} patientId \r\n * @param {*} type \r\n */\r\nconst getPatientPlan = (patientId, type) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/program/doctor/user_program?patientId=' + patientId + \"&type=\" + type,\r\n    })\r\n}\r\n\r\n//为用户新增方案\r\nconst addPlan = ({\r\n    programId,\r\n    patientId,\r\n    beginTime\r\n}) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/program/doctor/add_user_program',\r\n        method: \"post\",\r\n        data: {\r\n            programId,\r\n            patientId,\r\n            beginTime\r\n        }\r\n    })\r\n}\r\n\r\nexport {\r\n    createFollowUpPlan,\r\n    updateFollowUpPlan,\r\n    createMeasurementPlan,\r\n    updateMeasurementPlan,\r\n    planList,\r\n    planDetail,\r\n    getPatientPlan,\r\n    addPlan\r\n}","import React ,{Component}from 'react';\r\nimport {Table} from 'antd';\r\nimport {getPatientPlan} from '../../../apis/plan'\r\nimport { switchEnum } from '../../../utils/enum';\r\n\r\nclass Measurement extends Component{\r\n  state={\r\n    measurementPlan:{},\r\n    tableLoading:false\r\n  }\r\n\r\n  componentWillMount(){\r\n    this.actionGetMeasurementPlan(this.props.patientId,3)\r\n  }\r\n\r\n  handleExpireDay(ms){\r\n    let now = new Date();\r\n    const ONE_DAY = 24 * 60 * 60 * 1000\r\n    if(ms <= now){\r\n      return \"已过期\"\r\n    }\r\n    return parseInt((ms-now)/ONE_DAY).toString() + \"天\"\r\n  }\r\n\r\n  /**\r\n   * 获取测量计划\r\n   * @param {*} patientId \r\n   * @param {*} type \r\n   */\r\n  async actionGetMeasurementPlan(patientId,type){\r\n    let self = this\r\n    this.setState({tableLoading:true})\r\n    let measurementPlan = await getPatientPlan(patientId,type).catch(err => {\r\n      self.setState({tableLoading:false})\r\n      return\r\n    })\r\n    if(measurementPlan){\r\n      this.setState({measurementPlan:measurementPlan.data,tableLoading:false})\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const {measurementPlan,tableLoading} = this.state\r\n    const data = measurementPlan.list || [];\r\n\r\n    const columns = [{\r\n      title: '序号',\r\n      dataIndex: 'num',\r\n      align:\"center\"\r\n    }, {\r\n      title: '测量类型',\r\n      render:row=>(switchEnum(row.type,'measurementType')),\r\n      align:\"center\"\r\n    }, {\r\n      title: '频率',\r\n      render:row=>(switchEnum(row.frequency,'frequency')),\r\n      align:\"center\"\r\n    }];\r\n\r\n    const header = () => (\r\n      <header>\r\n        <span style={{marginRight:\"100px\"}}>测量方案：<strong>{measurementPlan.name}</strong></span>剩余时间：<strong>{measurementPlan.remainTime}天</strong>\r\n      </header>\r\n    )\r\n    return(\r\n      <Table\r\n        columns={columns}\r\n        dataSource={data}\r\n        bordered\r\n        title={() => header()}\r\n        pagination={false}\r\n        rowKey={record=>record.id}\r\n        loading={tableLoading}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport default Measurement","import React,{Component} from 'react'\r\nimport {Form,Input,Checkbox,Button,Select,DatePicker, message} from 'antd'\r\nimport {formItemLayout,tailFormItemLayout} from '../../../utils/formItemLayout'\r\nimport {withRouter} from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport {updatePatientInfo} from '../../../apis/user'\r\nimport {getQueryString} from '../../../utils/index';\r\n\r\nconst FormItem = Form.Item;\r\nconst InputGroup = Input.Group;\r\nconst Option = Select.Option\r\nconst CheckboxGroup = Checkbox.Group;\r\n\r\nclass BaseInfo extends Component{\r\n  state = {\r\n    patientInfo:{},\r\n    submitLoading:false,\r\n    historyDisease:[],\r\n    familyDisease:[],\r\n    disabled:true\r\n  }\r\n\r\n  componentWillMount(){\r\n    let patientId = parseInt(getQueryString('id',this.props.location.search))\r\n    let patientInfo = this.props.patientInfo\r\n    let historyDisease = []\r\n    let familyDisease = []\r\n    patientInfo.patientId = patientId\r\n    if(patientInfo.historyDisease && patientInfo.historyDisease instanceof Array){\r\n      historyDisease  = patientInfo.historyDisease.map(item=>{\r\n        return item.id\r\n      })\r\n    }\r\n    if(patientInfo.familyDisease && patientInfo.familyDisease instanceof Array){\r\n      familyDisease  = patientInfo.familyDisease.map(item=>{\r\n        return item.id\r\n      })\r\n    }\r\n    //设置生日默认值\r\n    patientInfo.birthday = new Date().getTime()\r\n    this.setState({patientInfo,historyDisease,familyDisease})\r\n  }\r\n\r\n  //时间控件\r\n  handleBirthdayChange(value){\r\n    let {patientInfo} = this.state\r\n    let birthday = Date.parse(value)\r\n    patientInfo['birthday'] = birthday\r\n    this.setState({patientInfo})\r\n  }\r\n\r\n  //多选框\r\n  handleCheckboxGroup(name,value=[]){\r\n    let {patientInfo} = this.state\r\n    let listObj = []\r\n    let familyDisease = []\r\n    let historyDisease = []\r\n    if(name === 'familyDisease'){\r\n      familyDisease = value\r\n    }else if(name === 'historyDisease'){\r\n      historyDisease = value\r\n    }\r\n    for(let i in value){\r\n      let obj = {id:value[i]}\r\n      listObj.push(obj)\r\n    }\r\n    patientInfo[name] = listObj\r\n    this.setState({patientInfo,familyDisease,historyDisease})\r\n  }\r\n\r\n  //输入框\r\n  handleInput(name,e){\r\n    let {patientInfo} = this.state\r\n    patientInfo[name] = e.target.value\r\n    this.setState({patientInfo})\r\n  }\r\n\r\n  //下拉框\r\n  handleSelectChange(name,value){\r\n    let {patientInfo} = this.state\r\n    patientInfo[name] = value\r\n    this.setState({patientInfo})\r\n  }\r\n\r\n  handleSubmit(){\r\n    let {patientInfo} = this.state\r\n    this.setState({submitLoading:true})\r\n    this.actionUpdatePatientInfo(patientInfo)\r\n  }\r\n\r\n  handleEdit(){\r\n    this.setState({disabled:false})\r\n  }\r\n\r\n  /**\r\n   * 更新患者信息\r\n   * @param {*} data \r\n   */\r\n  async actionUpdatePatientInfo(data){\r\n    let updateInfo = await updatePatientInfo(data).catch(err=>this.setState({submitLoading:false}))\r\n    if(updateInfo && updateInfo.code === 200){\r\n      this.setState({submitLoading:false,disabled:true})\r\n      this.props.onUpdateSuccess()\r\n      message.success('修改患者信息成功')\r\n    }\r\n  }\r\n\r\n\r\n  render(){\r\n    const {patientInfo,submitLoading,historyDisease,familyDisease,disabled} = this.state;\r\n    const {onlyRead} = this.props;\r\n    return(\r\n      <div >\r\n        <Form style={{width:\"800px\",marginTop:\"50px\"}}>\r\n          <FormItem\r\n            label=\"姓名\"\r\n            {...formItemLayout}\r\n          >\r\n            <Input disabled={disabled} value={patientInfo.realName} onChange={this.handleInput.bind(this,'realName')}/>\r\n          </FormItem>\r\n          <FormItem\r\n            label=\"性别\"\r\n            {...formItemLayout}\r\n          >\r\n            <Select disabled={disabled} style={{width:\"200px\"}} value={patientInfo.sex} onChange={this.handleSelectChange.bind(this,'sex')}>\r\n              <Option value=\"男\">男</Option>\r\n              <Option value=\"女\">女</Option>\r\n            </Select>\r\n          </FormItem>\r\n          <FormItem\r\n            label=\"出生日期\"\r\n            {...formItemLayout}\r\n          >\r\n            <DatePicker disabled={disabled} allowClear={false} value={moment(patientInfo.birthday)} onChange={this.handleBirthdayChange.bind(this)}/>\r\n          </FormItem>\r\n          <FormItem\r\n            label=\"联系方式\"\r\n            {...formItemLayout}\r\n          >\r\n            <span>{patientInfo.mobile}</span>\r\n          </FormItem>\r\n          <FormItem\r\n            label=\"既往病史\"\r\n            {...formItemLayout}\r\n          >\r\n            <CheckboxGroup disabled={disabled} defaultValue={historyDisease} onChange={this.handleCheckboxGroup.bind(this,'historyDisease')}>\r\n              <Checkbox onChange={this.props.onChange} value={1}>糖尿病</Checkbox>\r\n              <Checkbox onChange={this.props.onChange} value={2}>高血压</Checkbox>\r\n              <Checkbox onChange={this.props.onChange} value={3}>心脑血管</Checkbox>\r\n            </CheckboxGroup>\r\n          </FormItem>\r\n          <FormItem\r\n            label=\"家族病史\"\r\n            {...formItemLayout}\r\n          >\r\n            <CheckboxGroup disabled={disabled} defaultValue={familyDisease} onChange={this.handleCheckboxGroup.bind(this,'familyDisease')}>\r\n              <Checkbox onChange={this.props.onChange} value={1}>糖尿病</Checkbox>\r\n              <Checkbox onChange={this.props.onChange} value={2}>高血压</Checkbox>\r\n              <Checkbox onChange={this.props.onChange} value={3}>心脑血管</Checkbox>\r\n            </CheckboxGroup>\r\n          </FormItem>\r\n          <FormItem \r\n            label=\"吸烟史\"\r\n            {...formItemLayout}\r\n          >\r\n            <InputGroup compact>\r\n              <Input disabled={disabled} style={{width:\"40%\"}} addonBefore=\"持续\" addonAfter=\"年\" value={patientInfo.smokeTime} onChange={this.handleInput.bind(this,'smokeTime')}/>\r\n              <Input disabled={disabled} style={{width:\"50%\",marginLeft:\"10%\"}} addonBefore=\"平均\" value={patientInfo.smokeRate} addonAfter=\"支/天\" onChange={this.handleInput.bind(this,'smokeRate')}/>\r\n            </InputGroup>\r\n          </FormItem>\r\n          <FormItem \r\n            label=\"饮酒史\"\r\n            {...formItemLayout}\r\n          >\r\n            <InputGroup compact>\r\n              <Input disabled={disabled} style={{width:\"40%\"}} addonBefore=\"持续\" addonAfter=\"年\" value={patientInfo.drinkTime} onChange={this.handleInput.bind(this,'drinkTime')}/>\r\n              <Input disabled={disabled} style={{width:\"50%\",marginLeft:\"10%\"}} addonBefore=\"平均\" value={patientInfo.drinkRate} addonAfter=\"两/天\" onChange={this.handleInput.bind(this,'drinkRate')}/>\r\n            </InputGroup>\r\n          </FormItem>\r\n          {\r\n            !onlyRead?<FormItem {...tailFormItemLayout}>\r\n              {disabled?<Button type=\"primary\" onClick={this.handleEdit.bind(this)} >编辑</Button>:<Button type=\"primary\" onClick={this.handleSubmit.bind(this)} loading={submitLoading}>提交</Button>}\r\n            </FormItem>:null\r\n          }\r\n        </Form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(BaseInfo)","import React ,{Component}from 'react';\r\nimport {findMedicalRecord} from '../../../apis/relation'\r\nimport moment from 'moment'\r\nimport {Icon,Empty,Tag} from 'antd'\r\nimport ImgsViewer from 'react-images-viewer'\r\n\r\n\r\n\r\nclass MedicalRecord extends Component{\r\n  state = {\r\n    treatmentRecords:[],\r\n    currentImgArray:[],\r\n    currentImgIndex:0,\r\n    isOpen:false\r\n  }\r\n\r\n  componentWillMount(){\r\n    this.actionFindMedicalRecord({patientId:this.props.patientId,pageIndex:1,pageSize:20})\r\n  }\r\n\r\n  handlePreviewImg(imgList,index){\r\n    let currentImgArray = []\r\n    currentImgArray = imgList.map(item=>({src:item}))\r\n    this.setState({currentImgArray,currentImgIndex:index,isOpen:true})\r\n  }\r\n\r\n  //上一张\r\n  handleGotoPrevious(){\r\n    let {currentImgIndex} = this.state\r\n    this.setState({currentImgIndex:currentImgIndex-1})\r\n  }\r\n\r\n  //下一张\r\n  handleGotoNext(){\r\n    let {currentImgIndex} = this.state\r\n    this.setState({currentImgIndex:currentImgIndex+1})\r\n  }\r\n\r\n  //关闭\r\n  handleCloseViewer(){\r\n    this.setState({isOpen:false})\r\n  }\r\n\r\n  /**\r\n   * 诊疗记录美容\r\n   * @param {*} data \r\n   */\r\n  async actionFindMedicalRecord(data){\r\n    let record = await findMedicalRecord(data);\r\n    if(record && record.code === 200){\r\n      this.setState({treatmentRecords:record.data.treatmentRecords})\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const {treatmentRecords,currentImgArray,currentImgIndex,isOpen} = this.state;\r\n    \r\n    const recordItem = treatmentRecords.map((item,index)=>{\r\n      let imgList = item.imageList || []\r\n      let imgItem = imgList.map((img,index)=>{\r\n        return(\r\n          <span className=\"img\" key={index} >\r\n            <img src={img} alt=\"\" onClick={this.handlePreviewImg.bind(this,imgList,index)}/>\r\n            {/* <Icon className=\"delete-icon\" type=\"close-circle\" theme=\"filled\" /> */}\r\n          </span>\r\n        )\r\n      })\r\n      return(\r\n        <div className=\"day-item\">\r\n            <div className='day-item-left'><span>{moment(item.treatmentDate).format('YYYY年MM月DD日')}</span></div>\r\n            <div className='day-item-right'>\r\n                <div className=\"title\">\r\n                  {imgList.length > 0 ? <Tag color=\"#2db7f5\">图片</Tag>:null}\r\n                  {item.treatmentRemark?<Tag color=\"#87d068\">备注</Tag>:null}\r\n                </div>\r\n                <div className=\"img-wrap\">\r\n                  {imgItem}\r\n                </div>\r\n                {item.treatmentRemark?<div className=\"remark\">备注：<span>{item.treatmentRemark}</span></div>:null}\r\n            </div>\r\n        </div>\r\n      )\r\n    })\r\n    return(\r\n      <div className=\"tab3\">\r\n        {recordItem.length===0 ? <Empty style={{marginTop:\"100px\"}}/> : recordItem }\r\n        <ImgsViewer \r\n          imgs={currentImgArray}\r\n          currImg={currentImgIndex}\r\n          isOpen={isOpen}\r\n          onClickPrev={this.handleGotoPrevious.bind(this)}\r\n          onClickNext={this.handleGotoNext.bind(this)}\r\n          onClose={this.handleCloseViewer.bind(this)}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MedicalRecord","/**\r\n * form组件请以${key}_form命名；\r\n * 引用时，请调用pickForm(key)，根据key匹配组件\r\n * \r\n * \r\n * name:传入的表单name前缀\r\n * formData:传入的表单数据\r\n * disabled:是否可编辑标识\r\n * onSubmit:提交回调\r\n * onCancel:取消回调\r\n * \r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './form.scss'\r\n\r\nclass PickForm extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            formData:{},\r\n        }\r\n    }\r\n    onCancel(){\r\n        this.refs.childRef.resetFields();\r\n        this.props.onCancel();\r\n        this.props.setCanSave(false)\r\n    }\r\n    render() {\r\n        const MyComponent = require(`./${this.props.name}_form.jsx`).default;\r\n        return <div className=\"form-wrap\">\r\n            <MyComponent ref=\"childRef\" formData={this.props.formData} disabled={this.props.disabled} canSave={this.props.canSave} onCancel={this.onCancel.bind(this)} onSubmit={this.props.onSubmit} setCanSave={this.props.setCanSave}  />\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default withRouter(PickForm) ","/**\r\n * 随访节点\r\n * params {*}\r\n * \r\n * list:随访各个节点数据\r\n * activeKey:当前选中的节点key\r\n * onChange:节点切换回调\r\n * selectPro:表单点击回调\r\n * \r\n */\r\nimport React, { Component } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { formNameObj } from '../utils/crfForm'\r\nimport './styles/crfFormNode.scss'\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass CrfFormNode extends Component {\r\n    render() {\r\n        const list = this.props.list || []\r\n        return <Tabs className=\"crf-tabs\" activeKey={this.props.activeKey} onChange={this.props.selectStep}>\r\n            {\r\n                list.map((item, index) => {\r\n                    return <TabPane tab={<div><p className={item.status == 3 ? 'done' : (item.status == 2 ? 'wait' : '')}>{item.name}</p><i></i></div>} key={index}>\r\n                        <div className=\"pro-list\">\r\n                            {\r\n                                item.crfList.map((_item, _index) => {\r\n                                    return <p key={_index} className={'pro' + (_item.id==this.props.activeFormId?' active':'') + (_item.status == 3 ? ' done' : (_item.status == 2 ? ' wait' : ''))} onClick={this.props.selectPro.bind(this, _item)}>{formNameObj[_item.crfFormType]}</p>\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </TabPane>\r\n                })\r\n            }\r\n        </Tabs>\r\n    }\r\n}\r\n\r\nexport default CrfFormNode","import request from '../utils/request'\r\nconst SERVER_NAME = '/rpmprogram_service'\r\n\r\n\r\n//获取待录入列表\r\nexport function getCrfList({page,pagesize=10}) {\r\n    return request({\r\n        url: `${SERVER_NAME}/crf/ready_fill_list`,\r\n        method: \"post\",\r\n        data:{\r\n            page,\r\n            pagesize\r\n        }\r\n    })\r\n}\r\n\r\n\r\n//获取crf表单列表\r\nexport function getCrfFormList({ contentId = 1, contentNum = 1 }) {\r\n    return request({\r\n        url: `${SERVER_NAME}/crf/crf_relation_list`,\r\n        method: \"post\",\r\n        data: {\r\n            contentId,\r\n            contentNum\r\n        }\r\n    })\r\n}\r\n\r\n//获取crf表单详情\r\nexport function getCrfFormDetail({ contentId, contentNum, crfFormType }) {\r\n    let pathName = ''\r\n    switch (crfFormType) {\r\n        case 2:\r\n            pathName = 'get_demographic_crf'//人口学资料\r\n            break;\r\n        case 3:\r\n            pathName = 'get_medical_history_crf'//病史或不良嗜好\r\n            break;\r\n        case 4:\r\n            pathName = 'get_complication_crf'//并发症评估\r\n            break;\r\n        case 5:\r\n            pathName = 'get_vital_sign_crf'//生命特征\r\n            break;\r\n        case 6:\r\n            pathName = 'get_physical_other_crf'//其他体格检查\r\n            break;\r\n        case 7:\r\n        case 20:\r\n            pathName = 'get_laboratory_crf'//实验室检查\r\n            break;\r\n        case 8:\r\n            pathName = 'get_tolerance_crf'//混合餐耐量量试验\r\n            break;\r\n        case 9:\r\n            pathName = 'get_ecg_crf'//心电图\r\n            break;\r\n        case 10:\r\n            pathName = 'get_doppler_cervical_vessel_crf'//颈部大血管多普勒\r\n            break;\r\n        case 11:\r\n            pathName = 'get_doppler_lower_artery_crf'//双下肢动脉彩超\r\n            break;\r\n        case 12:\r\n            pathName = 'get_ophthalmology_crf'//眼科检查\r\n            break;\r\n        case 13:\r\n            pathName = 'get_abi_crf'//踝肱动脉压指数\r\n            break;\r\n        case 14:\r\n            pathName = 'get_doppler_belly_crf'//腹部彩超\r\n            break;\r\n        case 15:\r\n            pathName = 'get_csii_crf'//CSII\r\n            break;\r\n        case 16:\r\n        case 19:\r\n            pathName = 'get_blood_sugar_crf'//血糖信息\r\n            break;\r\n        case 17:\r\n            pathName = 'get_special_event_crf'//特殊事件记录\r\n            break;\r\n        case 18:\r\n        case 21:\r\n        case 22:\r\n        case 23:\r\n            pathName = 'get_other_report_crf'//其它信息记录\r\n            break;\r\n\r\n    }\r\n    return request({\r\n        url: `${SERVER_NAME}/crf/${pathName}`,\r\n        method: \"post\",\r\n        data: {\r\n            contentId,\r\n            contentNum\r\n        }\r\n    })\r\n}\r\n\r\n\r\n//编辑/添加crf表单\r\nexport function setCrfForm(data, formType) {\r\n    let pathName = ''\r\n    switch (formType) {\r\n        case 2:\r\n            pathName = 'save_demographic_crf'//人口学资料\r\n            break;\r\n        case 3:\r\n            pathName = 'save_medical_history_crf'//病史或不良嗜好\r\n            break;\r\n        case 4:\r\n            pathName = 'save_complication_crf'//并发症评估\r\n            break;\r\n        case 5:\r\n            pathName = 'save_vital_sign_crf'//生命特征\r\n            break;\r\n        case 6:\r\n            pathName = 'save_physical_other_crf'//其他体格检查\r\n            break;\r\n        case 7:\r\n        case 20:\r\n            pathName = 'save_laboratory_crf'//实验室检查\r\n            break;\r\n        case 8:\r\n            pathName = 'save_tolerance_crf'//混合餐耐量量试验\r\n            break;\r\n        case 9:\r\n            pathName = 'save_ecg_crf'//心电图\r\n            break;\r\n        case 10:\r\n            pathName = 'save_doppler_cervical_vessel_crf'//颈部大血管多普勒\r\n            break;\r\n        case 11:\r\n            pathName = 'save_doppler_lower_artery_crf'//双下肢动脉彩超\r\n            break;\r\n        case 12:\r\n            pathName = 'save_ophthalmology_crf'//眼科检查\r\n            break;\r\n        case 13:\r\n            pathName = 'save_abi_crf'//踝肱动脉压指数\r\n            break;\r\n        case 14:\r\n            pathName = 'save_doppler_belly_crf'//腹部彩超\r\n            break;\r\n        case 15:\r\n            pathName = 'save_csii_crf'//CSII\r\n            break;\r\n        case 16:\r\n        case 19:\r\n            pathName = 'save_blood_sugar_crf'//血糖信息\r\n            break;\r\n        case 17:\r\n            pathName = 'save_special_event_crf'//特殊事件记录\r\n            break;\r\n        case 18:\r\n        case 21:\r\n        case 22:\r\n        case 23:\r\n            pathName = 'save_other_report_crf'//其它信息记录\r\n            break;\r\n    }\r\n    return request({\r\n        url: `${SERVER_NAME}/crf/${pathName}`,\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n\r\nexport function searchCrf(data) {\r\n    return request({\r\n        url: `${SERVER_NAME}/crf/contents_with_crf`,\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\n//为用户追加节点\r\nexport function addProNode({\r\n    programId,\r\n    nodeId\r\n}) {\r\n    return request({\r\n        url: `${SERVER_NAME}/program/doctor/add_user_program_node`,\r\n        method: 'get',\r\n        params: {\r\n            programId,\r\n            nodeId\r\n        }\r\n    })\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Button, Table, message } from 'antd';\r\nimport { withRouter } from 'react-router-dom'\r\nimport PickForm from '../../../components/Crf_form/index.jsx';\r\nimport CrfFormNode from '../../../components/CrfFormNode'\r\nimport { getPatientPlan } from '../../../apis/plan';\r\nimport moment from 'moment';\r\nimport { switchEnum } from '../../../utils/enum'\r\nimport { getCrfFormDetail, setCrfForm, searchCrf } from '../../../apis/crf'\r\n\r\nclass Followup extends Component {\r\n    state = {\r\n        pageState: true,//页面初始状态（包含列表显示和输入）\r\n        patientPlan: {},\r\n        curPro: {},\r\n        nodeKey: \"0\",\r\n        disabled: false,\r\n        canSave: false,//可保存标识（表单中任一字段改变了即为true）\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.actionGetPatientPlan(this.props.patientId, 1)\r\n\r\n        this.actionSearchCrf(this.props.patientId)\r\n    }\r\n\r\n    handleInputPage() {\r\n        this.setState({ pageState: false })\r\n    }\r\n\r\n    //横向步骤条点击\r\n    handleStepClick(iconDot, info) {\r\n        console.log(info)\r\n        //根据每个阶段显示不同的内容\r\n    }\r\n\r\n    handleSubmit(values) {\r\n        console.log('--->', values)\r\n    }\r\n\r\n    selectStep = (activeKey) => {\r\n        this.setState({\r\n            nodeKey: activeKey\r\n        }, () => {\r\n            this.selectPro(this.state.vnodeList[activeKey].crfList[0])\r\n        })\r\n    }\r\n\r\n    selectPro(proData) {\r\n        let { nodeKey, vnodeList } = this.state;\r\n        let { contentNum, crfFormType } = proData;\r\n        getCrfFormDetail({\r\n            contentId: vnodeList[nodeKey].id,\r\n            contentNum,\r\n            crfFormType\r\n        }).then(res => {\r\n            let params = {\r\n                formData: res.data || {},\r\n                canSave: false\r\n            }\r\n            if (proData) {\r\n                params.curPro = proData;\r\n            }\r\n            this.setState(params)\r\n        })\r\n    }\r\n\r\n    haneleSubmit(data) {\r\n        let curPro = this.state.curPro\r\n        let { id, userId, programId, followUpContentId, contentNum, crfFormType } = curPro;\r\n        let other_data = {\r\n            crfId: id,\r\n            userId,\r\n            programId,\r\n            followUpContentId,\r\n            num: contentNum,\r\n            crfType: crfFormType\r\n        }\r\n        if (this.state.formData.id) {\r\n            other_data.id = this.state.formData.id\r\n        }\r\n        data = { ...other_data, ...data }\r\n        this.setState({\r\n            disabled: true\r\n        })\r\n        setCrfForm(data, curPro.crfFormType).then(res => {\r\n            let data = res.data;\r\n            let formData = this.state.formData;\r\n            if (data.id) {\r\n                formData = Object.assign({}, this.state.formData, { id: data.id })\r\n            }\r\n            this.actionSearchCrf(this.props.patientId)\r\n            this.setState({\r\n                disabled: false,\r\n                formData\r\n            })\r\n        }).catch(e => {\r\n            this.setState({\r\n                disabled: false\r\n            })\r\n        })\r\n    }\r\n    handleCancel = () => {\r\n\r\n    }\r\n    setCanSave = (canSave) => {\r\n        this.setState({\r\n            canSave\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 获取患者随访方案\r\n     * @param {*} data \r\n     */\r\n    async actionGetPatientPlan(patientId, type) {\r\n        let patientPlan = await getPatientPlan(patientId, type)\r\n        if (patientPlan) {\r\n            this.setState({\r\n                patientPlan: patientPlan.data || {}\r\n            })\r\n        }\r\n    }\r\n\r\n    async actionSearchCrf(patientId) {\r\n        let search = await searchCrf({ patientId })\r\n        let data = search.data;\r\n        let proId = '';\r\n        if (data) {\r\n            this.setState({\r\n                canSave: false,\r\n                userInfo: data.userTopicInfo,\r\n                vnodeList: data.contentCrfList\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { pageState, patientPlan, nodeKey, vnodeList, curPro } = this.state\r\n        let list = patientPlan.list || []\r\n\r\n        const columns = [{\r\n            title: \"状态\",\r\n            align: \"center\",\r\n            width: \"100px\",\r\n            key: \"status\",\r\n            render: row => {\r\n                if (row.status === 1) {\r\n                    return <i className=\"green\"></i>\r\n                } else if (row.status === 2) {\r\n                    return <i className=\"red\"></i>\r\n                } else {\r\n                    return <i className=\"grey\"></i>\r\n                }\r\n            }\r\n        }, {\r\n            title: \"序号\",\r\n            dataIndex: \"num\",\r\n            align: \"center\",\r\n            width: \"150px\",\r\n            key: \"num\"\r\n        }, {\r\n            title: \"时间\",\r\n            align: \"center\",\r\n            width: \"150px\",\r\n            key: \"startTime\",\r\n            render: row => moment(row.startDate).format(\"YY-MM-DD\")\r\n        }, {\r\n            title: \"节点名称\",\r\n            dataIndex: \"name\",\r\n            align: \"center\",\r\n            width: \"200px\",\r\n            key: \"name\"\r\n        }, {\r\n            title: \"地点\",\r\n            align: \"center\",\r\n            width: \"150px\",\r\n            render: row => {\r\n                if (row.site) {\r\n                    return switchEnum(row.site, 'site')\r\n                }\r\n                return '--'\r\n            }\r\n        }, {\r\n            title: \"内容\",\r\n            dataIndex: \"content\",\r\n            align: \"center\",\r\n            key: \"content\"\r\n        }, {\r\n            title: \"操作\",\r\n            align: \"center\",\r\n            width: \"150px\",\r\n            render: row => {\r\n                if (patientPlan.category === 1) {\r\n                    return (<Button disabled={this.props.onlyRead} onClick={this.handleInputPage.bind(this)}>待录入</Button>)\r\n                }\r\n                return \"--\"\r\n            }\r\n        }]\r\n\r\n        const header = () => (\r\n            <header>\r\n                <span style={{ marginRight: \"100px\" }}>随访类型：<strong>{patientPlan.name}</strong></span>开始时间：<strong>{patientPlan.categoryTime}</strong>\r\n            </header>\r\n        )\r\n        //随访列表\r\n        const stepPage = () => (\r\n            <Table\r\n                dataSource={list}\r\n                columns={columns}\r\n                bordered\r\n                rowKey={record => record.num}\r\n                pagination={false}\r\n                title={() => header()}\r\n            />\r\n        )\r\n\r\n        //随访录入\r\n        const inputPage = () => (\r\n            <div className=\"input-page\">\r\n                <CrfFormNode list={vnodeList} activeFormId={curPro.id} activeKey={nodeKey} selectStep={this.selectStep.bind(this)} selectPro={this.selectPro.bind(this)}></CrfFormNode>\r\n                {\r\n                    this.state.formData ? <div>\r\n                        <PickForm formData={this.state.formData} name={this.state.curPro.crfFormType} disabled={this.state.disabled} canSave={this.state.canSave} setCanSave={this.setCanSave} onCancel={this.handleCancel.bind(this)} onSubmit={this.haneleSubmit.bind(this)}></PickForm>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n\r\n        return (\r\n            <div className=\"tab1\">\r\n                {pageState ? stepPage() : inputPage()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Followup)","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {Button,Tabs} from 'antd'\r\nimport PageHeader from '../../components/PageHeader';\r\nimport {DataTable,DataChart,Measurement,BaseInfo,MedicalRecord,Followup} from './components/index'\r\nimport { findPatient} from '../../apis/relation';\r\nimport {getQueryString, setLocal, getLocal,buttonAuth} from '../../utils/index';\r\nimport {getButton} from '../../apis/user'\r\nimport moment from 'moment'\r\n\r\nimport \"./styles/archives.css\"\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\n\r\nclass Plan extends Component {\r\n  state={\r\n    tab2PageType:\"chart\",\r\n    patientId:0,\r\n    patientInfo:{},\r\n    currentType:\"1\",\r\n    buttonKey:[]\r\n  }\r\n\r\n  componentWillMount(){\r\n    let patientId = this.props.patientId || parseInt(getQueryString('id',this.props.location.search)) || this.props.patientId\r\n    //点击“警”默认进去综合视图\r\n    let archivesTab =getQueryString('tab',this.props.location.search) ||  getLocal('archivesTab') || \"1\"\r\n    if(patientId){\r\n      this.setState({patientId,currentType:archivesTab})\r\n      this.actionFindPatient({patientId})\r\n    }\r\n    this.actionGetButton({pageId:2})\r\n  }\r\n\r\n  //切换显示项目\r\n  handleTabsCallback(value){\r\n    setLocal('archivesTab',value.toString())\r\n  }\r\n\r\n  handleTab2ChangePageType(type){\r\n    this.setState({tab2PageType:type})\r\n  }\r\n\r\n  handleHeaderBack(){\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  //基本信息更新成功\r\n  handleUpdateSuccess(){\r\n    let {patientId} = this.state\r\n    this.actionFindPatient({patientId})\r\n  }\r\n\r\n  //跳转到聊天\r\n  handleJumpToChat(){\r\n    let {patientId} = this.state\r\n    this.props.history.push('/chat?id='+patientId)\r\n  }\r\n\r\n  /**\r\n   * 患者信息\r\n   * @param {*} data \r\n   */\r\n  async actionFindPatient(data){\r\n    let patient = await findPatient(data)\r\n    this.setState({patientInfo:patient.data || {}})\r\n  }\r\n\r\n  //页面按钮权限\r\n  async actionGetButton(){\r\n    let buttons = await getButton({pageId:2})\r\n    let buttonList = buttons.data.buttons\r\n    let buttonKey = buttonList.map(item => item.buttonKey)\r\n    this.setState({buttonKey})\r\n  }\r\n\r\n  render() {\r\n    const {tab2PageType,patientId,patientInfo,currentType,buttonKey} = this.state;\r\n    \r\n    const userBaseInfo = () =>(\r\n      <div className=\"base-info\">\r\n        <i className=\"avatar\">\r\n          <img src={patientInfo.headUrl || 'http://c.hiphotos.baidu.com/image/pic/item/a5c27d1ed21b0ef4b9e8896ad3c451da81cb3e85.jpg'} alt='头像'/>\r\n        </i>\r\n        <i className=\"name\">{patientInfo.realName}</i>\r\n        {patientInfo.sex?<i className='gender'>{patientInfo.sex}</i>:null}\r\n        <i>{patientInfo.age}岁</i>\r\n        <i>{patientInfo.mobile}</i>\r\n        <i>{patientInfo.groupName || ''}</i>\r\n        <i>{patientInfo.subGroupName || ''}</i>\r\n        {patientInfo.patientNo?<i>编号：{patientInfo.patientNo}</i>:null}\r\n        <i>入组时间：{moment(patientInfo.enterGroupTime).format('YYYY-MM-DD')}</i>\r\n        {buttonAuth(buttonKey,'sendMsg',<Button type=\"primary\" onClick={this.handleJumpToChat.bind(this)}>发消息</Button>)}\r\n      </div>\r\n    )\r\n\r\n    const tab2 = () => (\r\n      <div className='tab2'>\r\n        <div className='tab2-header'>\r\n            {tab2PageType === 'chart'?(\r\n              <Button type=\"primary\" onClick={this.handleTab2ChangePageType.bind(this,'table')}>测量数据表</Button>\r\n            ):(\r\n              <Button type=\"primary\" onClick={this.handleTab2ChangePageType.bind(this,'chart')}>趋势图</Button>\r\n            )}\r\n        </div>\r\n        {tab2PageType === 'chart' ? <DataChart patientId={patientId}/> : <DataTable patientId={patientId} />}\r\n      </div>\r\n    )\r\n    return (\r\n      <div className=\"archives-wrap\">\r\n        <PageHeader title=\"患者档案\" onBack={this.handleHeaderBack.bind(this)}/>\r\n        {userBaseInfo()}\r\n        <Tabs \r\n          defaultActiveKey={currentType} \r\n          onChange={this.handleTabsCallback.bind(this)}\r\n          type=\"card\"\r\n        >\r\n          {buttonAuth(buttonKey,'getPatientFollow',<TabPane tab=\"随访管理\" key=\"1\"><Followup patientId={patientId}/></TabPane>)}\r\n          {buttonAuth(buttonKey,'getPatientDeviceData',<TabPane tab=\"综合视图\" key=\"2\">{tab2()}</TabPane>)}\r\n          {buttonAuth(buttonKey,'findTreatmentRecord',<TabPane tab=\"诊疗记录\" key=\"3\"><MedicalRecord patientId={patientId}/></TabPane>)}\r\n          {buttonAuth(buttonKey,'getPatientMeasure',<TabPane tab=\"测量管理\" key=\"4\"><Measurement patientId={patientId}/></TabPane>)}\r\n          {buttonAuth(buttonKey,'getDoctorPatient',<TabPane tab=\"基本信息\" key=\"5\"><BaseInfo patientInfo={patientInfo} onUpdateSuccess={this.handleUpdateSuccess.bind(this)}/></TabPane>)}\r\n        </Tabs>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Plan)","import React, { Component } from 'react';\r\nimport { Tabs, Button, Table } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PageHeader from '../../components/PageHeader';\r\nimport { planList } from '../../apis/plan';\r\nimport moment from 'moment';\r\nimport { switchEnum } from '../../utils/enum'\r\nimport{setLocal,getLocal,buttonAuth} from '../../utils/index'\r\nimport {getButton} from '../../apis/user'\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass Plan extends Component {\r\n  state = {\r\n    followUpPlanData: [],\r\n    educationMaterialsData: [],\r\n    measurementSchemeData: [],\r\n    currentTabKey: \"1\",\r\n    tabLoading: false,\r\n    buttonKey:[]\r\n  }\r\n\r\n  componentWillMount() {\r\n    let type =  getLocal('planTab') || this.state.currentTabKey\r\n    this.actionPlanList({ type:+type})\r\n    this.actionGetButton({pageId:3})\r\n  }\r\n\r\n  /**\r\n   * 标签切换回调\r\n   */\r\n  handleTabsCallback(key) {\r\n    this.actionPlanList({ type: parseInt(key) })\r\n    this.setState({ currentTabKey: key })\r\n    setLocal('planTab',key)\r\n  }\r\n\r\n  /**\r\n   * 查看、编辑方案\r\n   * @param {*} id \r\n   */\r\n  handlePageEdit(id) {\r\n    const currentTabKey = getLocal('planTab') ||  this.state.currentTabKey\r\n    if (parseInt(currentTabKey) === 1) {\r\n      this.props.history.push(`/plan/followup?id=${id}`)\r\n    } else if (parseInt(currentTabKey) === 3) {\r\n      this.props.history.push(`/plan/measurement?id=${id}`)\r\n    }\r\n  }\r\n\r\n  handleAddPlan() {\r\n    const currentTabKey = getLocal('planTab') ||  this.state.currentTabKey\r\n    if (parseInt(currentTabKey) === 1) {\r\n      this.props.history.push('/plan/followup')\r\n    } else if (parseInt(currentTabKey) === 3) {\r\n      this.props.history.push('/plan/measurement')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 方案列表\r\n   * @param {*} data \r\n   */\r\n  async actionPlanList(data) {\r\n    this.setState({ tabLoading: true })\r\n    let list = await planList({ ...data, category: 2 })\r\n    this.setState({ tabLoading: false })\r\n    switch (data.type) {\r\n      case 1:\r\n        this.setState({ followUpPlanData: list.data });\r\n        break;\r\n      case 2:\r\n        this.setState({ educationMaterialsData: list.data });\r\n        break;\r\n      case 3:\r\n        this.setState({ measurementSchemeData: list.data })\r\n        break\r\n      default:\r\n        return\r\n    }\r\n  }\r\n\r\n  //页面按钮权限\r\n  async actionGetButton(data){\r\n    let buttons = await getButton(data)\r\n    let buttonList = buttons.data.buttons\r\n    let buttonKey = buttonList.map(item => item.buttonKey)\r\n    this.setState({buttonKey})\r\n  }\r\n\r\n  render() {\r\n    const { followUpPlanData, educationMaterialsData, measurementSchemeData, tabLoading ,buttonKey} = this.state;\r\n    let currentTabKey =  getLocal('planTab') || this.state.currentTabKey\r\n    const followUpPlanColumns = [{\r\n      title: '序号',\r\n      render:(row,record,index)=>index+1\r\n    }, {\r\n      title: '方案名称',\r\n      dataIndex: 'name',\r\n    }, {\r\n      title: '开始时间',\r\n      render: row => {\r\n        return `${switchEnum(row.timeCategory, 'timeCategory')}`\r\n      }\r\n    }, {\r\n      title: '创建时间',\r\n      render: row => (moment(row.created).format('YYYY-MM-DD HH:mm'))\r\n    }, {\r\n      title: '操作',\r\n      render: row => (<span className=\"edit-btn\" onClick={this.handlePageEdit.bind(this, row.id)}>查看</span>)\r\n    }]\r\n\r\n    const educationMaterialsColumns = [{\r\n      title: \"序号\",\r\n      render:(row,record,index)=>index+1\r\n    }, {\r\n      title: \"方案名称\",\r\n      dataIndex: \"name\"\r\n    }, {\r\n      title: \"创建时间\",\r\n      dataIndex: \"createdTime\",\r\n    }, {\r\n      title: \"操作\",\r\n      render: row => (<span className=\"edit-btn\" onClick={this.handlePageEdit.bind(this, row.id)}>查看</span>)\r\n    }]\r\n\r\n    const measurementSchemeColumns = [{\r\n      title: '序号',\r\n      render:(row,record,index)=>index+1\r\n    }, {\r\n      title: '方案名称',\r\n      dataIndex: 'name',\r\n    }, {\r\n      title: '执行周期',\r\n      render:row=>switchEnum(row.periodicTime,'periodicTime')\r\n    }, {\r\n      title: '创建时间',\r\n      render: row => (moment(row.created).format('YYYY-MM-DD HH:mm'))\r\n    }, {\r\n      title: '操作',\r\n      render: row => (<span className=\"edit-btn\" onClick={this.handlePageEdit.bind(this, row.id)}>查看</span>)\r\n    }]\r\n\r\n    const Tab1 = () => (\r\n      <Table\r\n        columns={followUpPlanColumns}\r\n        dataSource={followUpPlanData}\r\n        rowKey={record => record.id}\r\n        loading={tabLoading}\r\n        bordered\r\n        footer={buttonAuth(buttonKey,'follow_manange',()=><Button type=\"primary\" onClick={this.handleAddPlan.bind(this)}>添加</Button>)}\r\n      />\r\n    )\r\n\r\n    const Tab2 = () => (\r\n      <Table\r\n        columns={educationMaterialsColumns}\r\n        dataSource={educationMaterialsData}\r\n        rowKey={record => record.id}\r\n        bordered\r\n      />\r\n    )\r\n\r\n    const Tab3 = () => (\r\n      <Table\r\n        columns={measurementSchemeColumns}\r\n        dataSource={measurementSchemeData}\r\n        rowKey={record => record.id}\r\n        bordered\r\n        loading={tabLoading}\r\n        footer={buttonAuth(buttonKey,'measure_manange',()=><Button type=\"primary\" onClick={this.handleAddPlan.bind(this)}>添加</Button>)}\r\n      />\r\n    )\r\n\r\n    return (\r\n      <div className=\"plan\">\r\n        <PageHeader title='方案管理' />\r\n        <Tabs\r\n          defaultActiveKey={currentTabKey}\r\n          onChange={this.handleTabsCallback.bind(this)}\r\n          animated={false}\r\n          type=\"card\"\r\n        >\r\n          {buttonAuth(buttonKey,'follow_manange',<TabPane tab=\"随访方案\" key=\"1\">{Tab1()}</TabPane>)}\r\n          {/* <TabPane tab=\"宣教资料\" key=\"2\">{Tab2()}</TabPane> */}\r\n          {buttonAuth(buttonKey,'measure_manange',<TabPane tab=\"测量方案\" key=\"3\">{Tab3()}</TabPane>)}\r\n        </Tabs>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Plan)","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {Row,Col,Input,Form,Select,Button,Table,Icon,Upload} from 'antd';\r\nimport {formItemLayoutTitle} from '../../utils/formItemLayout';\r\nimport {createFollowUpPlan} from '../../apis/plan'\r\n// 引入编辑器组件\r\nimport BraftEditor from 'braft-editor'\r\n// 引入编辑器样式\r\nimport 'braft-editor/dist/index.css'\r\nimport './styles/edit.css'\r\n\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nclass Plan extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    console.log()\r\n  }\r\n  state = {\r\n    currentTabKey:this.props.location.state.currentTabKey,\r\n    tab1Data:[],\r\n    tab1EditDisable:true,\r\n    tab2EditDisable:true,\r\n    editorState: BraftEditor.createEditorState(null),\r\n    tab3EditDisable:true,\r\n    tab3Data:[{\r\n      id:1,\r\n      name:\"血压测量\",\r\n      times:\"一日三次\"\r\n    }]\r\n  }\r\n\r\n  componentWillMount(){\r\n    let pageState = this.props.location.state\r\n    if(pageState.id){\r\n      //编辑\r\n\r\n    }else{\r\n      //添加\r\n      this.setState({\r\n\r\n      })\r\n    }\r\n  }\r\n\r\n  //编辑tab1\r\n  handleEditTab1(){\r\n    this.setState({tab1EditDisable:false})\r\n  }\r\n  \r\n  //取消编辑tab1\r\n  handleCancelEditTab1(){\r\n    this.setState({tab1EditDisable:true})\r\n  }\r\n\r\n  //删除tab1\r\n  handleDeleteTab1(){\r\n    console.log('删除tab1')\r\n  }\r\n  //增加项目\r\n  handleAddItemTab1(){\r\n    let {tab1Data} = this.state\r\n    let defaultRow = {id:1,key:1,time:3,nodeName:\"\",address:\"\",content:\"\"}\r\n    tab1Data.push(defaultRow)\r\n    this.setState({tab1Data})\r\n  }\r\n\r\n  handleEditTab2(){\r\n    this.setState({tab2EditDisable:false})\r\n  }\r\n\r\n  handleDeleteTab2(){\r\n\r\n  }\r\n\r\n  handleCancelEditTab2(){\r\n    this.setState({tab2EditDisable:true})\r\n  }\r\n\r\n  handleContentsChangeTab2(value){\r\n    console.log(value.toHTML())\r\n  }\r\n\r\n  handleEditTab3(){\r\n    this.setState({tab3EditDisable:false})\r\n  }\r\n\r\n  handleDeleteTab3(){\r\n    this.setState({tab3EditDisable:true})\r\n  }\r\n\r\n  handleAddItemTab3(){\r\n    let {tab3Data} = this.state\r\n    let defaultRow = {id:1,name:1,times:3}\r\n    tab3Data.push(defaultRow)\r\n    this.setState({tab3Data})\r\n  }\r\n\r\n  /**\r\n   * 创建随访计划\r\n   */\r\n  async actionCreateFollowUpPlan(data){\r\n    let followUpPlan =await  createFollowUpPlan(data)\r\n    console.log(followUpPlan)\r\n  }\r\n\r\n  render() {\r\n    const {currentTabKey,tab1Data,tab1EditDisable,tab2EditDisable,editorState,tab3EditDisable,tab3Data} = this.state\r\n    const excludeControls=[\"media\"]\r\n    const extendControls = [\r\n      {\r\n        key: 'antd-uploader',\r\n        type: 'component',\r\n        component: (\r\n          <Upload\r\n            accept=\"image/*\"\r\n            showUploadList={false}\r\n            customRequest={this.uploadHandler}\r\n          >\r\n            {/* 这里的按钮最好加上type=\"button\"，以避免在表单容器中触发表单提交，用Antd的Button组件则无需如此 */}\r\n            <button type=\"button\" className=\"control-item button upload-button\" data-title=\"插入图片\">\r\n              <Icon type=\"picture\" theme=\"filled\" />&nbsp;插入图片\r\n            </button>\r\n          </Upload>\r\n        )\r\n      }\r\n    ]\r\n    //随访方案表头\r\n    const tab1Columns = [{\r\n      title:\"序号\",\r\n      dataIndex:\"id\",\r\n      key:\"id\"\r\n    },{\r\n      title:\"时间\",\r\n      render:row=>{\r\n        const selectTimeUnit = () => (\r\n          <Select defaultValue=\"天\" disabled={tab1EditDisable}>\r\n            <Option value=\"day\">天</Option>\r\n            <Option value=\"week\">周</Option>\r\n            <Option value=\"month\">月</Option>\r\n          </Select> \r\n        )\r\n        return(\r\n          <Input \r\n            addonBefore=\"首诊后\" \r\n            addonAfter={selectTimeUnit()} \r\n            style={{width:\"250px\"}}\r\n            disabled={tab1EditDisable}\r\n          />\r\n        )\r\n      }\r\n    },{\r\n      title:\"节点名称\",\r\n      render:row=>(<Input value={row.nodeName} disabled={tab1EditDisable}/>)\r\n    },{\r\n      title:\"地点\",\r\n      render:row=>(<Input value={row.address} disabled={tab1EditDisable}/>)\r\n    },{\r\n      title:\"内容\",\r\n      render:row=>(<Input value={row.content} disabled={tab1EditDisable}/>)\r\n    }]\r\n\r\n    //测量方案表头\r\n    const tab3Columns = [{\r\n      title:\"序号\",\r\n      dataIndex:\"id\",\r\n      key:\"id\"\r\n    },{\r\n      title:\"测量类型名称\",\r\n      render:row=>(\r\n        <Select defaultValue=\"1\" style={{ width: 150 }} disabled={tab3EditDisable}>\r\n          <Option key=\"1\">血压</Option>\r\n          <Option key=\"2\">血糖</Option>\r\n          <Option key=\"3\">体重</Option>\r\n        </Select>\r\n      )\r\n    },{\r\n      title:\"测量频次\",\r\n      render:row=>(\r\n        <Select defaultValue=\"1\" style={{ width: 150 }} disabled={tab3EditDisable}>\r\n          <Option key=\"1\">一日三次</Option>\r\n        </Select>\r\n      )\r\n    }]\r\n\r\n    //随访方案\r\n    const tab1Contents = () => (\r\n      <div className=\"edit-wrap\">\r\n        <div className='title-wrap'>\r\n          <Row>\r\n            <Col span={6}>\r\n              <FormItem {...formItemLayoutTitle} label={<strong>随访方案</strong>}>\r\n                <Input value=\"随访方案名称\" disabled={tab1EditDisable}/>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span={6}>\r\n              <FormItem {...formItemLayoutTitle} label={<strong>开始时间</strong>}>\r\n                <Select defaultValue=\"lucy\" style={{ width: 150 }} disabled={tab1EditDisable}>\r\n                  <Option value=\"jack\">首诊</Option>\r\n                  <Option value=\"lucy\">就诊</Option>\r\n                  <Option value=\"disabled\">出院</Option>\r\n                  <Option value=\"Yiminghe\">结束治疗</Option>\r\n                </Select>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span={6}> \r\n              <FormItem>\r\n                <Button \r\n                type={tab1EditDisable ? \"primary\":\"danger\"} \r\n                onClick={tab1EditDisable ? this.handleEditTab1.bind(this):this.handleDeleteTab1.bind(this)}\r\n              >{tab1EditDisable ? \"编辑\":\"删除\"}</Button>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table dataSource={tab1Data} columns={tab1Columns} pagination={false}/>\r\n        \r\n        <div className='add-btn-icon'>\r\n          {tab1EditDisable?null:<Icon type=\"plus-circle\" onClick={this.handleAddItemTab1.bind(this)}/>}\r\n        </div>\r\n        <div className=\"save-btn-wrap\">\r\n          {tab1EditDisable?null:(\r\n            <div>\r\n              <Button className=\"save-btn\" type=\"primary\">保存</Button>\r\n              <Button onClick={this.handleCancelEditTab1.bind(this)}>取消</Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n    //宣教资料\r\n    const tab2Contents = () => (\r\n      <div className=\"edit-wrap\">\r\n        <div className='title-wrap'>\r\n          <Row>\r\n            <Col span={6}>\r\n              <FormItem {...formItemLayoutTitle} label={<strong>宣教方案</strong>}>\r\n                <Input value=\"宣教方案名称\" disabled={tab2EditDisable}/>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span={6}> \r\n              <FormItem>\r\n                <Button \r\n                type={tab2EditDisable ? \"primary\":\"danger\"} \r\n                onClick={tab2EditDisable ? this.handleEditTab2.bind(this):this.handleDeleteTab2.bind(this)}\r\n              >{tab2EditDisable ? \"编辑\":\"删除\"}</Button>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <div className=\"tab2-contents\">\r\n          <BraftEditor \r\n            excludeControls={excludeControls}\r\n            extendControls={extendControls}\r\n            onChange={this.handleContentsChangeTab2.bind(this)}\r\n            value={editorState}\r\n          />\r\n        </div>\r\n        <div className=\"save-btn-wrap\">\r\n          {tab2EditDisable?null:(\r\n            <div>\r\n              <Button className=\"save-btn\" type=\"primary\">保存</Button>\r\n              <Button onClick={this.handleCancelEditTab2.bind(this)}>取消</Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n\r\n    //测量方案\r\n    const tab3Contents = () => (\r\n      <div className=\"edit-wrap\">\r\n        <div className='title-wrap'>\r\n          <Row>\r\n            <Col span={6}>\r\n              <FormItem {...formItemLayoutTitle} label={<strong>测量方案</strong>}>\r\n                <Input value=\"测量方案名称\" disabled={tab3EditDisable}/>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span={6}>\r\n              <FormItem {...formItemLayoutTitle} label={<strong>执行周期</strong>}>\r\n                <span>三个月</span>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span={6}> \r\n              <FormItem>\r\n                <Button \r\n                type={tab3EditDisable ? \"primary\":\"danger\"} \r\n                onClick={tab3EditDisable ? this.handleEditTab3.bind(this):this.handleDeleteTab3.bind(this)}\r\n              >{tab3EditDisable ? \"编辑\":\"删除\"}</Button>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table dataSource={tab3Data} columns={tab3Columns} pagination={false}/>\r\n        <div className='add-btn-icon'>\r\n          {tab3EditDisable?null:<Icon type=\"plus-circle\" onClick={this.handleAddItemTab3.bind(this)}/>}\r\n        </div>\r\n        <div className=\"save-btn-wrap\">\r\n          {tab3EditDisable?null:(\r\n            <div>\r\n              <Button className=\"save-btn\" type=\"primary\">保存</Button>\r\n              <Button onClick={this.handleCancelEditTab1.bind(this)}>取消</Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n\r\n    const contents = {\r\n      \"1\":tab1Contents(),\r\n      \"2\":tab2Contents(),\r\n      \"3\":tab3Contents()\r\n    }\r\n    return (\r\n      <>{contents[currentTabKey]}</>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Plan)","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Row, Col, Input, Form, Select, Button, Table, Icon, message } from 'antd';\r\nimport { formItemLayoutTitle } from '../../utils/formItemLayout';\r\nimport { createFollowUpPlan, updateFollowUpPlan, planDetail } from '../../apis/plan'\r\nimport PageHeader from '../../components/PageHeader';\r\nimport { enumObj, switchEnum } from '../../utils/enum';\r\nimport { setArrayItem, deleteTableItem, getQueryString } from '../../utils/index';\r\nimport {isTwoNumber} from '../../utils/validate'\r\nimport './styles/edit.css'\r\n\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nclass Plan extends Component {\r\n  state = {\r\n    tab1Data: [{ key: 1, num: 1, timeType: 1, nodeName: \"\", site: 1, content: \"\", planTime: \"\" }],\r\n    defaultKey: 1,\r\n    name: \"\",\r\n    timeCategory: 1,\r\n    timeType: 1,\r\n    submitLoading: false,\r\n    tableLoading: false,\r\n    programId: null\r\n  }\r\n\r\n  componentWillMount() {\r\n    let id = getQueryString('id', this.props.location.search)\r\n    if (id) {\r\n      //编辑\r\n      this.actionPlanDetail(id)\r\n      this.setState({ pageType: \"编辑\", programId: id })\r\n      return\r\n    }\r\n    //添加\r\n    this.setState({ pageType: \"添加\" })\r\n  }\r\n\r\n  //增加项目\r\n  handleAddItemTab1() {\r\n    let { tab1Data, defaultKey } = this.state\r\n    defaultKey++\r\n    let defaultRow = { key: defaultKey, num: defaultKey, timeType: 1, nodeName: \"\", site: 1, content: \"\", planTime: \"\" }\r\n    tab1Data.push(defaultRow)\r\n    this.setState({ tab1Data, defaultKey })\r\n  }\r\n\r\n  handleCancelEditTab1() {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  //标题\r\n  handleInputTitle(e) {\r\n    let value = e.target.value\r\n    this.setState({ name: value })\r\n  }\r\n\r\n  //开始时间\r\n  handleSelectTimeCate(value) {\r\n    this.setState({ timeCategory: parseInt(value) })\r\n  }\r\n\r\n  /**\r\n   * 输入数据\r\n   * @param {*} name 字段名\r\n   * @param {*} key 行号\r\n   * @param {*} e \r\n   */\r\n  handleTableInput(name, key, e) {\r\n    //console.log(e.target)\r\n    \r\n    let tableData = this.state.tab1Data;\r\n    let value = e.target.value;\r\n\r\n    //增加planTime格式判断\r\n    if(name === 'planTime'){\r\n      if(isTwoNumber(value)){\r\n        let newTable = setArrayItem(tableData, key, name, value)\r\n        this.setState({ tab1Data: newTable })\r\n      }\r\n      return\r\n    }\r\n\r\n    // if(name === 'nodeName'){\r\n    //   if(value.trim().length <= 10){\r\n    //     let newTable = setArrayItem(tableData, key, name, value)\r\n    //     this.setState({ tab1Data: newTable })\r\n    //   }\r\n    //   return\r\n    // }\r\n\r\n    // if(name === 'content'){\r\n    //   if(value.trim().length <= 30){\r\n    //     let newTable = setArrayItem(tableData, key, name, value)\r\n    //     this.setState({ tab1Data: newTable })\r\n    //   }\r\n    //   return\r\n    // }\r\n    let newTable = setArrayItem(tableData, key, name, value)\r\n    this.setState({ tab1Data: newTable })\r\n  }\r\n\r\n  handleTableSelect(name, key, value) {\r\n    let tableData = this.state.tab1Data;\r\n    let newTable = setArrayItem(tableData, key, name, value)\r\n    this.setState({ tab1Data: newTable })\r\n  }\r\n\r\n  handleSubmitPlan() {\r\n    let { name, timeCategory, tab1Data, pageType, programId } = this.state;\r\n    let visitList = tab1Data\r\n    for(let i in tab1Data){\r\n      if(tab1Data[i].nodeName.trim().length > 10){\r\n        message.error('节点名称过长')\r\n        return \r\n      }\r\n      if(tab1Data[i].content.trim().length > 30){\r\n        message.error('节点内容过长')\r\n        return\r\n      }\r\n    }\r\n    if (pageType === '编辑') {\r\n      this.actionUpdatePlan({ programId, name, timeCategory, visitList })\r\n      return\r\n    }\r\n    this.actionCreateFollowUpPlan({ name, timeCategory, visitList })\r\n  }\r\n\r\n  handleGoBack() {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  //删除表格某项，并重设序号\r\n  handleDeleteTableItem(num) {\r\n    let table = this.state.tab1Data;\r\n    let newTable = deleteTableItem(table, num)\r\n    let defaultKey = 0\r\n    if (newTable.length > 0) {\r\n      defaultKey = newTable[newTable.length - 1].num\r\n    }\r\n    this.setState({ tab1Data: newTable, defaultKey })\r\n  }\r\n\r\n  /**\r\n   * 创建随访计划\r\n   */\r\n  async actionCreateFollowUpPlan(data) {\r\n    this.setState({submitLoading:true})\r\n    let createPlan = await createFollowUpPlan(data).catch(err => message.error(err.msg))\r\n    if (createPlan && createPlan.code === 200) {\r\n      this.setState({submitLoading:false})\r\n      message.success('创建成功')\r\n      this.props.history.goBack()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 计划明细\r\n   * @param {*} id \r\n   */\r\n  async actionPlanDetail(id) {\r\n    this.setState({ tableLoading: true })\r\n    let detail = await planDetail(id)\r\n    let list = detail.data.list;\r\n    let defaultKey = 1;\r\n    if (list.length > 0) {\r\n      defaultKey = list[list.length - 1].num\r\n    }\r\n\r\n    this.setState({\r\n      tableLoading: false,\r\n      name: detail.data.name,\r\n      timeCategory: detail.data.timeCategory,\r\n      tab1Data: detail.data.list,\r\n      defaultKey //最后一项的序号\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 编辑方案\r\n   * @param {*} data \r\n   */\r\n  async actionUpdatePlan(data) {\r\n    this.setState({ submitLoading: true })\r\n    let update = await updateFollowUpPlan(data).catch(err => message.error(err.msg))\r\n    this.setState({ submitLoading: false })\r\n    if (update && update.code === 200) {\r\n      message.success('编辑成功')\r\n      this.props.history.goBack()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { tab1Data, name, submitLoading, tableLoading, timeCategory } = this.state;\r\n    const timeCateOption = enumObj['timeCategory'].map(item => (\r\n      <Option value={item.key} key={item.key}>{item.value}</Option>\r\n    ))\r\n\r\n    const timeTypeOption = enumObj['timeType'].map(item => (\r\n      <Option value={item.key} key={item.key}>{item.value}</Option>\r\n    ))\r\n\r\n    const siteOption = enumObj['site'].map(item => (\r\n      <Option value={item.key} key={item.key}>{item.value}</Option>\r\n    ))\r\n\r\n    const selectTimeUnit = (row) => (\r\n      <Select defaultValue={1} value={row.timeType} onSelect={this.handleTableSelect.bind(this, 'timeType', row.num)}>\r\n        {timeTypeOption}\r\n      </Select>\r\n    )\r\n\r\n    //随访方案表头\r\n    const tab1Columns = [{\r\n      title: \"序号\",\r\n      render:(row,record,index)=>index+1\r\n    }, {\r\n      title: \"时间\",\r\n      render: row => (\r\n        <Input\r\n          addonBefore={<span>{switchEnum(timeCategory, 'timeCategory')}后</span>}\r\n          addonAfter={selectTimeUnit(row)}\r\n          style={{ width: \"250px\" }}\r\n          value={row.planTime}\r\n          placeholder='2位数字'\r\n          onChange={this.handleTableInput.bind(this, 'planTime', row.num)}\r\n        />\r\n      )\r\n    }, {\r\n      title: \"节点名称\",\r\n      render: row => (<Input placeholder='10字以内' value={row.nodeName} onChange={this.handleTableInput.bind(this, 'nodeName', row.num)}/>)\r\n    }, {\r\n      title: \"地点\",\r\n      render: row => (\r\n        <Select value={parseInt(row.site)} onSelect={this.handleTableSelect.bind(this, 'site', row.num)}>\r\n          {siteOption}\r\n        </Select>\r\n      )\r\n    }, {\r\n      title: \"内容\",\r\n      render: row => (<Input placeholder='30字以内' value={row.content} onChange={this.handleTableInput.bind(this, 'content', row.num)} />)\r\n    }, {\r\n      title: \"操作\",\r\n      render: row => (<span className=\"delete-btn\" onClick={this.handleDeleteTableItem.bind(this, row.num)}>删除</span>)\r\n    }]\r\n\r\n    return (\r\n      <div className=\"edit-wrap\">\r\n        <PageHeader title='随访方案' onBack={this.handleGoBack.bind(this)} />\r\n        <div className='title-wrap'>\r\n          <Row>\r\n            <Col span={6}>\r\n              <FormItem {...formItemLayoutTitle} label={<strong>随访方案名称</strong>}>\r\n                <Input value={name} onChange={this.handleInputTitle.bind(this)} />\r\n              </FormItem>\r\n            </Col>\r\n            <Col span={6}>\r\n              <FormItem {...formItemLayoutTitle} label={<strong>开始时间</strong>}>\r\n                <Select value={timeCategory} style={{ width: 150 }} onSelect={this.handleSelectTimeCate.bind(this)}>\r\n                  {timeCateOption}\r\n                </Select>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Table\r\n          dataSource={tab1Data}\r\n          columns={tab1Columns}\r\n          pagination={false}\r\n          rowKey={record => record.num}\r\n          loading={tableLoading}\r\n          bordered\r\n          footer={() => (<Button type=\"primary\" onClick={this.handleAddItemTab1.bind(this)}><Icon type=\"plus\" />增加一行</Button>)}\r\n        />\r\n\r\n        <div className=\"save-btn-wrap\">\r\n          <Button className=\"save-btn\" loading={submitLoading} type=\"primary\" onClick={this.handleSubmitPlan.bind(this)}>保存</Button>\r\n          <Button onClick={this.handleCancelEditTab1.bind(this)}>取消</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Plan)","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {Row,Col,Input,Form,Select,Button,Table,Icon,Upload, message} from 'antd';\r\nimport {formItemLayoutTitle} from '../../utils/formItemLayout';\r\nimport {createMeasurementPlan,planDetail,updateMeasurementPlan} from '../../apis/plan';\r\nimport PageHeader from '../../components/PageHeader';\r\nimport {enumObj, switchEnum} from '../../utils/enum';\r\nimport {setArrayItem,deleteTableItem,getQueryString} from '../../utils/index';\r\nimport {isMeasureTypeFull} from '../../utils/validate'\r\nimport './styles/edit.css'\r\n\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nclass Plan extends Component {\r\n  state = {\r\n    tab3Data:[{num:1,periodicTime:1,type:1,frequency:1}],\r\n    name:'',\r\n    periodicTime:1,\r\n    defaultKey:1,\r\n    programId:null,\r\n    tableLoading:false,\r\n    showAddBtn:true,\r\n    submitLoading:false\r\n  }\r\n\r\n  componentWillMount(){\r\n    let id = getQueryString('id',this.props.location.search)\r\n    if(id){\r\n      //编辑\r\n      this.actionPlanDetail(id)\r\n      this.setState({pageState:\"编辑\",programId:id})\r\n    }else{\r\n      //添加\r\n      this.setState({pageState:\"新增\"})\r\n    }\r\n  }\r\n\r\n  //取消\r\n  handleCancelEditTab3(){\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  //增加新行\r\n  handleAddItemTab3(){\r\n    let {tab3Data,defaultKey} = this.state\r\n    defaultKey++\r\n    if(defaultKey <= 3){\r\n      let defaultRow = {num:defaultKey,periodicTime:1,type:1,frequency:1,}\r\n      tab3Data.push(defaultRow)\r\n      this.setState({tab3Data,defaultKey})\r\n    }else{\r\n      this.setState({showAddBtn:false})\r\n    }\r\n  }\r\n\r\n  handleGoBack(){\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  //计划名称\r\n  handleInputTitle(e){\r\n    this.setState({name:e.target.value})\r\n  }\r\n\r\n  //计划周期\r\n  handleSelectPeriodic(value){\r\n    this.setState({periodicTime:parseInt(value)})\r\n  }\r\n\r\n  handleTableSelect(name,key,value){\r\n    let tableData = this.state.tab3Data;\r\n    let newTable = setArrayItem(tableData,key,name,value)\r\n    //需要判断测量类型，全有了就去掉增加按钮\r\n    if(isMeasureTypeFull(tableData)){\r\n      this.setState({showAddBtn:false})\r\n    }\r\n    this.setState({tab3Data:newTable})\r\n  }\r\n\r\n  //提交数据\r\n  handleSubmitPlan(){\r\n    let {name,periodicTime,tab3Data,pageState,programId} = this.state\r\n    //增加测量类型重复的判断，“血糖”“血压”“体重”每个一项\r\n    let checkDuplicate = (array) => {\r\n      let result = true\r\n      let key = []\r\n      for(let i in array){\r\n        if(key.indexOf(array[i].type) < 0){\r\n          key.push(array[i].type)\r\n        }else{\r\n          result = false\r\n        }\r\n      }\r\n      return result\r\n    }\r\n    if(!checkDuplicate(tab3Data)){\r\n      message.error('测量项有重复的值')\r\n      return\r\n    }\r\n    if(pageState === '编辑'){\r\n      this.actionUpdateMeasurementPlan({programId,name,periodicTime,measurementList:tab3Data})\r\n      return\r\n    }\r\n    this.actionCreateMeasurementPlan({name,periodicTime,measurementList:tab3Data})\r\n  }\r\n\r\n  //删除表格某项，并重设序号\r\n  handleDeleteTableItem(num){ \r\n    let table = this.state.tab3Data;\r\n    let newTable = deleteTableItem(table,num)\r\n    let defaultKey = 0\r\n    if(newTable.length > 0){\r\n      defaultKey = newTable[newTable.length-1].num\r\n    }\r\n    this.setState({tab1Data:newTable,defaultKey})\r\n  }\r\n\r\n  /**\r\n   * 创建测量计划\r\n   */\r\n  async actionCreateMeasurementPlan(data){\r\n    this.setState({submitLoading:true})\r\n    let measurementPlan =await createMeasurementPlan(data).catch(err => {\r\n      this.setState({submitLoading:false})\r\n      message.error(err.msg)\r\n    })\r\n    if(measurementPlan && measurementPlan.code === 200){\r\n      this.setState({submitLoading:false})\r\n      message.success('创建成功')\r\n      this.props.history.goBack()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 编辑测量计划\r\n   * @param {*} data \r\n   */\r\n  async actionUpdateMeasurementPlan(data){\r\n    this.setState({submitLoading:true})\r\n    let updatePlan = await updateMeasurementPlan(data).catch(err => message.error(err.msg))\r\n    if(updatePlan && updatePlan.code === 200){\r\n      this.setState({submitLoading:false})\r\n      message.success('编辑成功')\r\n      this.props.history.goBack()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 计划明细\r\n   * @param {*} id \r\n   */\r\n  async actionPlanDetail(id){\r\n    let detail = await planDetail(id)\r\n    let list = detail.data.list;\r\n    let defaultKey = 1;\r\n    if (list.length > 0) {\r\n      defaultKey = list[list.length - 1].num\r\n    }\r\n    if(isMeasureTypeFull(list)){\r\n      this.setState({showAddBtn:false})\r\n    }\r\n    this.setState({\r\n      name:detail.data.name,\r\n      periodicTime:detail.data.periodicTime,\r\n      tab3Data:list,\r\n      defaultKey\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {tab3Data,name,tableLoading,periodicTime,showAddBtn,submitLoading} = this.state\r\n    const measurementTypeOpyion = enumObj['measurementType'].map(item => (\r\n      <Option value={item.key} key={item.key}>{item.value}</Option>\r\n    ))\r\n\r\n    const frequencyOption = enumObj['frequency'].map(item => (\r\n      <Option value={item.key} key={item.key}>{item.value}</Option>\r\n    ))\r\n    const periodicTimeOption = enumObj['periodicTime'].map(item => (\r\n      <Option value={item.key} key={item.key}>{item.value}</Option>\r\n    ))\r\n    \r\n    //测量方案表头\r\n    const tab3Columns = [{\r\n      title:\"序号\",\r\n      dataIndex:\"num\",\r\n      key:\"num\"\r\n    },{\r\n      title:\"测量类型名称\",\r\n      render:row=>(\r\n        <Select value={row.type} style={{ width: 150 }} onSelect={this.handleTableSelect.bind(this,'type',row.num)}>\r\n          {measurementTypeOpyion}\r\n        </Select>\r\n      )\r\n    },{\r\n      title:\"测量频次\",\r\n      render:row=>(\r\n        <Select value={parseInt(row.frequency)} style={{ width: 150 }} onSelect={this.handleTableSelect.bind(this,'frequency',row.num)}>\r\n          {frequencyOption}\r\n        </Select>\r\n      )\r\n    },{\r\n      title:\"操作\",\r\n      render:row => (<span className=\"delete-btn\" onClick={this.handleDeleteTableItem.bind(this,row.num)}>删除</span>)\r\n    }]\r\n\r\n    return (\r\n      <div className=\"edit-wrap\">\r\n          <PageHeader title='测量方案' onBack={this.handleGoBack.bind(this)}/>\r\n          <div className='title-wrap'>\r\n              <Row>\r\n                  <Col span={6}>\r\n                      <FormItem \r\n                        {...formItemLayoutTitle} \r\n                        label={<strong>测量方案</strong>}\r\n                      >\r\n                          <Input value={name} onChange={this.handleInputTitle.bind(this)}/>\r\n                      </FormItem>\r\n                  </Col>\r\n                  <Col span={6}>\r\n                      <FormItem \r\n                        {...formItemLayoutTitle} \r\n                        label={<strong>执行周期</strong>}\r\n                      >\r\n                        <Select value={periodicTime} style={{ width: 150 }} onSelect={this.handleSelectPeriodic.bind(this)}>\r\n                          {periodicTimeOption}\r\n                        </Select>\r\n                      </FormItem>\r\n                  </Col>\r\n              </Row>\r\n          </div>\r\n          <Table \r\n            dataSource={tab3Data} \r\n            columns={tab3Columns} \r\n            pagination={false} \r\n            rowKey={record => record.num}\r\n            loading={tableLoading}\r\n            bordered\r\n            footer={()=>(showAddBtn?<Button type=\"primary\" onClick={this.handleAddItemTab3.bind(this)}><Icon type=\"plus\"/>增加一行</Button>:false)}\r\n          />\r\n\r\n          <div className=\"save-btn-wrap\">\r\n              <Button className=\"save-btn\" loading={submitLoading} type=\"primary\" onClick={this.handleSubmitPlan.bind(this)}>保存</Button>\r\n              <Button onClick={this.handleCancelEditTab3.bind(this)}>取消</Button>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Plan)","import request from '../utils/request'\r\nconst SERVICE_NAME = '/doctor_service'\r\n\r\n/**\r\n * 创建分组\r\n * @param {*} data \r\n */\r\nconst createGroup = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/admin/create_group',\r\n        data,\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 查询分组\r\n */\r\nconst getGroup = () => {\r\n    return request({\r\n        url: SERVICE_NAME + '/admin/find_group',\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 编辑分组\r\n * @param {*} data \r\n */\r\nconst updateGroup = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/admin/update_group',\r\n        data,\r\n        mrthod: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 删除分组\r\n * @param {*} groupId \r\n */\r\nconst deleteGroup = (groupId) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/admin/delete_group',\r\n        data: {\r\n            groupId\r\n        },\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n/**\r\n * 添加患者\r\n * @param {*} data \r\n */\r\nconst createPatient = (data) => {\r\n    return request({\r\n        url: SERVICE_NAME + '/admin/create_patient',\r\n        data,\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\n\r\n/**\r\n * 查询某个患者是否在课题内\r\n * @param {*}  patientId 患者id\r\n */\r\nconst checkPatientInTopic = (patientId) => {\r\n    return request({\r\n        url: '/rpmrelation_service/checkPatientInTopic',\r\n        method: 'post',\r\n        data: {\r\n            patientId\r\n        }\r\n    })\r\n}\r\n\r\nexport {\r\n    createGroup,\r\n    getGroup,\r\n    updateGroup,\r\n    deleteGroup,\r\n    createPatient,\r\n    checkPatientInTopic\r\n}","import React, {\r\n    Component\r\n} from 'react';\r\nimport { Badge, List, Avatar, Spin } from 'antd';\r\nimport { connect } from 'react-redux'\r\nimport actions from '../../../redux/actions'\r\nimport { parseTime } from '../../../utils'\r\nimport { updateReadTime } from '../../../apis/im'\r\nimport { checkPatientInTopic } from '../../../apis/patient'\r\nimport '../styles/leftSession.scss';\r\n// import InfiniteScroll from 'react-infinite-scroller';\r\n\r\nclass leftSession extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            loading: false,\r\n            hasMore: true,\r\n        }\r\n    }\r\n\r\n    dateFilter(time) {\r\n        let date = new Date(time)\r\n        let dateStr = parseTime(date, 'YYYY/MM/DD HH:mm')\r\n        let nowDateStr = parseTime(new Date(), 'YYYY/MM/DD HH:mm')\r\n        if (dateStr.split(' ')[0] == nowDateStr.split(' ')[0]) {\r\n            //当天发送\r\n            return dateStr.split(' ')[1]\r\n        } else {\r\n            return dateStr.split(' ')[0].slice(2)\r\n        }\r\n    }\r\n    resetScroll(props, identifier) {\r\n        let { friendList } = props.imInfo\r\n        // if (this.state.loadMessType == 0) {\r\n        clearTimeout(this.timer)\r\n        this.timer = setTimeout(() => {\r\n            let message_list_el = document.getElementById('message');\r\n            if (message_list_el) {\r\n                if (friendList[identifier] && friendList[identifier].scrollTop != undefined) {\r\n                    message_list_el.scrollTop = friendList[identifier].scrollTop\r\n                } else {\r\n                    message_list_el.scrollTop = message_list_el.scrollHeight - message_list_el.clientHeight;\r\n                }\r\n            }\r\n        }, 50)\r\n    }\r\n    setSelToId(item) {\r\n        let { config, friendList, selToId, recentSess, historyMsg } = this.props.imInfo\r\n        let imState = {};\r\n        if (selToId == item.identifier) {\r\n            return;\r\n        }\r\n\r\n        if (!friendList[selToId]) {\r\n            friendList[selToId] = {}\r\n        }\r\n\r\n        let message_list_el = document.getElementById('message');\r\n        if (!friendList[item.identifier] || !friendList[item.identifier].type) {\r\n            if (message_list_el) {\r\n                if (friendList[selToId].scrollTop != message_list_el.scrollTop) {\r\n                    friendList[selToId].scrollTop = message_list_el.scrollTop;\r\n                }\r\n            }\r\n            checkPatientInTopic(item.identifier).then(res => {\r\n                if (!friendList[item.identifier]) {\r\n                    friendList[item.identifier] = {}\r\n                }\r\n                friendList[item.identifier].type = res.data ? 1 : 2\r\n                this.props.setFriendList(friendList)\r\n            })\r\n        } else {\r\n            if (message_list_el) {\r\n                if (friendList[selToId].scrollTop != message_list_el.scrollTop) {\r\n                    friendList[selToId].scrollTop = message_list_el.scrollTop;\r\n                    // this.props.setFriendList(friendList)\r\n                }\r\n            }\r\n        }\r\n\r\n        if (item.unReadCount) {\r\n            updateReadTime(config.imLoginInfo.identifier, item.identifier)\r\n        }\r\n\r\n        imState = {\r\n            friendList,\r\n            selToId: item.identifier\r\n        }\r\n        if (item.unReadCount) {\r\n            imState.recentSess = recentSess.map(sess => {\r\n                if (sess.identifier == item.identifier) {\r\n                    sess.unReadCount = 0;\r\n                }\r\n                return sess\r\n            })\r\n        }\r\n\r\n        if (historyMsg && historyMsg[item.identifier]) {\r\n            this.props.setImState(imState)\r\n            if (item.unReadCount) {\r\n                clearTimeout(this.timer)\r\n                this.timer = setTimeout(() => {\r\n                    let message_list_el = document.getElementById('message');\r\n                    if (message_list_el) {\r\n                        message_list_el.scrollTop = message_list_el.scrollHeight - message_list_el.clientHeight;\r\n                    }\r\n                }, 50)\r\n            } else {\r\n                this.resetScroll(this.props, item.identifier)\r\n            }\r\n        } else {\r\n            this.props.loadMess({\r\n                identifier: item.identifier\r\n            }, data => {\r\n                data.friendList = Object.assign({}, data.friendList, imState.friendList);\r\n                data.selToId = imState.selToId;\r\n                this.props.setImState(data)\r\n                this.resetScroll(this.props, item.identifier)\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    handleInfiniteOnLoad = () => {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n    }\r\n\r\n    filterContent(item) {\r\n        let msgType = item.msgDetail.MsgBody[0].MsgType;\r\n        let content = '';\r\n        if(msgType=='TIMTextElem'){\r\n            content = item.msgDetail.MsgBody[0].MsgContent.Text;\r\n        }else if(msgType=='TIMImageElem'){\r\n            content = '[图片]'\r\n        }else if(msgType=='TIMCustomElem'){\r\n            let data = item.msgDetail.MsgBody[0].MsgContent.Data;\r\n            if(data){\r\n                data = JSON.parse(data)\r\n                content = (data.type==4||data.type==5)?'[图片]':item.msgDetail.MsgBody[0].MsgContent.Desc\r\n            }\r\n        }\r\n        return content;\r\n    }\r\n\r\n    render() {\r\n        let { friendList, selToId, recentSess } = this.props.imInfo;\r\n        return (\r\n            <div className=\"leftSession\">\r\n                {/* <InfiniteScroll\r\n                    initialLoad={false}\r\n                    pageStart={0}\r\n                    loadMore={this.handleInfiniteOnLoad}\r\n                    hasMore={!this.state.loading && this.state.hasMore}\r\n                    useWindow={false}\r\n                > */}\r\n                <div className=\"tag\">医患沟通</div>\r\n                <List\r\n                    dataSource={recentSess}\r\n                    renderItem={item => (\r\n                        <List.Item className={item.identifier == selToId ? 'active' : ''} key={item.identifier} onClick={this.setSelToId.bind(this, item)}>\r\n\r\n                            {friendList[item.identifier] ? <Avatar src={friendList[item.identifier].headUrl} /> : null}\r\n                            <div className=\"text\">\r\n                                <div className=\"top\">\r\n                                    {friendList[item.identifier] ? <p className=\"name\">{friendList[item.identifier].name}</p> : null}\r\n                                    {\r\n                                        item.msgDetail ? <p className=\"time\">{this.dateFilter(item.msgDetail.CreateTime)}</p> : null\r\n                                    }\r\n                                </div>\r\n                                <div className=\"bot\">\r\n                                    {\r\n                                        item.msgDetail ? <p className=\"content\">{this.filterContent(item)}</p> : null\r\n                                    }\r\n                                    <Badge count={item.unReadCount} overflowCount={99}></Badge>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </List.Item>\r\n                    )}\r\n                >\r\n                    {this.state.loading && this.state.hasMore && (\r\n                        <div className=\"loading-container\">\r\n                            <Spin />\r\n                        </div>\r\n                    )}\r\n                </List>\r\n                {/* </InfiniteScroll> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(state => {\r\n    return {\r\n        imInfo: state.imInfo\r\n    }\r\n}, actions)(leftSession)","import React from 'react'\r\nimport { message, Icon } from 'antd'\r\nimport '../styles/imageviewer.scss'\r\n\r\nexport default class ImgPreview extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            imgArr: [],\r\n            imgIndex: 0,\r\n            screenHeight: 0,\r\n            screenWidth: 0,\r\n            ratio: 1,\r\n            angle: 0,\r\n            defaultWidth: 'auto',\r\n            defaultHeight: 'auto',\r\n            imgSrc: '',\r\n            posTop: 0,\r\n            posLeft: 0,\r\n            isAlwaysCenterZoom: false, // 是否总是中心缩放\r\n            isAlwaysShowRatioTips: false, // 是否总是显示缩放倍数信息,默认点击按钮缩放时才显示\r\n            flags: false,\r\n            isDraged: false,\r\n            position: {\r\n                x: 0,\r\n                y: 0\r\n            },\r\n            nx: '',\r\n            ny: '',\r\n            dx: '',\r\n            dy: '',\r\n            xPum: '',\r\n            yPum: ''\r\n        }\r\n        this.percent = 100\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            screenWidth: window.screen.availWidth,\r\n            screenHeight: window.screen.availHeight,\r\n            ratio: 1,\r\n            angle: 0\r\n        }, () => {\r\n            // this.getImgSize()\r\n        })\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        this.setState({\r\n            imgIndex: nextProps.imgIndex,\r\n            imgArr: nextProps.imgArr,\r\n            // imgSrc: nextProps.imgSrc,\r\n            isAlwaysCenterZoom: nextProps.isAlwaysCenterZoom,\r\n            isAlwaysShowRatioTips: nextProps.isAlwaysShowRatioTips\r\n        })\r\n    }\r\n\r\n    // 获取预览图片的默认宽高和位置\r\n    getImgSize = () => {\r\n        let { ratio, isDraged, isAlwaysCenterZoom } = this.state\r\n        let posTop = 0\r\n        let posLeft = 0\r\n        // 图片原始宽高\r\n        let originWidth = this.originImgEl ? this.originImgEl.width : 0\r\n        let originHeight = this.originImgEl ? this.originImgEl.height : 0\r\n        // 默认最大宽高540/320\r\n        let maxDefaultWidth = 540\r\n        let maxDefaultHeight = 320\r\n        // 默认展示宽高\r\n        let defaultWidth = 0\r\n        let defaultHeight = 0\r\n        if (originWidth > maxDefaultWidth || originHeight > maxDefaultHeight) {\r\n            if (originWidth / originHeight > maxDefaultWidth / maxDefaultHeight) {\r\n                defaultWidth = maxDefaultWidth\r\n                defaultHeight = Math.round(originHeight * (maxDefaultHeight / maxDefaultWidth))\r\n                posTop = (defaultHeight * ratio / 2) * -1\r\n                posLeft = (defaultWidth * ratio / 2) * -1\r\n            } else {\r\n                defaultWidth = Math.round(maxDefaultHeight * (originWidth / originHeight))\r\n                defaultHeight = maxDefaultHeight\r\n                posTop = (defaultHeight * ratio / 2) * -1\r\n                posLeft = (defaultWidth * ratio / 2) * -1\r\n            }\r\n        } else {\r\n            defaultWidth = originWidth\r\n            defaultHeight = originHeight\r\n            posTop = (defaultWidth * ratio / 2) * -1\r\n            posLeft = (defaultHeight * ratio / 2) * -1\r\n        }\r\n\r\n        if (isAlwaysCenterZoom) {\r\n            this.setState({\r\n                posTop: posTop,\r\n                posLeft: posLeft,\r\n                defaultWidth: defaultWidth * ratio,\r\n                defaultHeight: defaultHeight * ratio\r\n            })\r\n        } else {\r\n            // 若拖拽改变过位置,则在缩放操作时不改变当前位置\r\n            if (isDraged) {\r\n                this.setState({\r\n                    defaultWidth: defaultWidth * ratio,\r\n                    defaultHeight: defaultHeight * ratio\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    posTop: posTop,\r\n                    posLeft: posLeft,\r\n                    defaultWidth: defaultWidth * ratio,\r\n                    defaultHeight: defaultHeight * ratio\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    // 下载\r\n    download = () => {\r\n        let src = this.state.imgArr[this.state.imgIndex][1];\r\n        var image = new Image()\r\n        // 解决跨域 Canvas 污染问题\r\n        image.setAttribute('crossOrigin', 'anonymous')\r\n        image.onload = function () {\r\n            var canvas = document.createElement('canvas')\r\n            canvas.width = image.width\r\n            canvas.height = image.height\r\n\r\n            var context = canvas.getContext('2d')\r\n            context.drawImage(image, 0, 0, image.width, image.height)\r\n            var url = canvas.toDataURL('image/png')\r\n\r\n            // 生成一个a元素\r\n            var a = document.createElement('a')\r\n            // 创建一个单击事件\r\n            var event = new MouseEvent('click')\r\n\r\n            // 将a的download属性设置为我们想要下载的图片名称，若name不存在则使用‘下载图片名称’作为默认名称\r\n            a.download = src.slice(src.lastIndexOf('/') + 1)\r\n            // 将生成的URL设置为a.href属性\r\n            a.href = url\r\n\r\n            // 触发a的单击事件\r\n            a.dispatchEvent(event)\r\n        }\r\n\r\n        image.src = src\r\n    }\r\n\r\n    // 放大\r\n    scaleBig = (type = 'click') => {\r\n        let { ratio, isAlwaysShowRatioTips } = this.state\r\n        ratio += 0.15\r\n        this.percent += 15\r\n        this.setState({\r\n            ratio: ratio\r\n        }, () => {\r\n            this.getImgSize()\r\n        })\r\n        if (isAlwaysShowRatioTips) {\r\n            message.info(`缩放比例:${this.percent}%`, 0.2)\r\n        } else {\r\n            if (type === 'click') {\r\n                message.info(`缩放比例:${this.percent}%`, 0.2)\r\n            }\r\n        }\r\n    }\r\n\r\n    // 缩小\r\n    scaleSmall = (type = 'click') => {\r\n        let { ratio, isAlwaysShowRatioTips } = this.state\r\n        ratio -= 0.15\r\n        if (ratio <= 0.1) {\r\n            ratio = 0.1\r\n        }\r\n        if (this.percent - 15 > 0) {\r\n            this.percent -= 15\r\n        }\r\n        this.setState({\r\n            ratio: ratio\r\n        }, () => {\r\n            this.getImgSize()\r\n        })\r\n        if (isAlwaysShowRatioTips) {\r\n            message.info(`缩放比例:${this.percent}%`, 0.2)\r\n        } else {\r\n            if (type === 'click') {\r\n                message.info(`缩放比例:${this.percent}%`, 0.2)\r\n            }\r\n        }\r\n    }\r\n\r\n    // 滚轮缩放\r\n    wheelScale = (e) => {\r\n        e.preventDefault()\r\n        if (e.deltaY > 0) {\r\n            this.scaleBig('wheel')\r\n        } else {\r\n            this.scaleSmall('wheel')\r\n        }\r\n    }\r\n\r\n    // 旋转\r\n    retate = () => {\r\n        let { angle } = this.state\r\n        angle += 90\r\n        this.setState({\r\n            angle: angle\r\n        })\r\n    }\r\n\r\n    // 按下获取当前数据\r\n    mouseDown = (event) => {\r\n        let touch\r\n        if (event.touches) {\r\n            touch = event.touches[0]\r\n        } else {\r\n            touch = event\r\n        }\r\n        let position = {\r\n            x: touch.clientX,\r\n            y: touch.clientY\r\n        }\r\n        this.setState({\r\n            flags: true,\r\n            position: position,\r\n            dx: this.originImgEl.offsetLeft,\r\n            dy: this.originImgEl.offsetTop\r\n        })\r\n    }\r\n\r\n    mouseMove = (event) => {\r\n        let { dx, dy, position, flags } = this.state\r\n        if (flags) {\r\n            event.preventDefault()\r\n            let touch\r\n            if (event.touches) {\r\n                touch = event.touches[0]\r\n            } else {\r\n                touch = event\r\n            }\r\n            this.setState({\r\n                isDraged: true,\r\n                nx: touch.clientX - position.x,\r\n                ny: touch.clientY - position.y,\r\n                xPum: dx + touch.clientX - position.x,\r\n                yPum: dy + touch.clientY - position.y\r\n            }, () => {\r\n                this.imgEl.style.left = this.state.xPum + 'px'\r\n                this.imgEl.style.top = this.state.yPum + 'px'\r\n            })\r\n        }\r\n    }\r\n\r\n    mouseUp = () => {\r\n        this.setState({\r\n            flags: false\r\n        })\r\n    }\r\n\r\n    mouseOut = () => {\r\n        this.setState({\r\n            flags: false\r\n        })\r\n    }\r\n\r\n    // 关闭预览\r\n    closePreview = () => {\r\n        let { onClose } = this.props\r\n        this.setState({\r\n            ratio: 1,\r\n            angle: 0,\r\n            defaultWidth: 'auto',\r\n            defaultHeight: 'auto',\r\n            imgSrc: '',\r\n            posTop: 0,\r\n            posLeft: 0,\r\n            flags: false,\r\n            isDraged: false,\r\n            position: {\r\n                x: 0,\r\n                y: 0\r\n            },\r\n            nx: '',\r\n            ny: '',\r\n            dx: '',\r\n            dy: '',\r\n            xPum: '',\r\n            yPum: ''\r\n        }, () => {\r\n            this.getImgSize()\r\n            this.percent = 100\r\n            typeof onClose == 'function' && onClose()\r\n        })\r\n    }\r\n\r\n    changePic(index) {\r\n        if (index == -1) {\r\n            //上一张\r\n            if (this.state.imgIndex <= 0) {\r\n                return;\r\n            }\r\n            // this.getImgSize();\r\n            this.setState({\r\n                angle: 0,\r\n                imgIndex: this.state.imgIndex - 1\r\n            })\r\n        } else {\r\n            //下一张\r\n            if (this.state.imgIndex >= this.state.imgArr.length - 1) {\r\n                return;\r\n            }\r\n            // this.getImgSize();\r\n            this.setState({\r\n                angle: 0,\r\n                imgIndex: this.state.imgIndex + 1\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const close_transform_style = {\r\n            transform: `translate(${this.state.defaultWidth / 2}px,${-this.state.defaultHeight / 2}px)`\r\n        }\r\n        let { screenWidth, screenHeight, posLeft, posTop, angle, imgArr, imgIndex } = this.state\r\n        let { visible } = this.props\r\n        return imgArr.length > 0 ? (\r\n            <div className={'preview-wrapper' + (visible ? ' show' : ' hide')} style={{ width: screenWidth, height: screenHeight }}>\r\n                <div className='img-container'>\r\n                    <div className=\"img-wrap\" ref={(imgEl) => { this.imgEl = imgEl }} style={{ 'width':this.state.defaultWidth,'height':this.state.defaultHeight }}>\r\n                        <Icon onClick={() => { this.closePreview() }} type=\"close\" />\r\n                        <img className='image'\r\n                            onWheel={this.wheelScale}\r\n                            style={{ transform: `rotate(${angle}deg)` }}\r\n                            // onMouseDown={this.mouseDown}\r\n                            // onMouseMove={this.mouseMove}\r\n                            // onMouseUp={this.mouseUp}\r\n                            // onMouseOut={this.mouseOut}\r\n                            // draggable='false'\r\n                            src={imgArr[imgIndex][1]} alt=\"预览图片\" />\r\n                    </div>\r\n                </div>\r\n                <img className='origin-image' src={imgArr[imgIndex][1]} onLoad={this.getImgSize} ref={(originImg) => { this.originImgEl = originImg }} alt=\"预览图片\" />\r\n                <div className='operate-con'>\r\n                    <div onClick={this.changePic.bind(this, -1)} className='operate-btn'>\r\n                        <Icon type=\"arrow-left\" />\r\n                    </div>\r\n                    <div onClick={this.download} className='operate-btn'>\r\n                        <Icon type=\"download\" />\r\n                    </div>\r\n                    {/* <a href={imgArr[imgIndex]} download className='operate-btn'>\r\n                        <i className='iconfont icon-icon-test10'></i>\r\n                        <span>下载</span>\r\n                    </a> */}\r\n                    {/* <div onClick={() => { this.scaleBig('click') }} className='operate-btn'>\r\n                        <i className='iconfont icon-icon-test33'></i>\r\n                        <span>放大</span>\r\n                    </div> */}\r\n                    <div onClick={this.retate} className='operate-btn'>\r\n                        <Icon type=\"redo\" />\r\n                    </div>\r\n                    {/* <div onClick={() => { this.scaleSmall('click') }} className='operate-btn'>\r\n                        <i className='iconfont icon-icon-test35'></i>\r\n                        <span>缩小</span>\r\n                    </div> */}\r\n                    <div onClick={this.changePic.bind(this, 0)} className='operate-btn'>\r\n                        <Icon type=\"arrow-right\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        ) : null\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport actions from '../../../redux/actions'\r\nimport { Input, Button, Avatar, Modal, Icon, DatePicker, Dropdown, Tabs } from 'antd';\r\nimport { parseTime, getLocal, setLocal } from '../../../utils';\r\nimport { switchEnum } from '../../../utils/enum';\r\nimport ImgPreview from './imageViewer';\r\nimport { planList, addPlan, getPatientPlan } from '../../../apis/plan'\r\nimport { findPatient } from '../../../apis/relation';\r\nimport { getButton } from '../../../apis/user'\r\nimport { DataTable, DataChart, Measurement, BaseInfo, MedicalRecord, Followup } from '../../patient/components/index'\r\nimport moment from 'moment'\r\nimport no_patient_pic from '../images/icon-friend.png'\r\nimport '../styles/chatBoard.scss'\r\nconst { TextArea } = Input;\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass chatBoard extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            tab2PageType: \"chart\",\r\n            patientInfo: {},\r\n            user: null,\r\n            loadMessType: 0,\r\n            fileFlag: false,\r\n            loading: true,\r\n            previewImg: false,\r\n            previewImgArr: [],\r\n            preViewImgIndex: 0,\r\n            isAddPro: false,\r\n            showPro: false,\r\n            customType: 0,//自定义消息标识 1/随访 2/宣教 3/测量\r\n            cusTomPro: {\r\n                1: {\r\n                    title: '随访计划',\r\n                    name: '随访',\r\n                    image: '',\r\n                    content: '根据你目前的身体状态，我帮你制定了个性化随访计划',\r\n                    isAddText: '随访计划正在进行中,确认替换？',\r\n                    pro: [],\r\n                    btnKey: 'sendFollow'\r\n                },\r\n                // 2: {\r\n                //     title: '患教内容',\r\n                //     name: '患教',\r\n                //     image: '',\r\n                //     content: '为了您的健康，我给你发送了一篇文章，请仔细阅读',\r\n                //     pro: [],\r\n                //     btnKey:'sendPatientInfo'\r\n                // },\r\n                3: {\r\n                    title: '测量计划',\r\n                    name: '测量',\r\n                    image: '',\r\n                    content: '良好的测量习惯有助于健康的改善，以下测量计划记得完成',\r\n                    isAddText: '测量计划正在进行中,确认替换？',\r\n                    pro: [],\r\n                    btnKey: 'sendMeasurePlan'\r\n                }\r\n            },\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        let user = this.props.user\r\n        let { historyMsg, selToId } = this.props.imInfo\r\n        if (!user) {\r\n            let local_user = getLocal('user');\r\n            if (local_user) {\r\n                user = JSON.parse(local_user)\r\n            }\r\n        }\r\n        this.setState({\r\n            user\r\n        })\r\n        if (historyMsg && historyMsg[selToId]) {\r\n            this.setState({\r\n                loading: false\r\n            })\r\n        } else {\r\n            this.setState({\r\n                loading: true\r\n            })\r\n        }\r\n        this.actionGetButton({ pageId: 4 })\r\n    }\r\n    componentWillUnmount() {\r\n        let { friendList, selToId } = this.props.imInfo\r\n        let message_list_el = document.getElementById('message');\r\n        if (message_list_el) {\r\n            if (friendList[selToId].scrollTop != message_list_el.scrollTop) {\r\n                friendList[selToId].scrollTop = message_list_el.scrollTop;\r\n                this.props.setFriendList(friendList)\r\n            }\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.resetScroll(this.props)\r\n    }\r\n    componentWillReceiveProps(props) {\r\n        if (props.imInfo.historyMsg && props.imInfo.historyMsg[props.imInfo.selToId]) {\r\n            this.setState({\r\n                loading: false\r\n            })\r\n        }\r\n        // this.resetScroll(props)\r\n    }\r\n    resetScroll(props) {\r\n        let { friendList, selToId } = props.imInfo\r\n        if (this.state.loadMessType == 0) {\r\n            clearTimeout(this.timer)\r\n            this.timer = setTimeout(() => {\r\n                let message_list_el = document.getElementById('message');\r\n                if (message_list_el) {\r\n                    if (friendList[selToId] && friendList[selToId].scrollTop != undefined) {\r\n                        message_list_el.scrollTop = friendList[selToId].scrollTop\r\n                    } else {\r\n                        message_list_el.scrollTop = message_list_el.scrollHeight - message_list_el.clientHeight;\r\n                    }\r\n                }\r\n            }, 100)\r\n\r\n        } else if (this.state.loadMessType == 1) {\r\n            //加载新消息\r\n            clearTimeout(this.timer)\r\n            this.timer = setTimeout(() => {\r\n                let message_list_el = document.getElementById('message');\r\n                if (message_list_el) {\r\n                    message_list_el.scrollTop = 0\r\n                }\r\n                this.setState({\r\n                    loadMessType: 0\r\n                })\r\n            }, 100)\r\n        } else if (this.state.loadMessType == 2) {\r\n            clearTimeout(this.timer)\r\n            this.timer = setTimeout(() => {\r\n                let message_list_el = document.getElementById('message');\r\n                let dom_info = ReactDOM.findDOMNode(this.refs['info'])\r\n                if (message_list_el) {\r\n                    message_list_el.scrollTop = dom_info.clientHeight - this.state.scrollHeight\r\n                }\r\n                this.setState({\r\n                    loadMessType: 0\r\n                })\r\n            }, 100)\r\n        } else {\r\n            this.setState({\r\n                loadMessType: 0\r\n            })\r\n        }\r\n    }\r\n    setScroll() {\r\n        this.timer = setTimeout(() => {\r\n            let message_list_el = document.getElementById('message');\r\n            if (message_list_el) {\r\n                message_list_el.scrollTop = message_list_el.scrollHeight - message_list_el.clientHeight;\r\n            }\r\n        }, 100)\r\n    }\r\n    sendMsg = (event, type) => {\r\n        let dom = ReactDOM.findDOMNode(this.refs['text'])\r\n        if (type == 'keyup') {\r\n            if (event.ctrlKey && event.keyCode == 13) {\r\n                //换行\r\n                dom.value += '\\n'\r\n            } else {\r\n                if (event.keyCode == 13) {\r\n                    if (dom.value.trim() == '') {\r\n                        dom.value = ''\r\n                        return;\r\n                    }\r\n                    dom.value = dom.value.replace(/\\n$/, '')\r\n                    this.setScroll()\r\n                    //...发送操作\r\n                    this.props.sendMsg(1, { value: dom.value })\r\n                    dom.value = ''\r\n                }\r\n            }\r\n        } else {\r\n            if (dom.value.trim() == '') {\r\n                dom.value = ''\r\n                return;\r\n            }\r\n            this.setScroll()\r\n            //...发送操作\r\n            this.props.sendMsg(1, { value: dom.value })\r\n            dom.value = '';\r\n        }\r\n    }\r\n    closePreiveImg = () => {\r\n        this.setState({\r\n            previewImg: false\r\n        })\r\n    }\r\n    openPreviewImg = (UUID) => {\r\n        const previewImgArr = [];\r\n        let index = 0;\r\n        let preViewImgIndex = 0;\r\n        this.props.imInfo.historyMsg[this.props.imInfo.selToId].map(item => {\r\n            let type = item.MsgBody[0].MsgType\r\n            let content = item.MsgBody[0].MsgContent\r\n            if (type == \"TIMImageElem\") {\r\n                if (content.UUID == UUID) {\r\n                    preViewImgIndex = index;\r\n                }\r\n                let imgArr = [];\r\n                content.ImageInfoArray.map(img_item => {\r\n                    let type = img_item.Type || img_item.type;\r\n                    let img_url = img_item.URL || img_item.url;\r\n                    if (type == 2) {\r\n                        imgArr[0] = img_url;\r\n                    } else if (type == 1) {\r\n                        imgArr[1] = img_url;\r\n                    }\r\n                })\r\n                previewImgArr.push(imgArr)\r\n                index += 1;\r\n            }\r\n        })\r\n        this.setState({\r\n            previewImg: true,\r\n            previewImgArr,\r\n            preViewImgIndex\r\n        })\r\n    }\r\n    closeFile = () => {\r\n        this.setState({\r\n            fileFlag: false\r\n        })\r\n    }\r\n    openFile = () => {\r\n        this.actionFindPatient({ patientId: this.props.imInfo.selToId })\r\n        this.setState({\r\n            fileFlag: true\r\n        })\r\n    }\r\n    openProList(type) {\r\n        type = type ? type : this.state.customType;\r\n        const cusTomPro = Object.assign({}, this.state.cusTomPro)\r\n        if (cusTomPro[type].pro.length > 0) {\r\n            delete cusTomPro[type].begin_time\r\n            cusTomPro[type].pro.map(item => {\r\n                item.selected = false;\r\n                return item;\r\n            })\r\n            this.setState({\r\n                customType: type,\r\n                showPro: true,\r\n                cusTomPro\r\n            })\r\n            console.log(cusTomPro)\r\n            console.log(type)\r\n        } else {\r\n            planList({\r\n                type,\r\n                category: 2\r\n            }).then(res => {\r\n                let data = res.data;\r\n                cusTomPro[type].pro = data;\r\n                this.setState({\r\n                    customType: type,\r\n                    showPro: true,\r\n                    cusTomPro\r\n                })\r\n            })\r\n        }\r\n    }\r\n    openCustom = (type) => {\r\n        let { selToId } = this.props.imInfo;\r\n        this.setState({\r\n            showPro: false\r\n        })\r\n\r\n        if (type == 2) {\r\n            //患教内容不判断是否已添加\r\n            this.openProList(type)\r\n        } else {\r\n            if (this.state.customType != type) {\r\n                this.openProList(type)\r\n            }\r\n        }\r\n    }\r\n    closeCustom = () => {\r\n        this.setState({\r\n            customType: 0,\r\n        })\r\n    }\r\n    handleAddPro = () => {\r\n        this.setState({\r\n            isAddPro: false,\r\n            customType: 0\r\n        })\r\n        this.sendPro()\r\n    }\r\n    handleCancelAddPro = () => {\r\n        this.setState({\r\n            isAddPro: false,\r\n            customType: 0\r\n        })\r\n    }\r\n    selectPro = (type, index) => {\r\n        const cusTomPro = Object.assign({}, this.state.cusTomPro)\r\n        cusTomPro[type].pro.map((item, pro_index) => {\r\n            if (index == pro_index) {\r\n                item.selected = true;\r\n            } else {\r\n                item.selected = false;\r\n            }\r\n            return item;\r\n        })\r\n        this.setState({\r\n            cusTomPro\r\n        })\r\n    }\r\n    changeProDate = (type, date, dateStr) => {\r\n        const cusTomPro = Object.assign({}, this.state.cusTomPro)\r\n        cusTomPro[type].begin_time = date\r\n        this.setState({\r\n            cusTomPro\r\n        })\r\n    }\r\n    handleSendPro = (item, type) => {\r\n        let {\r\n            selToId\r\n        } = this.props.imInfo\r\n\r\n        getPatientPlan(selToId, type).then(res => {\r\n            // 已添加\r\n            this.setState({\r\n                isAddPro: true,\r\n                customType: type,\r\n                showPro: false,\r\n                myPro: item\r\n            })\r\n\r\n        }).catch(e => {\r\n            this.sendPro(item, type)\r\n        })\r\n    }\r\n    sendPro = (myPro, type) => {\r\n        let {\r\n            selToId\r\n        } = this.props.imInfo\r\n        let programId = ''\r\n        myPro = myPro ? myPro : this.state.myPro;\r\n        type = type ? type : this.state.customType;\r\n        let proData = {\r\n            type,\r\n            data: {}\r\n        };\r\n        myPro.pro.map(pro_item => {\r\n            if (pro_item.selected) {\r\n                programId = pro_item.id;\r\n                proData.data.title = pro_item.name\r\n            }\r\n        })\r\n\r\n        let params = {\r\n            programId,\r\n            patientId: selToId\r\n        }\r\n\r\n        if (type == 1) {\r\n            params.beginTime = new Date(myPro.begin_time).getTime();\r\n            proData.data.startDate = new Date(myPro.begin_time).getTime();\r\n        } else if (type == 2) {\r\n            proData.data.url = '';\r\n        } else if (type == 3) {\r\n            proData.data.startDate = new Date().getTime();\r\n        }\r\n        proData.data.image = this.state.cusTomPro[type].image;\r\n        proData.data.detail = this.state.cusTomPro[type].content;\r\n\r\n        this.setState({\r\n            customType: 0\r\n        })\r\n\r\n        addPlan(params).then(res => {\r\n            proData.data.id = res.data;\r\n            this.props.sendMsg(3, { value: JSON.stringify(proData) })\r\n            this.setScroll()\r\n        })\r\n\r\n    }\r\n    openPro = (item) => {\r\n        let { selToId } = this.props.imInfo\r\n        let data = JSON.parse(item.MsgBody[0].MsgContent.Data);\r\n        let type = data.type;\r\n        if (type != 2) {\r\n            window.open('/rpm/#/project?id=' + selToId + '&type=' + type)\r\n        }\r\n    }\r\n    imageLoad = (event) => {\r\n        let { selToId, friendList } = this.props.imInfo\r\n        clearTimeout(this.timer)\r\n        this.timer = setTimeout(() => {\r\n            let message_list_el = document.getElementById('message');\r\n            if (message_list_el) {\r\n                message_list_el.scrollTop = friendList[selToId].scrollTop ? friendList[selToId].scrollTop : (message_list_el.scrollHeight - message_list_el.clientHeight);\r\n            }\r\n        }, 100)\r\n    }\r\n    convertTextToHtml(text) {\r\n        return text.replace(/\\n/g, '<br/>')\r\n    }\r\n    convertImageMsgToHtml(data, content) {\r\n        let smallImage, bigImage, oriImage; //原图\r\n        content.ImageInfoArray.map((item, index) => {\r\n            let type = item.Type || item.type;\r\n            let url = item.URL || item.url;\r\n            if (type == 1) {\r\n                oriImage = url\r\n            } else if (type == 2) {\r\n                bigImage = url\r\n            } else if (type == 3) {\r\n                smallImage = url\r\n            }\r\n\r\n        })\r\n\r\n        if (!bigImage) {\r\n            bigImage = smallImage;\r\n        }\r\n        if (!oriImage) {\r\n            oriImage = smallImage;\r\n        }\r\n\r\n\r\n        return <div>\r\n            <img src={smallImage + '#' + bigImage} style={{ 'cursor': 'pointer' }} id={content.UUID} onClick={this.openPreviewImg.bind(this, content.UUID)} />\r\n            <img src={oriImage} style={{ 'display': 'none' }} />\r\n        </div>;\r\n    }\r\n    convertCustomMsgToHtml(content) {\r\n        if (content.Data) {\r\n            let data = JSON.parse(content.Data).data;\r\n            return <div className=\"pro_card\">\r\n                <p className=\"title\">{data.title}</p>\r\n                <div className=\"detail\">\r\n                    {/* <img src={data.image} /> */}\r\n                    <p className=\"intro\">{data.detail}</p>\r\n                </div>\r\n            </div>\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n    loadMess = (unReadCount, type) => {\r\n        let loadMessType = 2;\r\n        if (type == 1) {\r\n            loadMessType = 1;\r\n        }\r\n        this.setState({\r\n            loading: true,\r\n            loadMessType,\r\n            scrollHeight: ReactDOM.findDOMNode(this.refs['info']).clientHeight\r\n        })\r\n\r\n        this.props.loadMess({\r\n            identifier: this.props.imInfo.selToId,\r\n            endTime: this.getEndTime(),\r\n            unReadCount,\r\n            type\r\n        }, data => {\r\n            this.props.setImState(data)\r\n            this.setState({\r\n                loading: false\r\n            })\r\n\r\n            clearTimeout(this.timer)\r\n            this.timer = setTimeout(() => {\r\n                let message_list_el = document.getElementById('message');\r\n                let dom_info = ReactDOM.findDOMNode(this.refs['info'])\r\n                if (message_list_el) {\r\n                    if (type == 2) {\r\n                        message_list_el.scrollTop = dom_info.clientHeight - this.state.scrollHeight\r\n                    } else if (type == 1) {\r\n                        message_list_el.scrollTop = document.getElementsByClassName('new_mess_tip')[0].offsetTop\r\n                    }\r\n                }\r\n            }, 100)\r\n        })\r\n    }\r\n    getEndTime() {\r\n        let historyMsg = this.props.imInfo.historyMsg[this.props.imInfo.selToId];\r\n        return historyMsg[0].CreateTime\r\n    }\r\n    reSendText(data) {\r\n        this.props.sendMsg(1, { reSend: data.reSend, value: data.MsgBody[0].MsgContent.Text, msgId: data.msgId })\r\n    }\r\n    filterTime(sendTime) {\r\n        const weekDay = ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日']\r\n        const date = new Date(sendTime)\r\n        const now = new Date();\r\n        const diff = (now - date) / 1000;\r\n\r\n        let date_year = date.getFullYear();\r\n        let date_month = date.getMonth() + 1;\r\n        let date_day = date.getDate();\r\n\r\n        let now_year = now.getFullYear();\r\n        let now_month = now.getMonth() + 1;\r\n        let now_day = now.getDate();\r\n\r\n        if (now_year == date_year && now_month == date_month) {\r\n            if (now_day == date_day) {\r\n                //当天内显示时分HH:mm\r\n                return parseTime(sendTime, 'HH:mm')\r\n            } else {\r\n                //非当天 2天内显示昨天+HH:mm 一周内显示星期几+HH:mm\r\n                if (diff < 3600 * 24 * 2) {\r\n                    return '昨天 ' + parseTime(sendTime, 'HH:mm')\r\n                } else {\r\n                    return weekDay[date.getDay() - 1] + ' ' + parseTime(sendTime, 'HH:mm')\r\n                }\r\n            }\r\n        } else {\r\n            //显示YYYY-MM-DD HH:mm\r\n            return parseTime(sendTime, 'YYYY-MM-DD HH:mm')\r\n        }\r\n    }\r\n    handleTabsCallback(value) {\r\n        setLocal('archivesTab', value.toString())\r\n    }\r\n    handleTab2ChangePageType(type) {\r\n        this.setState({ tab2PageType: type })\r\n    }\r\n    /**\r\n     * 患者信息\r\n     * @param {*} data \r\n     */\r\n    async actionFindPatient(data) {\r\n        let patient = await findPatient(data)\r\n        this.setState({ patientInfo: patient.data || {} })\r\n    }\r\n\r\n    //页面按钮权限\r\n    async actionGetButton(data) {\r\n        let { cusTomPro } = this.state\r\n        let buttons = await getButton(data)\r\n        let buttonList = buttons.data.buttons\r\n        for (let x in cusTomPro) {\r\n            let pro_item = cusTomPro[x];\r\n            if (buttonList.findIndex(item => item.buttonKey == pro_item.btnKey) < 0) {\r\n                delete cusTomPro[x]\r\n            }\r\n        }\r\n        this.setState({\r\n            cusTomPro\r\n        })\r\n    }\r\n\r\n    handleCustomVisible = (visible) => {\r\n        if (!visible) {\r\n            this.setState({\r\n                customType: 0\r\n            })\r\n        }\r\n    }\r\n    //历史消息时间过滤（消息之间超过一分钟则显示时间条）\r\n    transTime(historyMsg){\r\n        if(historyMsg){\r\n            let time = historyMsg.length > 0 ? historyMsg[0].CreateTime : '';\r\n            historyMsg = historyMsg.map((item,index) => {\r\n                if (index != 0) {\r\n                    let diffTime = item.CreateTime - time;\r\n                    if (diffTime > 60000) {\r\n                        item.showTime = true;\r\n                        time = item.CreateTime\r\n                    }else{\r\n                        item.showTime = false;\r\n                    }\r\n                } else {\r\n                    item.showTime = true;\r\n                }\r\n                return item;\r\n            })\r\n        }\r\n        return historyMsg\r\n    }\r\n\r\n    render() {\r\n        let selToId = this.props.imInfo.selToId;\r\n        let currentFriend = this.props.imInfo.friendList ? this.props.imInfo.friendList[selToId] : {};\r\n        let historyMsg = this.props.imInfo.historyMsg ? this.props.imInfo.historyMsg[selToId] : null\r\n        historyMsg = this.transTime(historyMsg)\r\n        const { tab2PageType, patientInfo } = this.state\r\n        const userBaseInfo = () => (\r\n            <div className=\"base-info\">\r\n                <i className=\"avatar\">\r\n                    <img src={patientInfo.headUrl || ''} alt='头像' />\r\n                </i>\r\n                <i className=\"name\">{patientInfo.realName}</i>\r\n                {patientInfo.sex ? <i className='gender'>{patientInfo.sex}</i> : null}\r\n                <i>{patientInfo.age}岁</i>\r\n                <i>{patientInfo.mobile}</i>\r\n                <i>{patientInfo.groupName || ''}</i>\r\n                <i>{patientInfo.subGroupName || ''}</i>\r\n                {patientInfo.patientNo ? <i>编号：{patientInfo.patientNo}</i> : null}\r\n                <i>入组时间：{moment(patientInfo.enterGroupTime).format('YYYY-MM-DD')}</i>\r\n            </div>\r\n        )\r\n\r\n        const tab2 = () => (\r\n            <div className='tab2'>\r\n                <div className='tab2-header'>\r\n                    {tab2PageType === 'chart' ? (\r\n                        <Button type=\"primary\" onClick={this.handleTab2ChangePageType.bind(this, 'table')}>测量数据表</Button>\r\n                    ) : (\r\n                            <Button type=\"primary\" onClick={this.handleTab2ChangePageType.bind(this, 'chart')}>趋势图</Button>\r\n                        )}\r\n                </div>\r\n                {tab2PageType === 'chart' ? <DataChart patientId={selToId} /> : <DataTable patientId={selToId} />}\r\n            </div>\r\n        )\r\n\r\n        return (\r\n            <div className=\"chatBoard\">\r\n                <Modal\r\n                    visible={this.state.isAddPro}\r\n                    okText='确认'\r\n                    cancelText='取消'\r\n                    onOk={this.handleAddPro}\r\n                    onCancel={this.handleCancelAddPro}\r\n                >\r\n                    <p>{this.state.cusTomPro[this.state.customType] ? this.state.cusTomPro[this.state.customType].isAddText : ''}</p>\r\n                </Modal>\r\n\r\n                <Modal\r\n                    width={'90%'}\r\n                    height={500}\r\n                    className=\"file-modal\"\r\n                    visible={this.state.fileFlag}\r\n                    onCancel={this.closeFile}\r\n                    footer={null}\r\n                    destroyOnClose={true}\r\n                >\r\n                    <div className=\"archives-wrap\">\r\n                        {userBaseInfo()}\r\n                        <Tabs\r\n                            defaultActiveKey='1'\r\n                            onChange={this.handleTabsCallback.bind(this)}\r\n                            type=\"card\"\r\n                        >\r\n                            <TabPane tab=\"随访管理\" key=\"1\"><Followup onlyRead={true} patientId={selToId} /></TabPane>\r\n                            <TabPane tab=\"综合视图\" key=\"2\">{tab2()}</TabPane>\r\n                            <TabPane tab=\"诊疗记录\" key=\"3\"><MedicalRecord patientId={selToId} /></TabPane>\r\n                            <TabPane tab=\"测量管理\" key=\"4\"><Measurement patientId={selToId} /></TabPane>\r\n                            <TabPane tab=\"基本信息\" key=\"5\"><BaseInfo onlyRead={true} patientInfo={patientInfo} /></TabPane>\r\n                        </Tabs>\r\n                        {/* <Archives patientId={selToId} /> */}\r\n                    </div>\r\n                </Modal>\r\n\r\n                <ImgPreview\r\n                    visible={this.state.previewImg}  // 是否可见\r\n                    onClose={this.closePreiveImg} // 关闭事件\r\n                    imgIndex={this.state.preViewImgIndex}\r\n                    imgArr={this.state.previewImgArr} // 图片url\r\n                    picKey={'currentKey'} // 下载需要的key，根据自己需要决定\r\n                    isAlwaysCenterZoom={true} // 是否总是中心缩放，默认false，若为true，每次缩放图片都先将图片重置回屏幕中间\r\n                // isAlwaysShowRatioTips={true} // 是否总提示缩放倍数信息，默认false，只在点击按钮时提示，若为true，每次缩放图片都会提示\r\n                />\r\n\r\n                {\r\n                    selToId && currentFriend ? <div className=\"chat-wrap\">\r\n                        <div className=\"title\">\r\n                            {currentFriend.name}\r\n                        </div>\r\n                        <div className=\"message\" id=\"message\" ref=\"message\">\r\n                            <div className=\"opt\">\r\n                                {this.state.loading ? <div className=\"loading\">正在加载中...</div> :\r\n                                    (currentFriend.unReadCount > 10 ? <div className=\"load-unread-mess\" onClick={this.loadMess.bind(this, currentFriend.unReadCount, 1)}>{currentFriend.unReadCount - 10}条新消息</div> : (\r\n                                        currentFriend.hasMoreHistory ? <div onClick={this.loadMess.bind(this, 10, 2)} className=\"load-history\">点击加载更多咨询记录</div> : null\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                            {\r\n                                historyMsg ? <div className=\"info\" id='info' ref=\"info\">\r\n                                    {\r\n                                        historyMsg.map((item, index) => {\r\n                                            return <div className=\"mess-wrap\" key={index}>\r\n                                                {\r\n                                                    item.unReadCountLoadDone ? <div className=\"new_mess_tip\"><span>以下为新消息</span></div> : null\r\n                                                }\r\n                                                {\r\n                                                    item.showTime ? <div className=\"date\">{this.filterTime(item.CreateTime)}</div> : null\r\n                                                }\r\n                                                <div className={'mess ' + (item.From_Account == selToId ? 'left' : 'right')}>\r\n                                                    {item.From_Account == selToId ? <Avatar src={item.From_Account == selToId ? currentFriend.headUrl : this.state.user.headUrl} /> : null}\r\n                                                    <div className=\"content\">\r\n                                                        {\r\n                                                            item.MsgBody[0].MsgType == window.webim.MSG_ELEMENT_TYPE.TEXT ? <div className=\"text\">{\r\n                                                                item.reSend ? <a href=\"javasript:void(0)\" onClick={this.reSendText.bind(this, item)}>发送失败，请点击重发</a> : <span dangerouslySetInnerHTML={{ __html: this.convertTextToHtml(item.MsgBody[0].MsgContent.Text) }} ></span>\r\n                                                            }</div> : (\r\n                                                                    item.MsgBody[0].MsgType == window.webim.MSG_ELEMENT_TYPE.IMAGE ? <div className=\"image\">\r\n                                                                        {\r\n                                                                            this.convertImageMsgToHtml(item, item.MsgBody[0].MsgContent)\r\n                                                                        }\r\n                                                                    </div> : (\r\n                                                                            item.MsgBody[0].MsgType == window.webim.MSG_ELEMENT_TYPE.CUSTOM ? <div className=\"custom\" onClick={this.openPro.bind(this, item)}>\r\n                                                                                {\r\n                                                                                    this.convertCustomMsgToHtml(item.MsgBody[0].MsgContent)\r\n                                                                                }\r\n                                                                            </div> : null\r\n                                                                        )\r\n                                                                )\r\n                                                        }\r\n                                                    </div>\r\n                                                    {item.From_Account != selToId ? <Avatar src={item.From_Account == selToId ? currentFriend.headUrl : this.state.user.headUrl} /> : null}\r\n                                                </div>\r\n                                            </div>\r\n                                        })\r\n                                    }\r\n                                </div> : null\r\n                            }\r\n                        </div>\r\n                        <div className=\"controlBox\">\r\n\r\n                            <div className=\"control-bar\">\r\n                                <div className=\"patient-file\" onClick={this.openFile}>患者档案</div>\r\n                                {\r\n                                    currentFriend.type == 2 ? <div className=\"self-make-mess\">\r\n                                        {\r\n                                            Object.keys(this.state.cusTomPro).map(type => {\r\n                                                let item = this.state.cusTomPro[type];\r\n                                                let disabled = true;\r\n                                                item.pro.map(pro_item => {\r\n                                                    if (pro_item.selected == true) {\r\n                                                        if (type == 1) {\r\n                                                            item.begin_time_lable = switchEnum(pro_item.timeCategory, 'timeCategory')\r\n                                                            if (item.begin_time) {\r\n                                                                disabled = false;\r\n                                                            }\r\n                                                        } else {\r\n                                                            disabled = false;\r\n                                                        }\r\n                                                    }\r\n                                                })\r\n\r\n                                                const content = (\r\n                                                    <div className=\"pro-drop-wrap\">\r\n                                                        <div className=\"pop-title\"><span>{item.title}</span><i onClick={this.closeCustom}>x</i></div>\r\n                                                        <div className=\"custom-content\">\r\n                                                            <div className=\"pro\">\r\n                                                                {\r\n                                                                    item.pro.map((pro_item, index) => {\r\n                                                                        return <p key={index} onClick={this.selectPro.bind(this, type, index)}>{pro_item.selected ? <Icon style={{ 'color': '#1890FF' }} theme={'filled'} type=\"check-circle\" /> : <b></b>}<span>{pro_item.name}</span></p>\r\n                                                                    })\r\n                                                                }\r\n                                                            </div>\r\n                                                            {\r\n                                                                type == 1 ? <div className=\"date\">\r\n                                                                    <p>{item.begin_time_lable ? item.begin_time_lable : '开始时间（请选择日期）'}</p>\r\n                                                                    <DatePicker placeholder=\"请选择开始时间\" onChange={(date, dateStr) => this.changeProDate(type, date, dateStr)} value={item.begin_time} />\r\n                                                                </div> : null\r\n                                                            }\r\n                                                            <div className=\"btn-wrap\">\r\n                                                                <Button onClick={this.handleSendPro.bind(this, item, type)} size=\"small\" disabled={disabled}>发送</Button>\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n                                                    </div>\r\n                                                )\r\n\r\n                                                return <Dropdown key={type} overlay={content} trigger={['click']} placement=\"topRight\" visible={this.state.customType == type && this.state.showPro} onVisibleChange={this.handleCustomVisible}>\r\n                                                    <span className={(type == 1 ? 'follow-btn' : (type == 2 ? 'page-btn' : 'measure-btn')) + (this.state.customType == type ? ' active' : '')} onClick={this.openCustom.bind(this, type)}></span>\r\n                                                </Dropdown>\r\n                                            })\r\n                                        }\r\n                                    </div> : null\r\n                                }\r\n                            </div>\r\n                            <TextArea ref=\"text\" rows={3} onKeyUp={event => this.sendMsg(event, 'keyup')} />\r\n                            <div className=\"btn-wrap\">\r\n                                <Button onClick={this.sendMsg}>发送</Button>\r\n                                <p>按下Ctrl+Enter换行</p>\r\n                            </div>\r\n                        </div>\r\n                    </div> : <div className=\"no-selTo\">\r\n                            <img src={no_patient_pic} />\r\n                            <p>请选择患者</p>\r\n                        </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(state => {\r\n    return {\r\n        imInfo: state.imInfo\r\n    }\r\n}, actions)(chatBoard))","import React, {\r\n  Component\r\n} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { withRouter } from 'react-router-dom';\r\nimport LeftSession from './components/leftSession'\r\nimport ChatBoard from './components/chatBoard'\r\nimport { connect } from 'react-redux'\r\nimport actions from '../../redux/actions'\r\nimport { randomWord, getQueryObject } from '../../utils'\r\nimport { updateReadTime } from '../../apis/im'\r\nimport { checkPatientInTopic } from '../../apis/patient'\r\nimport './styles/im.scss'\r\n\r\nclass Communicate extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    let params = this.props.location ? getQueryObject(this.props.location.search) : {};\r\n    let identifier = params.id;\r\n    let { config, seltoId } = this.props.imInfo\r\n    if (!config.imLoginInfo || !config.imLoginInfo.identifier) {//登陆态判断\r\n      this.props.imLogin((imConfig) => {\r\n        if (identifier != seltoId) {\r\n          updateReadTime(imConfig.imLoginInfo.identifier, identifier)\r\n        }\r\n      });\r\n      this.init(identifier)\r\n    } else {\r\n      this.init(identifier)\r\n    }\r\n  }\r\n  init(identifier) {\r\n    let { recentSess, config, friendList, seltoId } = this.props.imInfo\r\n    if (identifier) {\r\n      this.props.setSelToId(identifier)\r\n      checkPatientInTopic(identifier).then(res => {\r\n        if (!friendList[identifier]) {\r\n          friendList[identifier] = {}\r\n        }\r\n        friendList[identifier].type = res.data ? 1 : 2\r\n        this.props.setFriendList(friendList)\r\n      })\r\n\r\n      if (!recentSess || recentSess.length == 0) {\r\n        this.props.initRecentContactList(identifier)\r\n      } else {\r\n        let flag = false;\r\n        let topIndex = 0;\r\n        recentSess.map((item, index) => {\r\n          if (item.identifier == identifier) {\r\n            item.unReadCount = 0;\r\n            topIndex = index;\r\n            flag = true;\r\n          }\r\n          return item;\r\n        })\r\n\r\n        if (flag) {\r\n          if (topIndex != 0) {\r\n            let topItem = recentSess.splice(topIndex, 1);\r\n            recentSess = topItem.concat(recentSess);\r\n          }\r\n          //会话中有此人\r\n          this.props.setRecentSess(recentSess)\r\n\r\n        } else {\r\n          //会话无此人\r\n          recentSess = [{\r\n            identifier: identifier,\r\n            unReadCount: 0,\r\n            msgDetail: {\r\n              sendTime: new Date().getTime(),\r\n              callbackCommand: \"Group.CallbackAfterSendMsg\",\r\n              msgId: randomWord(),\r\n              msgUniqueId: randomWord(),\r\n              fromAccount: identifier,\r\n              toAccount: config.imLoginInfo.identifier,\r\n              msgBody: {\r\n                msgType: 1,\r\n                msgContent: {\r\n                  text: ''\r\n                }\r\n              }\r\n            }\r\n          }].concat(recentSess)\r\n          this.props.setRecentSess(recentSess)\r\n        }\r\n      }\r\n\r\n      let historyMsg = this.props.imInfo.historyMsg\r\n      if (historyMsg && historyMsg[identifier]) {\r\n\r\n      } else {\r\n        this.props.loadMess({\r\n          identifier: identifier\r\n        }, data => {\r\n          this.props.setImState(data)\r\n        })\r\n      }\r\n\r\n      \r\n    } else {\r\n      if (!recentSess || recentSess.length == 0) {\r\n        this.props.initRecentContactList()\r\n      }\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    document.getElementsByClassName('ant-layout-content')[0].style.padding = '24px';\r\n    document.getElementById('my-layout').style.padding = '0 24px';\r\n    document.getElementById('my-breadcrumb').style.display = 'block';\r\n  }\r\n  componentDidMount() {\r\n    document.getElementsByClassName('ant-layout-content')[0].style.padding = 0;\r\n    document.getElementById('my-layout').style.padding = 0;\r\n    document.getElementById('my-breadcrumb').style.display = 'none';\r\n\r\n    let dom = ReactDOM.findDOMNode(this.refs['chat']);\r\n    dom.style.height = document.body.clientHeight - 64 + 'px'\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"chat-im\" ref=\"chat\">\r\n        <LeftSession></LeftSession>\r\n        <ChatBoard></ChatBoard>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(state => state, actions)(Communicate))\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Input, Table, Pagination, Button } from 'antd';\r\nimport { searchCrf, getCrfList } from '../../apis/crf';\r\nimport {getButton} from '../../apis/user'\r\nimport PageHeader from '../../components/PageHeader'\r\nimport {buttonAuth} from '../../utils/index'\r\nimport './styles/crf.scss'\r\n\r\nconst Search = Input.Search;\r\n\r\nclass CRF extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      scroll: {},\r\n      patientNum: '',\r\n      errorTip: '',\r\n      list: [],\r\n      page: 1,\r\n      total: 0\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    this.actionGetButton({pageId:5})\r\n  }\r\n  componentDidMount() {\r\n    getCrfList({\r\n      page: this.state.page,\r\n    }).then(res => {\r\n      let data = res.data.list || [];\r\n      let total = res.data.total;\r\n      data = data.map((item, index) => {\r\n        item.key = index;\r\n        return item;\r\n      })\r\n      this.setState({\r\n        list: data,\r\n        total\r\n      })\r\n    })\r\n    this.setState({\r\n      scroll: {\r\n        x: 780,\r\n        y: document.body.clientHeight - 482\r\n      }\r\n    })\r\n  }\r\n  gotoDetail = (text, record, index) => {\r\n    let mobile = record.userTopicInfo.mobile;\r\n    this.props.history.push('/crf/patient/edit?id=' + mobile)\r\n  }\r\n  searchPatient = () => {\r\n    if (this.state.patientNum.toString().trim() != '') {\r\n\r\n    } else {\r\n      this.setState({\r\n        errorTip: '请输入患者手机号码/患者编号'\r\n      })\r\n      return\r\n    }\r\n    searchCrf({\r\n      searchText: this.state.patientNum\r\n    }).then(res => {\r\n      if (!res.data) {\r\n        this.setState({\r\n          errorTip: '输入患者编号或手机号有误'\r\n        })\r\n      } else {\r\n        this.props.history.push('/crf/patient?id=' + this.state.patientNum)\r\n      }\r\n    })\r\n  }\r\n  inputSearch = (event) => {\r\n    let value = event.target.value;\r\n    this.setState({\r\n      patientNum: value,\r\n      errorTip:''\r\n    })\r\n  }\r\n  onPageChange = (page, pageSize) => {\r\n    clearTimeout(this.timer);\r\n    this.timer = setTimeout(() => {\r\n      this.setState({\r\n        page\r\n      })\r\n    }, 200)\r\n  }\r\n\r\n\r\n  //页面按钮权限\r\n  async actionGetButton(data){\r\n    let buttons = await getButton(data)\r\n    let buttonList = buttons.data.buttons\r\n    let buttonKey = buttonList.map(item => item.buttonKey)\r\n    this.setState({buttonKey})\r\n  }\r\n\r\n\r\n  render() {\r\n    const {buttonKey} = this.state\r\n\r\n    const columns = [{\r\n      title: '患者编号',\r\n      dataIndex: 'userTopicInfo',\r\n      key: 'patientNo',\r\n      render: user => user ? user.patientNo : '',\r\n      width: 100,\r\n    }, {\r\n      title: '患者姓名',\r\n      dataIndex: 'userTopicInfo',\r\n      key: 'realName',\r\n      render: user => user ? user.realName : '',\r\n      width: 130,\r\n    }, {\r\n      title: '手机号码',\r\n      dataIndex: 'userTopicInfo',\r\n      key: 'mobile',\r\n      render: user => user ? user.mobile : '',\r\n      width: 150,\r\n    }, {\r\n      title: '课题分组',\r\n      dataIndex: 'userTopicInfo',\r\n      key: 'topicName',\r\n      render: user => user ? user.topicName : '',\r\n      width: 100,\r\n    }, {\r\n      title: '课题医生',\r\n      dataIndex: 'userTopicInfo',\r\n      key: 'doctorName',\r\n      render: user => user ? user.doctorName : '',\r\n      width: 100,\r\n    }, {\r\n      title: '进行中的节点',\r\n      dataIndex: 'contentList',\r\n      key: 'nodes',\r\n      render: contentList => (\r\n        <span>\r\n          {contentList.map((node, index) => {\r\n            if (index < contentList.length - 1) {\r\n              return node.name + '、'\r\n            }\r\n            return node.name\r\n          })}\r\n        </span>\r\n      ),\r\n    }, {\r\n      title: '操作',\r\n      key: 'tags',\r\n      dataIndex: 'tags',\r\n      width: 80,\r\n      render: (text, record, index) => buttonAuth(buttonKey,'crf_create',<div className=\"opt\" onClick={this.gotoDetail.bind(this, text, record, index)}>录入</div>)\r\n    }]\r\n\r\n    return (\r\n      <div className=\"crf-wrap\">\r\n        <PageHeader title='CRF录入' />\r\n        <div className=\"search-bar\">\r\n          <div className=\"search-wrap\">\r\n            <Input value={this.state.patientNum} placeholder=\"请输入患者手机号码/患者编号\" onChange={event => this.inputSearch(event)} />\r\n            <Button type=\"primary\" onClick={this.searchPatient}>确定</Button>\r\n          </div>\r\n          <div className=\"warn-tip\">{this.state.errorTip}</div>\r\n        </div>\r\n        <div className=\"list-wrap\">\r\n          <div className=\"title\">待录入列表</div>\r\n          <div className=\"list\">\r\n            <Table bordered ref=\"table\" columns={columns} dataSource={this.state.list} pagination={false} scroll={{ x: this.state.scroll.x, y: this.state.scroll.y }} />\r\n            <Pagination pageSize={10} onChange={this.onPageChange} total={this.state.total} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(CRF)","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Timeline, Button, DatePicker, Dropdown } from 'antd';\r\nimport PageHeader from '../../components/PageHeader';\r\nimport { getQueryObject } from '../../utils'\r\nimport { searchCrf, addProNode } from '../../apis/crf'\r\nimport { formNameObj } from '../../utils/crfForm'\r\nimport './styles/process.scss'\r\n\r\nclass process extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            phoneId: '',\r\n            followDate: null,\r\n            userInfo: {},\r\n            vnodeList: []\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        let params = getQueryObject(this.props.location.search);\r\n        this.setState({\r\n            phoneId: params.id\r\n        })\r\n        searchCrf({\r\n            searchText:params.id\r\n        }).then(res => {\r\n            let data = res.data;\r\n            if (data) {\r\n                let userInfo = data.userTopicInfo || {};\r\n                let vnodeList = data.contentCrfList || [];\r\n                this.setState({\r\n                    userInfo,\r\n                    vnodeList\r\n                })\r\n            }\r\n        })\r\n    }\r\n    gotoDetail = (data, item) => {\r\n        this.props.history.push('/crf/patient/edit?id=' + this.state.phoneId + '&nodeId=' + data.id + '&pro=' + item.crfFormType);\r\n    }\r\n    addFollow = () => {\r\n        let pro = this.state.vnodeList[this.state.vnodeList.length-1];\r\n        addProNode({\r\n            programId: pro.programId,\r\n            nodeId: pro.id\r\n        }).then(res => {\r\n            let vnodeList = this.state.vnodeList.concat([{\r\n                ...res.data\r\n            }])\r\n            this.setState({\r\n                vnodeList,\r\n                followDate: null,\r\n                addFlag: false\r\n            })\r\n        })\r\n    }\r\n    closeAddFollow = (visible) => {\r\n        this.setState({\r\n            followDate: null,\r\n            addFlag: visible\r\n        })\r\n    }\r\n    changeFollowDate(date, dateStr) {\r\n        this.setState({\r\n            followDate: date\r\n        })\r\n    }\r\n    getDisabledDate(date) {\r\n        if(date.valueOf()-new Date().getTime()>0){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n    render() {\r\n        let { patientNo, realName, mobile, topicName, doctorName } = this.state.userInfo;\r\n        return (\r\n            <div className=\"crf-process\">\r\n                <PageHeader onBack={this.props.history.goBack} content={<div className=\"patient-info\">\r\n                    <p>患者编号：{patientNo}</p>\r\n                    <p>患者姓名：{realName}</p>\r\n                    <p>手机号码：{mobile}</p>\r\n                    <p>课题分组：{topicName}</p>\r\n                    <p>负责医生：{doctorName}</p>\r\n                </div>} />\r\n                \r\n                <div className=\"vnode-list\">\r\n                    <Timeline>\r\n                        {\r\n                            this.state.vnodeList.map((item, index) => {\r\n                                return <Timeline.Item key={index} color={item.status == 3 ? 'green' : (item.status == 2 ? 'red' : 'blue')}>\r\n                                    <div className=\"node\">\r\n                                        <span className=\"name\">{item.name}</span>\r\n                                        {\r\n                                            item.status == 3 ? <i className=\"done\">已完成</i> : (item.status == 2 ? <i className=\"wait\">待录入</i> : null)\r\n                                        }\r\n                                    </div>\r\n                                    <div className=\"node-detail\">\r\n                                        {\r\n                                            item.crfList.map((crfItem, _index) => {\r\n                                                return <p key={_index} className={crfItem.status == 3 ? 'done' : (crfItem.status == 2 ? 'wait' : '')} onClick={this.gotoDetail.bind(this, item, crfItem)}>{formNameObj[crfItem.crfFormType]}</p>\r\n                                            })\r\n                                        }\r\n                                    </div>\r\n                                </Timeline.Item>\r\n                            })\r\n                        }\r\n                    </Timeline>\r\n                    {\r\n                        this.state.vnodeList.length > 0 ? <Dropdown overlay={\r\n                            <div className=\"add-follow\">\r\n                                <div className=\"title\">请输入随访阶段开始时间</div>\r\n                                <DatePicker disabledDate={this.getDisabledDate.bind(this)} onChange={this.changeFollowDate.bind(this)} value={this.state.followDate} />\r\n                                <div className=\"btn-wrap\">\r\n                                    <Button size=\"small\" disabled={!this.state.followDate} onClick={this.addFollow}>确定</Button>\r\n                                    <Button size=\"small\" onClick={this.closeAddFollow.bind(this, false)}>取消</Button>\r\n                                </div>\r\n                            </div>\r\n                        } trigger={['click']} visible={this.state.addFlag} onVisibleChange={(visible) => this.closeAddFollow(visible)}>\r\n                            <Button onClick={() => this.setState({ addFlag: true })}>添加随访阶段</Button>\r\n                        </Dropdown> : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(process)","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Tabs, Button } from 'antd';\r\nimport PageHeader from '../../components/PageHeader'\r\nimport PickForm from '../../components/Crf_form'\r\nimport CrfFormNode from '../../components/CrfFormNode'\r\nimport { getQueryObject } from '../../utils'\r\nimport { formNameObj } from '../../utils/crfForm'\r\nimport { getCrfFormDetail, setCrfForm, searchCrf } from '../../apis/crf'\r\nimport './styles/detail.scss'\r\n\r\nclass crfDetail extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            nodeKey: '0',//当前节点key\r\n            vnodeList: [],//v1-v9节点数据\r\n            userInfo: {},//患者信息\r\n            formData: null,//表单数据\r\n            curPro: {},\r\n            disabled:false,\r\n            canSave: false,//可保存标识（表单中任一字段改变了即为true）\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        this.getCrfDetail('init')\r\n    }\r\n    getCrfDetail(type){\r\n        let params = getQueryObject(this.props.location.search);\r\n        searchCrf({\r\n            searchText:params.id\r\n        }).then(res => {\r\n            let data = res.data;\r\n            let proId = '';\r\n            if (data) {\r\n                this.setState({\r\n                    canSave: false,\r\n                    userInfo: data.userTopicInfo || {},\r\n                    vnodeList: data.contentCrfList || []\r\n                })\r\n                if(type=='init'){\r\n                    let pro = {};\r\n                    let vIndex = data.contentCrfList.findIndex(item => item.id == params.nodeId)\r\n                    if (vIndex >= 0) {\r\n                        if (params.pro) {\r\n                            pro = data.contentCrfList[vIndex].crfList.find(item => item.crfFormType == params.pro)\r\n                        } else {\r\n                            pro = data.contentCrfList[vIndex].crfList.find(item => item.status == 2)\r\n                        }\r\n                        this.setState({\r\n                            nodeKey: vIndex.toString()\r\n                        })\r\n                    }\r\n                    if (pro.id) {\r\n                        this.selectPro(pro)\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n    selectStep = (activeKey) => {\r\n        this.setState({\r\n            nodeKey: activeKey\r\n        },() => {\r\n            this.selectPro(this.state.vnodeList[activeKey].crfList[0])\r\n        })\r\n    }\r\n    selectPro(proData) {\r\n        let { nodeKey, vnodeList } = this.state;\r\n        let { contentNum, crfFormType } = proData;\r\n        getCrfFormDetail({\r\n            contentId: vnodeList[nodeKey].id,\r\n            contentNum,\r\n            crfFormType\r\n        }).then(res => {\r\n            let params = {\r\n                formData: res.data || {},\r\n                canSave: false\r\n            }\r\n            \r\n            if (proData) {\r\n                params.curPro = proData;\r\n            }\r\n            this.setState(params)\r\n        })\r\n    }\r\n    haneleSubmit(data) {\r\n        let curPro = this.state.curPro\r\n        let { id, userId, programId, followUpContentId, contentNum, crfFormType } = curPro;\r\n        let other_data = {\r\n            crfId: id,\r\n            userId,\r\n            programId,\r\n            followUpContentId,\r\n            num: contentNum,\r\n            crfType: crfFormType\r\n        }\r\n        if (this.state.formData.id) {\r\n            other_data.id = this.state.formData.id\r\n        }\r\n        data = { ...other_data, ...data }\r\n        this.setState({\r\n            disabled:true\r\n        })\r\n        setCrfForm(data, curPro.crfFormType).then(res => {\r\n            let data = res.data;\r\n            let formData = this.state.formData;\r\n            if(data.id){\r\n                formData = Object.assign({},this.state.formData,{id:data.id})\r\n            }\r\n            this.getCrfDetail()\r\n            this.setState({\r\n                disabled:false,\r\n                formData\r\n            })\r\n        }).catch(e => {\r\n            this.setState({\r\n                disabled:false\r\n            })\r\n        })\r\n    }\r\n    handleCancel = () => {\r\n        \r\n    }\r\n    setCanSave = (canSave) => {\r\n        this.setState({\r\n            canSave\r\n        })\r\n    }\r\n    render() {\r\n        let { patientNo, realName, mobile, topicName, doctorName } = this.state.userInfo;\r\n        return <div className=\"crf-detail\">\r\n            <PageHeader onBack={this.props.history.goBack} content={<div className=\"patient-info\">\r\n                <p>患者编号：{patientNo}</p>\r\n                <p>患者姓名：{realName}</p>\r\n                <p>手机号码：{mobile}</p>\r\n                <p>课题分组：{topicName}</p>\r\n                <p>负责医生：{doctorName}</p>\r\n            </div>} />\r\n            <div className=\"node-detail\">\r\n                <CrfFormNode list={this.state.vnodeList} activeFormId={this.state.curPro.id} activeKey={this.state.nodeKey} selectStep={this.selectStep.bind(this)} selectPro={this.selectPro.bind(this)}></CrfFormNode>\r\n                {\r\n                    this.state.formData ? <PickForm formData={this.state.formData} name={this.state.curPro.crfFormType} disabled={this.state.disabled} canSave={this.state.canSave} setCanSave={this.setCanSave} onCancel={this.handleCancel} onSubmit={this.haneleSubmit.bind(this)}></PickForm> : null\r\n                }\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default withRouter(crfDetail)","import React, { Component } from 'react';\r\nimport {Button,Form,Input,Alert, Modal,message} from 'antd'\r\nimport {formItemLayout,tailFormItemLayout,formItemLayoutTitle,tailFormItemLayoutTitle} from '../../../utils/formItemLayout'\r\nimport {userInfo,updateDoctorUserInfo,updateAccount} from '../../../apis/user';\r\nimport {getValidateCode,sendCode} from '../../../apis/sms';\r\nimport '../styles/center.css'\r\nimport { isPhoneNumber } from '../../../utils/validate';\r\nimport {countDown} from '../../../utils/index';\r\nimport configs from '../../../configs/index';\r\nimport uuid from 'uuid'\r\nimport md5 from 'md5'\r\nconst validateCodePath = '/rpmsms_service/verify/getValidateCode'\r\n\r\nconst FormItem = Form.Item\r\n\r\nclass Info extends Component{\r\n    state = {\r\n        userInfo:{},\r\n        errorMessage:null,\r\n        successMessage:null,\r\n        changePasswordLoading:false,\r\n        editLoading:false,\r\n        editMobileVisiable:false,\r\n        editMobileErrorMessage:null,\r\n        editMobileSuccessMessage:null,\r\n        mobile:\"\",\r\n        code:\"\",\r\n        password:\"\",\r\n        mobileCodeWords:\"获取验证码\",\r\n        codeUrl:\"\",\r\n        updateLoading:false,\r\n        disabled:true\r\n    }\r\n    componentWillMount(){\r\n        this.actionGetUserInfo();\r\n        //this.actionSendCode({mobile:\"15919885896\",type:0,appType:1,busiType:\"\",extParam:\"\",code:\"000000\"})\r\n    }\r\n    //修改基本信息输入框\r\n    handleInputUserInfo(name,e){\r\n        let {userInfo} = this.state;\r\n        userInfo[name] = e.target.value;\r\n        let newUserInfo = Object.assign({},userInfo)\r\n        this.setState({userInfo:newUserInfo})\r\n    }\r\n\r\n    //提交医生基本信息\r\n    handleEditUserInfo(){\r\n        let {userInfo} = this.state\r\n        this.actionUpdateDoctorUserInfo(userInfo)\r\n    }\r\n\r\n    handleCancel(){\r\n        this.setState({editMobileVisiable:false})\r\n    }\r\n\r\n    handleEditMobile(){\r\n        this.setState({editMobileVisiable:true})\r\n    }\r\n\r\n    //修改帐号短信验证码\r\n    handleGetCode(){\r\n        let {mobile,code} = this.state;\r\n        if(mobile && isPhoneNumber(mobile)){\r\n            if(code){\r\n                //获取验证码\r\n                this.actionGetMobileCode({mobile,type:0,appType:1,busiType:'doctor_update_account',code})\r\n                return\r\n            }\r\n            this.setState({editMobileErrorMessage:'请输入正确的图形验证码'})\r\n            return\r\n        }\r\n        this.setState({editMobileErrorMessage:'请输入正确的手机号'})\r\n    }\r\n\r\n    //修改帐号输入框\r\n    handleEditMobileInput(name,e){\r\n        let mobile = e.target.value\r\n        this.setState({[name]:mobile})\r\n        if(isPhoneNumber(mobile)){\r\n            //this.actionGetValidateCode(mobile)\r\n            this.handleMakeUrl(mobile)\r\n        }\r\n    }\r\n\r\n    //重新获得焦点是清空错误信息\r\n    handleHideErrorMsg(){\r\n        this.setState({editMobileErrorMessage:null})\r\n    }\r\n\r\n    handleMakeUrl(mobile){\r\n        let baseUrl = configs.server + validateCodePath\r\n        let requestId = `${uuid.v1().replace(/-/g,'')}`\r\n        let appType = configs.appType\r\n        let codeUrl =  baseUrl + \"?mobile=\"+mobile+\"&requestId=\"+requestId+\"&appType=\"+appType\r\n        this.setState({codeUrl})\r\n    }\r\n\r\n    //提交\r\n    handleUpdateAccount(){\r\n        let {mobile,checkCode,oldPassword} = this.state\r\n        let newMobile = mobile\r\n        if(newMobile && checkCode && oldPassword){\r\n            this.actionUpdateAccount({newMobile,checkCode,oldPassword:md5(oldPassword)})\r\n        }\r\n    }\r\n\r\n    handleChangeCode(){\r\n        let {mobile} = this.state\r\n        this.handleMakeUrl(mobile)\r\n    }\r\n\r\n    handleEditAble(){\r\n        this.setState({disabled:false})\r\n    }\r\n\r\n    handleCancelEdit(){\r\n        this.setState({disabled:true,errorMessage:null})\r\n    }\r\n\r\n    /**\r\n     * 用户信息\r\n     */\r\n    async actionGetUserInfo(){\r\n        let info = await userInfo();\r\n        this.setState({userInfo:info.data || {}})\r\n    }\r\n\r\n    /**\r\n     * 修改医生基本信息\r\n     */\r\n    async actionUpdateDoctorUserInfo(data){\r\n        this.setState({editLoading:true})\r\n        let updateDoctor = await updateDoctorUserInfo(data).catch(err => this.setState({errorMessage:err.msg,editLoading:false}))\r\n        if(updateDoctor && updateDoctor.code === 200){\r\n            this.setState({successMessage:\"修改成功\",editLoading:false,disabled:true})\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 短信验证码\r\n     * @param {*} data \r\n     */\r\n    async actionGetMobileCode(data){\r\n        let self = this\r\n        let mobileCode = await sendCode(data).catch(err => message.error(err.msg))\r\n        if(mobileCode && mobileCode.code === 200){\r\n            countDown(30,(res)=>{\r\n                if(res === 0){\r\n                    self.setState({\r\n                        mobileCodeWords:\"获取验证码\",\r\n                        sendCode:false\r\n                    })\r\n                    return\r\n                }\r\n                self.setState({\r\n                    mobileCodeWords:res+\"s\",\r\n                    sendCode:true\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 图形验证嘛\r\n     * @param {*} mobile \r\n     */\r\n    async actionGetValidateCode(mobile){\r\n        let code = await getValidateCode(mobile)\r\n        console.log(code)\r\n    }\r\n\r\n\r\n    /**\r\n     * 短信验证码\r\n     */\r\n    async actionSendCode(data){\r\n        let code = await sendCode(data)\r\n        console.log(code)\r\n    }\r\n\r\n\r\n    /**\r\n     * 修改帐号\r\n     */\r\n    async actionUpdateAccount(data){\r\n        this.setState({updateLoading:true})\r\n        let account = await updateAccount(data)\r\n        if(account && account.code === 200){\r\n            message.success(\"帐号修改成功\")\r\n            this.setState({updateLoading:false,editMobileVisiable:false})\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        const {userInfo,errorMessage,successMessage,editLoading,editMobileVisiable,\r\n            editMobileErrorMessage,editMobileSuccessMessage,mobileCodeWords,codeUrl,\r\n            updateLoading,disabled\r\n        } = this.state\r\n\r\n        //所属课程\r\n        let topicList = userInfo.topicList || [];\r\n        let topicItem = topicList.map((item,index)=>(<span className=\"class-item\" key={index}>{item.topicName}</span>))\r\n\r\n        return(\r\n            <div>\r\n                <Form className=\"user-center\">\r\n                    <FormItem {...formItemLayout} label=\"姓名\" >\r\n                        <Input disabled={disabled} value={userInfo.realName} onChange={this.handleInputUserInfo.bind(this,'realName')}/>\r\n                    </FormItem>\r\n                    <FormItem {...formItemLayout} label=\"职称\" >\r\n                        <Input  disabled={disabled} value={userInfo.jobTitle} onChange={this.handleInputUserInfo.bind(this,'jobTitle')}/>\r\n                    </FormItem>\r\n                    <FormItem {...formItemLayout} label=\"医院\" >\r\n                        <span>{userInfo.hospitalName}</span>\r\n                    </FormItem>\r\n                    <FormItem {...formItemLayout} label=\"科室\" >\r\n                        <Input  disabled={disabled} value={userInfo.departmentName} onChange={this.handleInputUserInfo.bind(this,'departmentName')}/>\r\n                    </FormItem>\r\n                    <FormItem {...formItemLayout} label=\"地址\" >\r\n                        <Input  disabled={disabled} value={userInfo.hospitalAddress} onChange={this.handleInputUserInfo.bind(this,'hospitalAddress')}/>\r\n                    </FormItem>\r\n                    <FormItem {...formItemLayout} label=\"联系方式\" >\r\n                        {userInfo.mobile}\r\n                        <span className=\"update-mobile\" onClick={this.handleEditMobile.bind(this)}>修改手机号</span>\r\n                    </FormItem>\r\n                    <FormItem {...formItemLayout} label='所属课题'>\r\n                        {topicItem && topicItem.length > 0 ? topicItem:\"暂无\"}\r\n                    </FormItem>\r\n                    <FormItem {...tailFormItemLayout} >\r\n                        {errorMessage ? <Alert message={errorMessage} type=\"error\" /> : null}\r\n                        {successMessage ? <Alert message={successMessage} type=\"success\" /> : null}\r\n                    </FormItem>\r\n                    <FormItem {...tailFormItemLayout} >\r\n                        {disabled?<Button type=\"primary\" onClick={this.handleEditAble.bind(this)}>编辑</Button>:<Button loading={editLoading} type=\"primary\" onClick={this.handleEditUserInfo.bind(this)}>提交</Button>}\r\n                        {disabled?null:<Button onClick={this.handleCancelEdit.bind(this)} type=\"default\" style={{marginLeft:\"20px\"}}>取消</Button>}\r\n                    </FormItem>\r\n                </Form>\r\n                <Modal \r\n                    title=\"修改帐号\"\r\n                    visible={editMobileVisiable}\r\n                    onCancel={this.handleCancel.bind(this)}\r\n                    footer={false}\r\n                >\r\n                    <Form ref=\"updateAccountForm\" onSubmit={this.handleUpdateAccount.bind(this)}>\r\n                        <FormItem {...formItemLayoutTitle} label=\"帐号\">\r\n                            <Input \r\n                                placeholder=\"请输入新手机号码\" \r\n                                onChange={this.handleEditMobileInput.bind(this,'mobile')}\r\n                                onFocus={this.handleHideErrorMsg.bind(this)}\r\n                            />\r\n                        </FormItem>\r\n                        {codeUrl?(\r\n                            <FormItem {...formItemLayoutTitle} label=\"图形验证码\">\r\n                                <Input \r\n                                    placeholder=\"请输入图形验证码\" \r\n                                    onChange={this.handleEditMobileInput.bind(this,'code')}\r\n                                    onFocus={this.handleHideErrorMsg.bind(this)}\r\n                                    addonAfter={<img onClick={this.handleChangeCode.bind(this)} style={{display:\"block\",height:\"30px\",borderRadius:\"5px\"}} src={codeUrl} alt=\"\"/>}\r\n                                />\r\n                            </FormItem>\r\n                        ):null}\r\n                        <FormItem {...formItemLayoutTitle} label=\"短信验证码\">\r\n                            <Input \r\n                                placeholder='请输入短信验证码' \r\n                                addonAfter={<span onClick={this.handleGetCode.bind(this)} style={{cursor:'pointer'}}>{mobileCodeWords}</span>}\r\n                                onChange={this.handleEditMobileInput.bind(this,'checkCode')}\r\n                                onFocus={this.handleHideErrorMsg.bind(this)}\r\n                            />\r\n                        </FormItem>\r\n                        <FormItem {...formItemLayoutTitle} label=\"登录密码\">\r\n                            <Input \r\n                                type=\"password\"\r\n                                placeholder=\"请输入登录密码\"\r\n                                onChange={this.handleEditMobileInput.bind(this,'oldPassword')}\r\n                                onFocus={this.handleHideErrorMsg.bind(this)}\r\n                            />\r\n                        </FormItem>\r\n                        <FormItem {...tailFormItemLayoutTitle}>\r\n                            {editMobileErrorMessage ? <Alert message={editMobileErrorMessage} type=\"error\" /> : null}\r\n                            {editMobileSuccessMessage ? <Alert message={editMobileSuccessMessage} type=\"success\" /> : null}\r\n                        </FormItem>\r\n                        <FormItem {...tailFormItemLayoutTitle}>\r\n                            <Button loading={updateLoading} type=\"primary\" onClick={this.handleUpdateAccount.bind(this)}>提交</Button>\r\n                        </FormItem>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Info","import React, { Component } from 'react';\r\nimport {Button,Form,Input,Alert} from 'antd'\r\nimport {formItemLayout,tailFormItemLayout} from '../../../utils/formItemLayout'\r\nimport {updateUserPassword,userInfo} from '../../../apis/user';\r\nimport {isPassword} from '../../../utils/validate';\r\nimport {delCookie} from '../../../utils/index';\r\nimport md5 from 'md5';\r\nimport '../styles/center.css'\r\n\r\nconst FormItem = Form.Item\r\n\r\nclass UserCenter extends Component{\r\n    state = {\r\n        userInfo:{},\r\n        errorMessage:null,\r\n        successMessage:null,\r\n        changePasswordLoading:false,\r\n        editLoading:false,\r\n        disabled:true\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.actionGetUserInfo();\r\n    }\r\n\r\n    handleGetCode(){\r\n\r\n    }\r\n\r\n    //检验密码\r\n    handleCheckPassword(e){\r\n        let value = e.target.value;\r\n        if(!isPassword(value)){\r\n            this.setState({errorMessage:\"请输入6-16位密码\"})\r\n        }\r\n    }\r\n\r\n    handleFocusInput(){\r\n        this.setState({errorMessage:null})\r\n    }\r\n\r\n    //校验新密码\r\n    handleCheckPasswordTwice(e){\r\n        let {newPassword} = this.state\r\n        let newPassword2 = e.target.value\r\n        if(newPassword !== newPassword2){\r\n            this.setState({errorMessage:\"两次输入的密码不一致\"})\r\n        }\r\n    }\r\n\r\n    //修改密码输入框\r\n    handlePasswordInput(name,e){\r\n        let value = e.target.value;\r\n        this.setState({[name]:value})\r\n    }\r\n\r\n    //修改密码\r\n    handleUpdatePassword(){\r\n        let {oldPassword,newPassword,userInfo} = this.state;\r\n        if(oldPassword && isPassword(oldPassword) && newPassword && isPassword(newPassword)){\r\n            this.actionUpdateUserPassword({\r\n                newPassword:md5(newPassword),\r\n                oldPassword:md5(oldPassword),\r\n                username:userInfo.mobile\r\n            })\r\n            return\r\n        }\r\n        this.setState({errorMessage:\"请输入6-16位密码\"})\r\n    }\r\n\r\n    handleEdit(){\r\n        this.setState({disabled:false})\r\n    }\r\n\r\n    handleCancel(){\r\n        this.setState({disabled:true,errorMessage:null})\r\n    }\r\n\r\n    /**\r\n     * 用户信息\r\n     */\r\n    async actionGetUserInfo(){\r\n        let info = await userInfo();\r\n        this.setState({userInfo:info.data || {}})\r\n    }\r\n\r\n    /**\r\n     * 修改密码\r\n     * @param {*} data \r\n     */\r\n    async actionUpdateUserPassword(data){\r\n        let self = this;\r\n        this.setState({changePasswordLoading:true})\r\n        let updatePassword = await updateUserPassword(data).catch(err=>{\r\n            self.setState({changePasswordLoading:false,errorMessage:err.msg})\r\n        })\r\n        if(updatePassword && updatePassword.code === 200){\r\n            self.setState({changePasswordLoading:false,successMessage:\"修改密码成功，请使用新密码登录\",disabled:true})\r\n            setTimeout(()=>{\r\n                delCookie(\"accessToken\")\r\n                delCookie(\"session\")\r\n                window.location.href = '/rpm/#/login'\r\n            },2000)\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {userInfo,errorMessage,changePasswordLoading,successMessage,disabled} = this.state\r\n        return(\r\n            <Form className=\"user-center\">\r\n                <FormItem {...formItemLayout} label=\"帐号\">\r\n                    <span>{userInfo.mobile}</span>\r\n                </FormItem>\r\n                <FormItem {...formItemLayout} label=\"原密码\">\r\n                    <Input \r\n                        placeholder='请输入原密码' \r\n                        type=\"password\"\r\n                        onChange={this.handlePasswordInput.bind(this,'oldPassword')}\r\n                        onBlur={this.handleCheckPassword.bind(this)}\r\n                        onFocus={this.handleFocusInput.bind(this)}\r\n                        disabled={disabled}\r\n                    />\r\n                </FormItem>\r\n                <FormItem {...formItemLayout} label=\"新密码\">\r\n                    <Input \r\n                        placeholder=\"请输入新密码\"\r\n                        type=\"password\"\r\n                        onBlur={this.handleCheckPassword.bind(this)}\r\n                        onFocus={this.handleFocusInput.bind(this)}\r\n                        onChange={this.handlePasswordInput.bind(this,'newPassword')}\r\n                        disabled={disabled}\r\n                    />\r\n                </FormItem>\r\n                <FormItem {...formItemLayout} label=\"确认新密码\">\r\n                    <Input \r\n                        placeholder=\"请再次输入新密码\"\r\n                        type=\"password\"\r\n                        onBlur={this.handleCheckPasswordTwice.bind(this)}\r\n                        onFocus={this.handleFocusInput.bind(this)}\r\n                        onChange={this.handlePasswordInput.bind(this,'newPassword2')}\r\n                        disabled={disabled}\r\n                    />\r\n                </FormItem>\r\n                <FormItem {...tailFormItemLayout}>\r\n                    {errorMessage ? <Alert message={errorMessage} type=\"error\" /> : null}\r\n                    {successMessage ? <Alert message={successMessage} type=\"success\" /> : null}\r\n                </FormItem>\r\n\r\n                <FormItem {...tailFormItemLayout}>\r\n                    {disabled?<Button type=\"primary\" onClick={this.handleEdit.bind(this)}>编辑</Button>:<Button loading={changePasswordLoading} type=\"primary\" onClick={this.handleUpdatePassword.bind(this)}>提交</Button>}\r\n                    {disabled?null:<Button onClick={this.handleCancel.bind(this)} type=\"default\" style={{marginLeft:\"20px\"}}>取消</Button>}\r\n                </FormItem>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserCenter","import React, { Component } from 'react';\r\nimport {Form,Upload, Icon,Modal} from 'antd'\r\nimport {formItemLayout} from '../../../utils/formItemLayout'\r\nimport '../styles/center.css'\r\nconst FormItem = Form.Item\r\n\r\n\r\nclass Certification extends Component{\r\n    state = {\r\n        fileList: [{\r\n            uid: '-1',\r\n            name: 'xxx.png',\r\n            status: 'done',\r\n            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\r\n        }],\r\n        previewVisible:false\r\n    }\r\n\r\n    handleCancel = () => this.setState({ previewVisible: false })\r\n\r\n    handlePreview = (file) => {\r\n        this.setState({\r\n          previewImage: file.url || file.thumbUrl,\r\n          previewVisible: true,\r\n        });\r\n    }\r\n\r\n    render(){\r\n        const {fileList,previewVisible,previewImage} = this.state\r\n\r\n        const uploadButton = (\r\n            <div>\r\n              <Icon type=\"plus\" />\r\n              <div className=\"ant-upload-text\">Upload</div>\r\n            </div>\r\n        );\r\n        \r\n        return(\r\n            <Form className=\"user-center\">\r\n                <FormItem {...formItemLayout} label=\"医师执业证书\">\r\n                    <Upload\r\n                        action=\"//jsonplaceholder.typicode.com/posts/\"\r\n                        listType=\"picture-card\"\r\n                        fileList={fileList}\r\n                        onPreview={this.handlePreview}\r\n                        onChange={this.handleChange}\r\n                        >\r\n                        {fileList.length >= 3 ? null : uploadButton}\r\n                    </Upload>\r\n                </FormItem>\r\n                <FormItem {...formItemLayout} label=\"医师资格证书\">\r\n                    <Upload\r\n                        action=\"//jsonplaceholder.typicode.com/posts/\"\r\n                        listType=\"picture-card\"\r\n                        fileList={fileList}\r\n                        onPreview={this.handlePreview}\r\n                        onChange={this.handleChange}\r\n                        >\r\n                        {fileList.length >= 3 ? null : uploadButton}\r\n                    </Upload>\r\n                </FormItem>\r\n                <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\r\n                    <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n                </Modal>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Certification","import React, { Component } from 'react';\r\nimport {Tabs} from 'antd'\r\nimport PageHeader from '../../components/PageHeader';\r\nimport {updateUserPassword} from '../../apis/user';\r\nimport {isPassword} from '../../utils/validate';\r\nimport {delCookie,buttonAuth} from '../../utils/index';\r\nimport {Info,UpdatePassword,Certification} from './components/index'\r\nimport {getButton} from '../../apis/user'\r\nimport md5 from 'md5';\r\nimport './styles/center.css'\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass UserCenter extends Component{\r\n    state = {\r\n        userInfo:{},\r\n        errorMessage:null,\r\n        successMessage:null,\r\n        changePasswordLoading:false,\r\n        editLoading:false,\r\n        buttonKey:[]\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.actionGetButton({pageId:6})\r\n    }\r\n\r\n    //检验密码\r\n    handleCheckPassword(e){\r\n        let value = e.target.value;\r\n        if(!isPassword(value)){\r\n            this.setState({errorMessage:\"请输入6-16位密码\"})\r\n        }\r\n    }\r\n\r\n    handleFocusInput(){\r\n        this.setState({errorMessage:null})\r\n    }\r\n\r\n    //校验新密码\r\n    handleCheckPasswordTwice(e){\r\n        let {newPassword} = this.state\r\n        let newPassword2 = e.target.value\r\n        if(newPassword !== newPassword2){\r\n            this.setState({errorMessage:\"两次输入的密码不一致\"})\r\n        }\r\n    }\r\n\r\n    //修改密码输入框\r\n    handlePasswordInput(name,e){\r\n        let value = e.target.value;\r\n        this.setState({[name]:value})\r\n    }\r\n\r\n    //修改密码\r\n    handleUpdatePassword(){\r\n        let {oldPassword,newPassword,userInfo} = this.state;\r\n        if(isPassword(oldPassword) && isPassword(newPassword)){\r\n            this.actionUpdateUserPassword({\r\n                newPassword:md5(newPassword),\r\n                oldPassword:md5(oldPassword),\r\n                username:userInfo.mobile\r\n            })\r\n            return\r\n        }\r\n        this.setState({errorMessage:\"请输入6-16位密码\"})\r\n    }\r\n\r\n    /**\r\n     * 修改密码\r\n     * @param {*} data \r\n     */\r\n    async actionUpdateUserPassword(data){\r\n        let self = this;\r\n        this.setState({changePasswordLoading:true})\r\n        let updatePassword = await updateUserPassword(data).catch(err=>{\r\n            self.setState({changePasswordLoading:false,errorMessage:err.msg})\r\n        })\r\n        if(updatePassword && updatePassword.code === 200){\r\n            self.setState({changePasswordLoading:false,successMessage:\"修改密码成功，请使用新密码登录\"})\r\n            setTimeout(()=>{\r\n                delCookie(\"accessToken\")\r\n                delCookie(\"session\")\r\n                window.location.href = '/rpm/#/login'\r\n            },2000)\r\n        }\r\n    }\r\n\r\n    //页面按钮权限\r\n    async actionGetButton(data){\r\n        let buttons = await getButton(data)\r\n        let buttonList = buttons.data.buttons\r\n        let buttonKey = buttonList.map(item => item.buttonKey)\r\n        this.setState({buttonKey})\r\n    }\r\n\r\n    render(){\r\n        const {buttonKey} = this.state\r\n        return(\r\n            <div>\r\n                <PageHeader title='个人中心'/>\r\n                <Tabs defaultActiveKey=\"1\" animated={false} type=\"card\" >\r\n                    <TabPane tab=\"基本信息\" key=\"1\">\r\n                       <Info />\r\n                    </TabPane>\r\n                    {/* {buttonAuth(buttonKey,'qw_confirm',<TabPane tab=\"权威认证\" key=\"2\"><Certification /></TabPane>)} */}\r\n                    <TabPane tab=\"修改密码\" key=\"3\">\r\n                       <UpdatePassword />\r\n                    </TabPane>\r\n                </Tabs>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserCenter","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Timeline, Icon } from 'antd';\r\nimport { parseTime } from '../../../utils'\r\nimport {switchEnum} from '../../../utils/enum'\r\nimport '../styles/follow.scss'\r\n\r\nclass Follow extends Component {\r\n    render() {\r\n        let data = this.props.data;\r\n        return <div className=\"follow-pro\">\r\n            <div className=\"pro-name\">{data.name}</div>\r\n            <div className=\"info\">\r\n                <p className=\"doctor\">{data.doctorName}提醒你</p>\r\n                <div className=\"list\">\r\n                    <Timeline>\r\n                        {\r\n                            data.list.map((item, index) => {\r\n                                return <Timeline.Item className=\"node-item\" key={index} dot={<Icon type=\"clock-circle-o\" />}>\r\n                                    <div className=\"vnode\"><span className=\"node-name\">{item.name}</span><span>{data.categoryTime}{item.planTime}{switchEnum(item.timeType,'timeType')}后（{parseTime(item.startDate,'YYYY-MM-DD')}）</span></div>\r\n                                    <div className=\"content\">内容：{item.content}</div>\r\n                                    <div className=\"address\">地点：{switchEnum(item.site,'site')}</div>\r\n                                </Timeline.Item>\r\n                            })\r\n                        }\r\n                    </Timeline>\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport default withRouter(Follow)","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { enumObj } from '../../../utils/enum';\r\nimport '../styles/measure.scss';\r\n\r\nclass Measure extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            proType: {\r\n                1: '血糖',\r\n                2: '血压',\r\n                3: '体重'\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        let data = this.props.data;\r\n        return <div className=\"measure\">\r\n            <div className=\"pro-name\">{data.name}</div>\r\n            <div className=\"list\">\r\n                {\r\n                    data.list.map((item, index) => {\r\n                        return <div key={index} className=\"item\">\r\n                            <span className=\"name\">测量\r\n                                {\r\n                                    enumObj.measurementType.map(_item => {\r\n                                        if (_item.key == item.type) {\r\n                                            return _item.value\r\n                                        }\r\n                                    })\r\n                                }\r\n                            </span>\r\n                            <span>频率：{\r\n                                enumObj.frequency.map(_item => {\r\n                                    if (_item.key == item.frequency) {\r\n                                        return _item.value\r\n                                    }\r\n                                })}\r\n                            </span>\r\n                        </div>\r\n                    })\r\n                }\r\n            </div>\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport default withRouter(Measure)","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { getQueryObject } from '../../utils';\r\nimport Follow from './components/follow';\r\nimport Measure from './components/measure';\r\nimport { getPatientPlan } from '../../apis/plan'\r\nimport './styles/project.scss'\r\n\r\nclass Project extends Component {\r\n    state = {\r\n        type: '',\r\n        proData: null\r\n    }\r\n\r\n    componentWillMount() {\r\n        let params = getQueryObject(this.props.location.search)\r\n\r\n        getPatientPlan(params.id, params.type).then(res => {\r\n            res.data.list.sort((a, b) => {\r\n                return a.num - b.num\r\n            })\r\n            this.setState({\r\n                type: params.type,\r\n                proData: res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let {\r\n            proData,\r\n            type\r\n        } = this.state\r\n        return <div className=\"project-wrap\">\r\n            {\r\n                type == 1 ? <Follow data={proData}></Follow> : (type == 3 ? <Measure data={proData}></Measure> : null)\r\n            }\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default withRouter(Project)","/**\r\n *请保证一级菜单key和路径同名 \r\n */\r\n\r\nimport Index from '../views/index'\r\nimport Login from '../views/user/login'\r\nimport NotFound from '../views/common/404'\r\nimport Signup from '../views/user/signup'\r\n\r\n/**\r\n * 患者管理\r\n */\r\nimport Patient from '../views/patient/patient'\r\nimport PatientArchives from '../views/patient/archives'\r\n/**\r\n * 方案管理\r\n */\r\nimport Plan from '../views/plan/plan'\r\nimport PlanEdit from '../views/plan/edit'\r\nimport FollowUpPlan from '../views/plan/followUp'\r\nimport MeasurementPlan from '../views/plan/measurement'\r\n/**\r\n * 医患沟通\r\n */\r\nimport Communicate from '../views/im/im'\r\n/**\r\n * crf录入\r\n */\r\nimport CRF from '../views/crf/crf'\r\nimport crfProcess from '../views/crf/process'\r\nimport crfEdit from '../views/crf/detail'\r\n\r\n/**\r\n * 用户中心\r\n */\r\nimport UserCenter from '../views/user/center'\r\nimport project from '../views/project/project'\r\n\r\n\r\nimport {\r\n  getLocal,\r\n  filteRouter\r\n} from '../utils/index';\r\n\r\nconst staticRoutes = [{\r\n  path: '/login',\r\n  component: Login,\r\n  menu: false\r\n}, {\r\n  path: '/signup',\r\n  component: Signup,\r\n  menu: false\r\n}, {\r\n  path: '/404',\r\n  component: NotFound,\r\n  menu: false\r\n}, {\r\n  path: '/project',\r\n  component: project,\r\n  menu: false\r\n}, {\r\n  path: '/',\r\n  component: Index,\r\n  key: 'index'\r\n}]\r\n\r\nconst asyncRoutes = [{\r\n  path: '/patient',\r\n  component: Patient,\r\n  menu: true,\r\n  key: 'patient_manage',\r\n  meta: {\r\n    title: '患者管理',\r\n    icon: 'team'\r\n  },\r\n  children: [{\r\n    path: '/patient/archives',\r\n    component: PatientArchives,\r\n    menu: false\r\n  }]\r\n}, {\r\n  path: '/plan',\r\n  component: Plan,\r\n  menu: true,\r\n  key: 'solution_manage',\r\n  meta: {\r\n    title: '方案管理',\r\n    icon: 'calendar'\r\n  },\r\n  children: [{\r\n    path: \"/plan/edit\",\r\n    component: PlanEdit,\r\n    key: \"planEdit\",\r\n    menu: false\r\n  }, {\r\n    path: \"/plan/followup\",\r\n    component: FollowUpPlan,\r\n    key: \"followup\",\r\n    menu: false\r\n  }, {\r\n    path: \"/plan/measurement\",\r\n    component: MeasurementPlan,\r\n    key: \"measurement\",\r\n    menu: false\r\n  }]\r\n}, {\r\n  path: '/chat',\r\n  component: Communicate,\r\n  menu: true,\r\n  key: 'patient_chat',\r\n  meta: {\r\n    title: '医患沟通',\r\n    icon: 'message'\r\n  }\r\n}, {\r\n  path: '/crf',\r\n  component: CRF,\r\n  menu: true,\r\n  key: 'crf_insert',\r\n  meta: {\r\n    title: 'CRF录入',\r\n    icon: 'form'\r\n  },\r\n  children: [\r\n    {\r\n      path: '/crf/patient',\r\n      component: crfProcess,\r\n      menu: false,\r\n      key: \"crf_insert\",\r\n      meta: {\r\n        title: \"患者crf\"\r\n      },\r\n      children: [\r\n        {\r\n          path: '/crf/patient/edit',\r\n          component: crfEdit,\r\n          menu: false,\r\n          key: \"crfEdit\",\r\n          meta: {\r\n            title: \"节点详情\"\r\n          },\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}, {\r\n  path: \"/user\",\r\n  component: UserCenter,\r\n  menu: true,\r\n  key: \"personal_center\",\r\n  meta: {\r\n    title: \"个人中心\",\r\n    icon: \"user\"\r\n  }\r\n}]\r\n\r\n\r\n// let menus = JSON.parse(getLocal('menus')) || []\r\n\r\n// let routes = []\r\n// let menukey = menus.map(item=>item.key)\r\n// for(let i in asyncRoutes){\r\n//   if(!asyncRoutes[i].menu){\r\n//     routes.push(asyncRoutes[i])\r\n//   }else{\r\n//     if(menukey.indexOf(asyncRoutes[i].key) >= 0){\r\n//       routes.push(asyncRoutes[i])\r\n//     }\r\n//   }\r\n// }\r\n\r\nlet routes = staticRoutes.concat(asyncRoutes)\r\n\r\nexport default routes;","import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\nimport {getCookie} from '../utils/index';\r\nimport store from '../redux/store'\r\nimport action from '../redux/actions'\r\n//不需要登录态的页面\r\nconst pageWithoutAnth = ['/login','/signup']\r\n\r\nconst  RouteWithSubRoutes = (route) =>  {\r\n  //根据路由切换菜单选中状态\r\n  store.dispatch(action.changeMenu(route.location.pathname))\r\n\r\n  let access_token = getCookie('accessToken');\r\n  if(pageWithoutAnth.indexOf(route.path) >= 0){\r\n    return (\r\n      <Route\r\n        path={route.path}\r\n        render={props => (\r\n          <route.component {...props} routes={route.children} />\r\n        )}\r\n      />\r\n    );\r\n  }else{\r\n    if(access_token){\r\n      return (\r\n        <Route\r\n          path={route.path}\r\n          render={props => (\r\n            <route.component {...props} routes={route.children} />\r\n          )}\r\n        />\r\n      );\r\n    }else{\r\n      // window.location.href = '/rpm/#/login'\r\n      return(<div></div>)\r\n    }\r\n  }\r\n}\r\n\r\nexport default RouteWithSubRoutes\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport {HashRouter as Router,Switch} from \"react-router-dom\";\r\nimport routes from './routes/index';\r\nimport RouteWithSubRoutes from './components/RouteWithSubRoutes.jsx'\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <Switch>\r\n          {routes.map((route, i) => <RouteWithSubRoutes key={i} {...route}/>)}\r\n        </Switch>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { LocaleProvider } from 'antd'\r\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\r\nimport { Provider } from 'react-redux'\r\nimport store from './redux/store'\r\n\r\nReactDOM.render(<Provider store={store}>\r\n    <LocaleProvider locale={zhCN}><App /></LocaleProvider>\r\n</Provider>, document.getElementById('root'));\r\n\r\n\r\n","/**\r\n * 强化CSII治疗情况\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button, Input, Table, DatePicker, Icon } from 'antd';\r\nimport { validDoubleNumber } from '../../utils/formValidate'\r\nimport moment from 'moment';\r\nconst FormItem = Form.Item;\r\nconst { RangePicker } = DatePicker;\r\n\r\nclass CSIITable extends Component {\r\n    render() {\r\n        let disabled = this.props.disabled;\r\n        let formData = this.props.data;\r\n        let tableData = formData.csiiRecordList || [];\r\n        tableData = tableData.map((item,index) => {\r\n            item.key = index;\r\n            return item;\r\n        })\r\n        const { getFieldDecorator } = this.props.form;\r\n        const date = [moment(formData.startDate), moment(formData.endDate)];\r\n        const tableHeader = () => (\r\n            <div>\r\n                <div>CSII使用情况（注：初始及调整剂量时填）</div>\r\n                <FormItem label=\"CSII治疗时间：\">\r\n                    {\r\n                        getFieldDecorator('date', {\r\n                            initialValue: date,\r\n                        })(\r\n                            <RangePicker onChange={(date) => this.props.handleChange(null, 'date', date)} />\r\n                        )\r\n                    }\r\n                </FormItem>\r\n            </div>\r\n        )\r\n\r\n        const renderContent = (text, row, index, type) => {\r\n            let proper = this.props.name ? (this.props.name + '_' + type + '_' + index) : (type + '_' + index)\r\n            let options = {}\r\n            if (text) {\r\n                options.initialValue = type == 'measurementDate' ? moment(text) : text\r\n            } else {\r\n                if(type != 'measurementDate'){\r\n                    options.initialValue = ''\r\n                }\r\n            }\r\n            if (type != 'measurementDate') {\r\n                options.rules = [{\r\n                    validator: validDoubleNumber\r\n                }]\r\n            }\r\n            if (type == 'opt') {\r\n                return <Button onClick={() => this.props.handleDelete(index)}>删除</Button>\r\n            } else {\r\n                return <FormItem>\r\n                    {\r\n                        getFieldDecorator(proper, options)(\r\n                            type == 'measurementDate' ? <DatePicker onChange={(date) => this.props.handleChange(index, type, date)} /> : <Input onChange={(event) => this.props.handleChange(index, type, event)} />\r\n                        )\r\n                    }\r\n                </FormItem>;\r\n            }\r\n\r\n        }\r\n        const columns = [{\r\n            title: \"日期\",\r\n            align: \"center\",\r\n            dataIndex: 'measurementDate',\r\n            key: 'measurementDate',\r\n            render: (text, row, index) => renderContent(text, row, index, 'measurementDate')\r\n        }, {\r\n            title: \"基础率\",\r\n            children: [{\r\n                title: \"分段（U/h）\",\r\n                align: \"center\",\r\n                dataIndex: 'basalSection',\r\n                key: 'basalSection',\r\n                render: (text, row, index) => renderContent(text, row, index, 'basalSection')\r\n            }, {\r\n                title: \"总量\",\r\n                align: \"center\",\r\n                dataIndex: 'basalSum',\r\n                key: 'basalSum',\r\n                render: (text, row, index) => renderContent(text, row, index, 'basalSum')\r\n            }]\r\n        }, {\r\n            title: \"餐前追加\",\r\n            children: [{\r\n                title: \"早\",\r\n                align: \"center\",\r\n                dataIndex: 'beforeMorn',\r\n                key: 'beforeMorn',\r\n                render: (text, row, index) => renderContent(text, row, index, 'beforeMorn')\r\n            }, {\r\n                title: \"中\",\r\n                align: \"center\",\r\n                dataIndex: 'beforeNoon',\r\n                key: 'beforeNoon',\r\n                render: (text, row, index) => renderContent(text, row, index, 'beforeNoon')\r\n            }, {\r\n                title: \"晚\",\r\n                align: \"center\",\r\n                dataIndex: 'beforeEven',\r\n                key: 'beforeEven',\r\n                render: (text, row, index) => renderContent(text, row, index, 'beforeEven')\r\n            }, {\r\n                title: \"总（U）\",\r\n                align: \"center\",\r\n                dataIndex: 'beforeSum',\r\n                key: 'beforeSum',\r\n                render: (text, row, index) => renderContent(text, row, index, 'beforeSum')\r\n            }]\r\n        }, {\r\n            title: \"操作\",\r\n            align: \"center\",\r\n            dataIndex: 'opt',\r\n            key: 'opt',\r\n            render: (text, row, index) => renderContent(text, row, index, 'opt')\r\n        }]\r\n        return (\r\n            <Table\r\n                pagination={false}\r\n                bordered\r\n                title={tableHeader}\r\n                dataSource={tableData}\r\n                columns={columns}\r\n                // rowKey='id'\r\n                footer={() => (<Button type=\"primary\" onClick={this.props.handleAdd}><Icon type=\"plus\" />增加一行</Button>)}\r\n            >\r\n            </Table>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CSIITable","/**\r\n * 强化CSII治疗情况\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Button } from 'antd';\r\nimport CSIITable from './15_form_table.jsx';\r\nconst FormItem = Form.Item;\r\n\r\nclass Module11 extends Component {\r\n    state = {\r\n        tableData: []\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.setState({\r\n            formData: JSON.parse(JSON.stringify(this.props.formData))\r\n        })\r\n    }\r\n\r\n    handleAdd = () => {\r\n        if (!this.state.formData.csiiRecordList) {\r\n            this.state.formData.csiiRecordList = [];\r\n        }\r\n        let csiiRecordList = this.state.formData.csiiRecordList.concat([{}])\r\n        this.setState({\r\n            formData: Object.assign({}, this.state.formData, { csiiRecordList })\r\n        })\r\n        this.props.setCanSave(true)\r\n    }\r\n\r\n    handleDelete = (index) => {\r\n        if (this.state.formData.csiiRecordList) {\r\n            this.state.formData.csiiRecordList.splice(index, 1)\r\n            this.setState({\r\n                formData: Object.assign({}, this.state.formData, { csiiRecordList: this.state.formData.csiiRecordList })\r\n            })\r\n            this.props.setCanSave(true)\r\n        }\r\n    }\r\n\r\n    handleChange = (index, type, e) => {\r\n        if (!this.state.formData.csiiRecordList || this.state.formData.csiiRecordList.length == 0) {\r\n            this.state.formData.csiiRecordList = [{}];\r\n        }\r\n        if (type == 'date') {\r\n            this.state.formData.startDate = e[0].format('YYYY-MM-DD');\r\n            this.state.formData.endDate = e[1].format('YYYY-MM-DD');\r\n        } else if (type == 'measurementDate') {\r\n            this.state.formData['csiiRecordList'][index][type] = e.valueOf()\r\n        } else {\r\n            this.state.formData['csiiRecordList'][index][type] = e.target.value\r\n        }\r\n    }\r\n\r\n    handleCancel() {\r\n        this.setState({\r\n            formData: JSON.parse(JSON.stringify(this.props.formData))\r\n        })\r\n        this.props.onCancel();\r\n    }\r\n\r\n    //提交数据\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (err) return;\r\n            //数据校验通过后，传递到上级提交\r\n            let {\r\n                csiiRecordList,\r\n                startDate,\r\n                endDate\r\n            } = this.state.formData\r\n\r\n            let data = {\r\n                csiiRecordList,\r\n                startDate,\r\n                endDate\r\n            }\r\n            this.props.onSubmit(data)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 2 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 20 },\r\n            },\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"title\">强化治疗CSII 使用情况</div>\r\n                <Form {...formItemLayout} onSubmit={this.handleSubmit.bind(this)}>\r\n                    <CSIITable data={this.state.formData} form={this.props.form} handleChange={this.handleChange} handleDelete={this.handleDelete} handleAdd={this.handleAdd}></CSIITable>\r\n                </Form>\r\n                {\r\n                    this.props.canSave ? <div className=\"btn-wrap\">\r\n                        <Button disabled={this.props.disabled} type=\"primary\" onClick={this.handleSubmit.bind(this)}>保存</Button>\r\n                        <Button onClick={this.props.onCancel}>取消</Button>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ThisForm = Form.create({\r\n    onValuesChange: (props, changedValues, allValues) => {\r\n        if (!props.canSave) {\r\n            props.setCanSave(true)\r\n        }\r\n    }\r\n})(Module11);\r\n\r\nexport default ThisForm"],"sourceRoot":""}